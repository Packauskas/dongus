QUASI-POLYNOMIAL GROWTH OF BETTI SEQUENCES OVER COMPLETE INTERSECTION RINGS
by
Nicholas Packauskas
A DISSERTATION
Presented to the Faculty of
The Graduate College at the University of Nebraska In Partial Fulfilment of Requirements
For the Degree of Doctor of Philosophy
Major: Mathematics
Under the Supervision of Professors Luchezar L. Avramov and Mark E. Walker
Lincoln, Nebraska July, 2019

QUASI-POLYNOMIAL GROWTH OF BETTI SEQUENCES OVER COMPLETE INTERSECTION RINGS
Nicholas Packauskas, Ph.D. University of Nebraska, 2019
Advisers: Luchezar L. Avramov and Mark E. Walker
This thesis is separated into 3 chapters. Chapter 1 is an introduction which provides standard definitions and notations that shall be used throughout the remainder of the document. In particular, it outlines the classical notions of complete intersection rings and Betti-sequences, as well as summarizes some related classical results and recent previous work done towards the main result of the thesis.
Chapter two formalizes the definition of an invariant, called the quadratic codimension of a commutative ring, which has appeared in the literature previously under various notations, but not this nomenclature. Here we investigate the behavior of this invariant and collect several results relating the invariant to other properties of commutative rings.
In Chapter three, homological methods are introduced, and the homological perspective through which the proof of the main result will take place is presented. In particular, we discuss the functorality of the homotopy Lie algebra π(R) of a commutative ring and the maps induced on these objects by homomorphisms of local rings. The chapter contains a proof of the existence of a graded subalgbera L of the Yoneda algebra Ext∗R (k, k) in a local commutative ring with finite global dimension and with the graded piece L1 of dimension related to quadratic codimension. The chapter closes with an application to Betti sequences over complete intersection rings; a new bound on the maximum degree of the difference of the polynomials governing the even and odd subsequences of the Betti sequence for every finitely generated module is presented.

l
DEDICATION
To my parents, my friends, and my cats.
iii

ACKNOWLEDGMENTS
I would first and foremost like to extend my extreme gratitude to my advisors, Professor Luchezar Avramov and Mark Walker. Lucho’s insight and teaching has been an inspiration to me, and he has taught me more than I could have imagined. Mark has been incredibly supportive, responsive, patient, and an excellent teacher throughout my studies. Our joint meetings have been thrilling, informative, fun, and inspirational. I hope to provide for future students as they have provided for me.
I would further like to thank the members of my supervisory committee, Tom Marley and Alexandra Seceleanu, and Elizabeth Theiss-Morse.
The commutative algebra faculty at UNL has been incredibly supportive and helpful. Throughout my years they have organized a multitude of lecture classes, reading courses, seminars, and social gatherings, without which would have been a much less stimulating experience. I would in particular like to thank Roger Weigand for interesting conversations and excellent social events, and Alessandro De Stefani for advice and guidance.
I would like to extend thanks to all of the graduate students at UNL, especially those in commutative algebra for being good friends and colleagues. I would specifically like to thank Josh Pollitz, Luigi Ferraro, Seth Lindokken, and Mohsen Gheibi with whom it was enjoyable to talk to about mathematics. Thank you also to the regular CARS attendees for listening to many of my presentations and giving me advice and feedback.
I extend my deepest gratitude to the commutative algebra community as a whole for everything they’ve done to inspire me to succeed. From all the excellent conferences I had the joy of attending, to the guidance and support structure they’ve provided, and opportunities to learn that have been presented to me. In particular, I’d like to thank Daniel Katz for influencing me to study commutative algebra in the first place, and Craig Huneke for his excellent teaching and support during my time at University of Kansas.
iv

v
My friends and family have given me a lot of support over the last few years, and without them I don’t think this thesis would have come to fruition. I’d like to specifically thank my great aunt Anna Poulos for believing in me, my friend Lucas Underwood for his uncanny ability to keep it positive , and my partner Caroline Matson for her love, insight and advice. I’d also like to thank my trivia team for helping me relax and have fun at least once a week.
Lastly, I would like to thank the Department of Mathematics at the University of Nebraska- Lincoln as a whole for creating such a supportive environment in which to learn and grow. In particular, I’d like to thank Allan Donsig and Susan Hermiller for their advice in teaching.

Table of Contents
1 Introduction 1
1.1 Preliminaries ................................... 3
1.2 CompleteIntersections .............................. 4
1.3 AssociatedGradedobjects............................ 5
1.4 FreeResolutionsandBettiNumbers ...................... 6
1.5 BettiSequences.................................. 6
2 Quadratic Codimension 10
2.1 Multiplicity .................................... 14 2.2 KoszulAlgebras.................................. 16
3 Homological Methods 19
3.1 YonedaAlgebras ................................. 19 3.2 HomotopyLieAlgebras.............................. 20 3.3 HomotopyLieAlgebrasoverCompleteIntersections . . . . . . . . . . . . . . 26 3.4 GrowthofBettiSequences............................ 28
Bibliography 35
vi

Chapter 1 Introduction
A ring, such as the integers, real numbers, functions, or the set of n × n matrices, is a form of algebraic structure that are ubiquitous across mathematics. These algebraic objects are sets in which one can add, subtract and multiply, but not necessarily divide the elements. In general, multiplication may not be commutative such as in the set of matrices. We call rings in which order of multiplication can be interchanged commutative rings and the study of such rings and the sets on which they act is called commutative algebra.
There is a hierarchy which classifies how well-behaved commutative rings are. The nicest of such are called fields, and these are precisely the commutative rings in which one can divide by every nonzero element. There are many different ways in which a ring can be well-behaved, and these properties can often be classified via different criteria. One way to study a ring is to look at the ideals of the ring; namely the subsets of the ring which are subgroups and absorb multiplication by ring elements. A main class of interest in commutative in commutative algebra are Noetherian rings, which are the rings for which every ideal is generated by a finite number of elements. This means one can find a finite set of elements in the ring in which every element of the ideal is a linear combination of these elements with coefficients in the ambient ring. Another important class of rings are local, this means that the ring has a unique proper ideal that is maximal with respect to set inclusion. This thesis is primarily about commutative Noetherian local rings.
1

2
Another way to study rings is, as opposed to observing the structure of the ring itself, to study the algebraic objects upon which it admits an action. These are called modules over the ring, and they themselves are closed under addition and scaling by elements of the ring. This is a ring-theoretic analog of a vector space over a field, as is studied in classical linear algebra. However, unlike in linear algebra, not every module over a ring admits a basis. However, there are a certain class of modules that do admit bases; these are called free modules. In fact, another way to classify whether or not a ring is a field is to classify its free modules. Namely, if every module over a commutative ring admits a basis, then that ring is necessarily a field.
If the ring admits a module M that is not free, we can measure how far away it is from being so. To accomplish this, we can map a free module surjectively to M by choosing a set of generators for M. This map will necessarily admit a non-zero kernel, called the first syzygy of M. If this syzygy is also not free, we may repeat the process, and the resulting kernel is called the second syzygy of M. We can iterated this process, (and in the case of finite generation, do so minimally) which may terminate or continue ad infinitum, resulting in a free resolution of M. This method of approximating an arbitrary module by free modules was introduced by Hilbert. In the 1890s he proved that for a polynomial ring in finitely many variables the process will always terminate; a result which is now referred to as the Hilbert Syzygy Theorem.
The types of (minimal) free resolutions that a ring admits can be used to classify the ring itself. In modern language, a local ring is called regular if every minimal free resolution of a finitely generated module eventually terminates. Examples of such rings are fields and power series rings over a field. If there is a single module for which the ring admits an infinite minimal free resolution, then the ring cannot be regular. However, one can study the types of infinite resolutions that may occur. One method of studying infinite free resolutions of finitely generated modules is to observe the sequence of the ranks of the free modules that

3
appear in the resolution, called the Betti sequence of a module. Specifically, one can study the growth of the Betti sequences of modules over a ring. If every Betti sequence displays polynomial growth, then the ring is called a complete intersection, which is in someways the most well-behaved class beyond regular rings. In particular, the completion of a complete intersection ring is isomorphic to a regular ring factored out by a regular sequence of elements, called its Cohen presentation.
This thesis is about relating the types of growth over complete intersection rings to the types of elements which appear in its Cohen presentation. Although the growth of every Betti sequence of a module over a complete intersection ring is on the order of a polynomial, it is, in general, eventually a quasi-polynomial of period two. This means that, after a certain point, there is a specific polynomial which gives the sequence of even entries in the Betti sequence and another polynomial governing the odd entries. This thesis will put a global bound on how similar these two polynomials are forced to be based upon an invariant of the complete intersection, which is related to the elements in the Cohen presentation.
1.1 Preliminaries
The goal of this thesis will be to analyze the types of growth of Betti sequences that can occur for every module over specific classes of local or graded rings. We begin by setting notation and recalling some standard definitions which will be relevant to our cause. By (R, m, k) we denote a local commutative Noetherian ring with unique maximal ideal m and residue field k = R/m. Recall that the m-adic completion of R, denoted R􏰊, is defined by lim R/mi.
←−
For a field k, a k-vector space V is graded if there is a decomposition V = 􏰅i∈Z Vi where
each Vi is a vector space over k. If V is a graded k-vector space such that dimk Vi < ∞ for each i and Vi = 0 for i ≪ 0, we denote its Hilbert Series by HV (t) = 􏰆i∈Z dimk Viti ∈ Z􏰍t􏰎[t−1]. A k-algebra A is called standard graded over k if A = 􏰅∞i=0 Ai, AiAj ⊆ Ai+j, k = A0,

4
dimk Ai < ∞ and A is generated by A1 as a k-algebra. The homogeneous maximal ideal of a standard graded k algebra A is A+ = 􏰅i>0 Ai.
We will refer to the following invariants of local or graded rings frequently throughout the thesis.
Definition 1.1.1. Let R be a local (or graded) ring with (homogenous) maximal ideal m, and set k = R/m. The embedding dimension of R, denoted edim R, is the minimal number of generators of m, or, equivalently, edimR := dimk m/m2. The codimension of R, denoted cdim R, is defined as dimk m/m2 − dim R = edim R − dim R where dim R is the Krull dimension of R.
It is often useful to view these invariants as the size of ideals in an ambient regular local ring of which R is a quotient, which we now make precise.
Definition 1.1.2. Let (R, m, k) be a local ring. A minimal Cohen presentation of R is an isomorphism R􏰊 ∼= Q/I where (Q, n, k) is a regular local ring and I ⊆ n2.
Minimal Cohen presentations exist by the Cohen Structure Theorem (see, for example, [8, Sec. 17.4]). This presentation is minimal in the sense that Q is a regular local ring with smallest possible embedding dimension for which R􏰊 can be a quotient. A local ring R and its completion R􏰊 have the same Krull dimension, embedding dimension and codimension. Thus, in particular, the condition I ⊆ n2 guarantees that edim R = dimk m/m2 = dimk n/n2 = edim Q = dim Q. The last equality is because Q is regular. Further we have cdim R = dim Q − dim R.
1.2 Complete Intersections
Let R be a local or graded ring. Recall that for an R-module M, f1,...,fr ∈ R form a M-regular sequence (or a regular sequence on M) if f1 is a nonzero divisor on M, fi is a nonzero divsor on M/(f1,...,fi−1)M for 2 ≤ i ≤ c, and (f1,...,fc)M ̸= M.

5 Definition 1.2.1. A local ring (R, m, k) is a complete intersection if R􏰊 ∼= Q/I, where Q
is a regular local ring and I is generated by a regular sequence in Q.
Definition 1.2.2. A standard graded k algebra A is called a graded complete intersection if A ∼= P/I, where P a polynomial ring in dimk A1 many elements and I is generated by a homogeneous regular sequence of elements in P .
In a local or graded complete intersection, the defining ideal is minimally generated by a regular sequence of length equal to its codimension.
1.3 Associated Graded objects
We can pass from the local to the graded setting using the following construction.
Definition 1.3.1. Given a ring R and an ideal I ⊆ R, the associated graded ring of R with respect to I is the graded ring grI R := 􏰅n≥0 Ii/Ii+1. If (R, m, k) is local, we denote grmR simply as gr R.
Notethatifx∈Ii/Ii+i andy∈Ij/Ij+1,wemaylifttheseelementstox∈Ii andy∈Ij so that xy ∈ Ii+j, and define x · y ∈ Ii+j/Ii+j+1 to be the image of xy which is well-defined modulo Ii+j+1.
i i+1∼i i+1
The ring gr R is a standard graded k-algebra. Note that as m /m = m􏰊 /m􏰊 , there is
a k-algebra isomorphism gr R ∼= gr R􏰊.
Definition 1.3.2. Let f ∈ R be a nonzero element and let n = sup{i : f ∈ mi}. Then the inital form of f, denoted f∗, is defined to be the image of f in mn/mn+1 which is nonzero. By convention, we define 0∗ to be the zero element of gr R. Note that f∗ is a homogeneous element of gr R. By the initial ideal of an ideal I, we mean I∗ := (f∗ : f ∈ I), which is a homogeneous ideal in gr R.
    
6
1.4 Free Resolutions and Betti Numbers
Definition 1.4.1. Let (R, m, k) be a regular ring and M a finitely generated R module. A
free resolution of M over R is a complex
∂i ∂2∂1
F• :···→Fi −→···→F2 −→F1 −→F0 →0
where each Fi is a finitely generated free module over R, H0(F•) ∼= M, and Hi(F•) = 0 for
i > 0. In addition, F• is called minimal if ∂i(Fi) ⊆ mFi−1 for each i ≥ 1.
Upon choosing a basis for each Fi and viewing each ∂i as a matrix with entries in R, we have F• is minimal if and only if the entries in each ∂i are elements of m, and minimal free resolutions are unique up to isomorphismof complexes. Note that, for a finitely generated module M, ExtiR (M,k) := Hi(HomR(F•,k)) is finite dimensional vector space over k.
Definition 1.4.2. For a finitely generated R-module M, the ith Betti number of M over R is βiR(M) := dimk ExtiR (M, k). The Poincar ́e series PMR (t) of M over R is the generating function of the sequence of Betti numbers; that is
PMR(t) := 􏰈βiR(M)ti. i≥0
If F• is a minimal free resolution of M, then βiR(M) = rankRFi. Thus, since R􏰊 is flat over 􏰋􏰊
R, if F• is a minimal free resolution of M, then F• := F• ⊗R R is a minimal free resolution of 􏰋􏰊ii􏰋
M over R, and βR(M) = βR􏰊(M). 1.5 Betti Sequences
By the process of adjoining variables, one can form an R-free resolution of k (and in fact, any finite generated R-module) that is a DG-algebra over R, (see, for instance, [5, Chapter 6]).

7 When (R, m, k) is a local complete intersection ring, Tate [17] uses the process to construct a
minimal free resolution k over R and proves the following.
Theorem 1.5.1. [17, Thm. 6] Suppose R is a local complete intersection ring of embedding
dimension e and codimension c. Then
R (1+t)e (1+t)e−c
An application of the method of partial fraction decomposition on the above formula shows that there is a polynomial bk(n) ∈ Q[n] such that βnR(k) = bk(n) for n ≫ 0. Gulliksen extended and modified the result for finitely generated modules, we present a special case of [10, Cor. 4.1].
Theorem 1.5.2. [10, Cor. 4.1] Let R be a complete intersection ring of codimension c, and M a finitely generated R-module. Then there exists hM (t) ∈ Z[t] such that
P MR ( t ) = h M ( t ) . (1 − t2)c
Once again using partial fraction decomposition, one finds that there are polynomials pM+,pM− ∈Q[x]suchthatforn≫0

pM+ (n) n is even
β nR ( M ) =
pM− (n) n is odd.
Thus, the Betti numbers of any finitely generated M over a complete intersection ring display quasi-polynomial growth. Notice that in Tate’s result, we see that the Betti numbers of k are eventually given by a polynomial, and one can reduce the denominator of the rational Poincar ́e series to eliminate all factors of 1 + t. There is a relationship between the order of
Pk (t)= (1−t2)c = (1−t)c .
   
8
the pole of at t = 1 and the similarity of pM− and pM+ , which is made precise in the following proposition:
Proposition 1.5.3. Let R be a local ring and suppose that, for some finitely generated R-module M, we have
P MR ( t ) = h ( t ) (1−t)c(1+t)b
with b≤c and h(t)∈Q(t). Then deg(pM+ −pM− )<b. Here, deg(0)=−∞.
Proof. Ifc=0,thenb=0,andpM− =pM+ =0andthestatementholds. Assumec>0. Using
the method of partial fraction decomposition, we have PMR (t) = l(t) + m(t)
   (1−t)c (1+t)b
Now, for large n, the nth term of the power series representation of 1 has coefficient
 (1−t)c (n+1)(n+2)...(n+c−1)/(c−1)!, a polynomial in n of degree c−1. Multiplying by l(t)
sums finitely shifted copies of this power series, hence for large n the coefficient of tn in l(t) (1−t)c
is also a polynomial gM (n) in n of degree at most c − 1.
Now, if b = 0, then pM− = pM+ = gM and the statement holds. Suppose b ≥ 1. Then the
coefficient of the nth term of the power series expansion of 1 is (−1)n+b−1(n + 1) . . . (n + (1+t)b
b − 1)/(b − 1)!, which depends on the parity of n. However, the even and the odd terms are each given by a polynomial in n of degree at most b − 1. Once again, multiplying by m(t) doesn’t affect the degree of these polynomials, hence we get two polynomials h+(t) and h−(t) of degree at most b − 1, one giving the even coefficients and one giving the odd coefficients. Thus we have pM+ (t) = gM (t) + h+(t) and pM− (t) = gM (t) + h−(t) so that
deg(pM+ −pM− )=deg(gM(t)+h+(t)−(gM(t)+h−(t))=deg(h+(t)−h−(t))≤b−1.
  
9
The main result of this thesis addresses the similarity of pM− and pM+ , though much work precedes what is shown in Chapter 3. Avramov [2] showed that, for any finitely generated module M , pM− and pM+ have the same leading term, whose degree is bounded above by c − 1. Later, Avramov [4] showed that a sufficient condition for the equality of pM+ and pM− is that gr R is a graded complete intersection of quadrics. More recently, Avramov, Seceleanu and Yang [3] proved a result concerning the equality of the two polynomials in the form of the following theorem.
Theorem 1.5.4. [3, 4.2] Assume that R is a complete intersection of codimension c ≥ 0. All finite R-modules have eventually polynomial Betti sequences (i.e. pM− = pM+ for all M) if
gr R ∼= P/(g1,...,gc) with degg1 = degg2 = ...deggc−1 = 2 ≤ deggc. where g1,...,gc is a regular sequence in P.
The converse is true for codimension at most three, and is open in general. at In this thesis, we investigate how the number of quadratic relations in a complete intersection ring affects the similarity of pM− and pM+ . In particular, we put a new global bound on the degree of pM− − pM+ for complete intersection rings of arbitrary codimension which is based on the quadratic codimension, introduced in the next chapter.
 
Chapter 2
Quadratic Codimension
Let (R, m, k) denote a local commutative Noetherian ring R with maximal ideal m and residue field k. We first recall the definitions of some relevant invariants which are intrinsic to R.
In the case that R is a (graded) complete intersection with presentation R ∼= P/I, the codimension of R is precisely the minimal number of generators of I. We wish to describe an invariant that encapsulates the size of the “quadratic part” of I. In the graded case this is straightforward, this invariant is dim I2 as an P0 module, i.e. the dimension of the quadratic part of I in P, and if R is a complete intersection this is precisely the number of minimal homogeneous generators of I that are quadratic forms.
To generalize this definition to the case where R is local, we use a certain symmetric algebra. We note that Sk•(m/m2) ∼= k[x1, . . . , xe] the symmetric algebra of the vector space m/m2 over k where e = edimR. Then there is a map μ : Sk2(m/m2) → m2/m3 given by multiplication.
Definition 2.0.1. Let (R,m,k) be a local ring. Let P = Sk•(m/m2). Let μ : Sk2(m/m2) → m2/m3 be the multiplication map, and set J2􏰏 := kerμ. Let J􏰏 be the ideal generated by J2􏰏 in P, and set R􏰏 := P/J􏰏. Then the quadratic codimension of R, denoted qdimR, is the codimension of R􏰏, which is the height of J􏰏 in P.
10

11
Note that qdim R is indeed an invariant of R, as it only depends on the symmetric algebra and multiplication map which are isomorphism invariant. There is an alternative way to view this invariant using a minimal Cohen presentation.
Proposition 2.0.2. Let (R, m, k) be a local ring with minimal Cohen presentation R􏰊 ∼= Q/I where (Q,n,k) is a local ring with I ⊆ n2. Set I2􏰏 to be the image of I in n2/n3, and I􏰏 to be the ideal generated by I2􏰏 in gr Q. Then R􏰏 ∼= gr Q/I􏰏, and qdim R = ht I􏰏.
Proof. Let e = edim R. Since Q is a regular local ring,
Thus there is a map
gr Q ∼= Sk•(n/n2) ∼= Sk•(m/m2).
23∼2323 π:(grQ)2 →(n /I)/(n /I)=m􏰊 /m􏰊 =m /m
given by multiplication. The kernel of this map are the degree 2 forms of gr Q which are initial forms of elements in I, which is exacty I2􏰏. Under the isomorphism gr Q ∼= Sk•(m/m2), we have I2􏰏 = kerπ ∼= kerμ = J2􏰏 following the notation in Definition 2.0.1. Thus the isomorphism gr Q → Sk•(m/m2) maps I􏰏 bijectively onto J􏰏, hence R􏰏 ∼= (gr Q)/I􏰏. As height is isomorphism invariant, qdim R = ht I􏰏.
Lemma 2.0.3. Let R be a local ring with minimal Cohen presentation R􏰊 ∼= Q/I and let f1, . . . , fc minimally generate I. Then I􏰏 = ({fi∗ : fi ̸∈ n3}), and hence μgr Q(I􏰏) ≤ μQ(I). In particular, if R is a complete intersection, then qdim R ≤ cdim R.
Proof.BydefinitionI􏰏 =(f∗ :f∈I\n3). LetginI􏰏 withg∈I\n3. Wecanwrite
  
g = 􏰆ci=1 aifi. Thus
g∗ =􏰈(aifi +n3)= 􏰈 (aifi +n3)= 􏰈 (aifi)∗.
i=1 i=1 i=1 ai fi ̸∈n3 ai fi ̸∈n3
ccc
Now,sincefi ∈n2 foreachi,wehaveaifi ̸∈n3 ifandonlyifai ̸∈nandfi ̸∈n2. Inthiscase
(aifi)∗ = a∗i fi∗. Therefore
c
g ∗ = 􏰈 a ∗i f i ∗ .
i=1, ai ̸∈n, fi ̸∈n3
Each g∗ belongs to ({fi∗ : fi ̸∈ n3}). Thus I􏰏 ⊆ ({fi∗ : fi ̸∈ n3}). However, the other containment is evident, so we have equality. As I􏰏 is generated by at most c elements, we have qdim R ≤ c.
For the last statement, we note that if R is a complete intersection, then cdim R = c.
Example 2.0.4. Let R = k􏰍x, y􏰎/(xy, x2 + y3), which is a complete intersection. Then cdim R = ht(xy, x2 + y3) = 2. However, I􏰏 = (xy, x2), which has height 1 in gr Q ∼= k[x, y]. Thus, qdimR = 1, yet cdimR = 2.
Quadratic codimension behaves well when factoring out by general elements. Given a complete intersection ring of positive dimension and infinite residue field, one can find an Artinian quotient of R with the same quadratic codimension as the following two lemmas show.
Lemma 2.0.5. Let (R,m,k) be a local ring with R ∼= Q/I where (Q,n) is a regular local ring. If |k| > ∞, depth(R) > 0, and μ(I) < edim Q, then there exists an element z ∈ n \ n2 such that the following hold:
1. z is a non-zerodivisor on R and
12
      
13 2. the element z∗ := z + n2 in gr Q is not contained in any minimal prime over the ideal
I􏰏 ⊆ gr Q.
Proof. Since R has positive depth, n is not in an associated prime of I. Let AssQ(I) :=
{p1, . . . , pn}. Then, using prime avoidance, we have (pi + n2)/n2 is a proper k-subspace 2 􏰇n pi+n2 2
ofn/n foreachi=1,...,n. Now,askisaninfinitefield, i=1 n2 􏰌n/n. SetU:= n \ 􏰃􏰇n pi+n2 􏰄. Then U is a non-empty Zariski-open subset of Spec gr Q = Spec S•(n/n2).
   n2 i=1 n2
Further, if z ∈ U, then
k
 􏰉n i=1
is a non-zero divisor on R.
Now, let Mingr Q(I􏰏) = {q1,...,qr}. Since I􏰏 is homogeneous, so is each qj. Let (gr Q)+
denote the homogeneous maximal ideal of gr Q. Suppose that qj = (gr Q)+ for some j. Then
qi ⊆ qj for all i, hence the only associated prime of I􏰏 is (gr Q)+. However, by Krull’s Height
Theorem this means that I 􏰏 is minimally generated by at least edim gr Q = edim Q elements.
However, by Lemma 2.0.3, μgrQ(I􏰏) ≤ μQ(I) < edimQ, which is a contradiction. Hence
qi 􏰌 (gr Q)+ for all i. Thus, using prime avoidance, qi ∩ n/n2 is a proper subspace of n/n2
foralli,andaskisinfinite,􏰇r (q ∩n/n2)􏰌n/n2. SetV := n \(􏰇r (q ∩n/n2)). Then i=1 i n2 i=1 i
V is a nonempty Zariski open subset of Spec gr Q. Now if z∗ ∈ V , then
rr
z∗ ̸∈ 􏰉(qi ∩ n/n2) =⇒ z∗ ̸∈ 􏰉 qi.
i=1 i=1
Thus, as U, V are nonempty, there exists z such that z∗ ∈ U ∩ V , which satisfies both desired conditions.
Lemma 2.0.6. For a complete intersection ring R with an infinite residue field there exists an Artinian quotient R of R􏰊 by a regular sequence such that cdim R = cdim R and qdim R =
􏰉n p i + n 2 z ̸∈ n2
=⇒ z ̸∈
pi
  i=1
where z ∈ n is any lift of z. Thus z is not in any associated prime of I, which implies that z
      
qdim R.
14
 Proof. If depth(R) = 0, then R is Artinian to begin with, so take R = R􏰊. Suppose depth(R) ≥ 1. Let Q, R, z as in Lemma 2.0.5, and set R = Q/(I, z). Note that as z ∈ n \ n2 is a nonzero divisor, edimR = edimR−1 and dim(R) = dim(R)−1, hence cdimR = cdimR. Next, set Q = Q/(z), so that Q is a regular local ring and I = (I,z)/(z) ⊆ Q. Hence I ⊆ (n/(z))2 so that R ∼= Q/I is a minimal Cohen presentation of R. Set gr Q = P, and P = P/(z∗), which is isomorphic to gr Q. The surjection π : P → P is such that π(I2􏰏) ⊇ I􏰏2 , thus π(I􏰏) ⊇ I􏰏, thus, the induced map π ̃ : R􏰏 → R􏰏 is a surjection. The kernel of this map is generated by z ̃, the image of z∗ in R􏰏, that is, R􏰏/(z ̃) ∼= (R)􏰏. However, this element is not contained in any of the minimal primes of R􏰏, so we have dim P = dim P − 1, and dim R􏰏 = dim R􏰏 − 1. Thus
cdimR􏰏 =dimP −dimR􏰏 =dimP −1−(dimR􏰏 −1)=cdimR􏰏,
hence qdim R = qdim R. Iteration of this process yields a quotient of R of depth 0, and since R and each successive quotient thereof is a complete intersection and therefore Cohen-Macaulay, the process terminates with an Artinian ring.
We will see in section that quadratic codimension in a complete intersection ring affects the possible behavior in the growth of Betti sequences over finitely generated modules.
2.1 Multiplicity
We next want to relate quadratic codimension to a well-studied invariant for local rings, called
its multiplicity and denoted e(R). Recall that for a finitely generated R-module M setting
gr M = 􏰅 mnM yields a graded module over gr R. Now, as gr R is a standard graded n∈Z mn+1M
k-algebra and gr M is generated in degree 0, there are polynomials hRM (t), hRM (t) ∈ Z[t] with
                             
hRM (1) ̸= 0, such that the Hilbert series for gr M can be written Hgr M(t) = hRM(t) = hRM(t) .
15
    (1 − t)dim(R) (1 − t)dim(M )
Definition 2.1.1. Let (R, m, k) be a local ring and M a finitely generate R-module. Then
the multiplicity of M is hRM(1) and is denoted by e(M). Note that gr R ∼= gr R􏰊 implies that e(R) = e(R􏰊).
Proposition 2.1.2. [7, VIII.7, Prop 4] Let (Q, n, k) be a local and f1, . . . , fc elements of Q withfi ∈ndi \ndi−1 forintegersd1,...,dc. Iff1,...,fc arepartofasystemofparameters for Q, then
e(Q/(f1,...,fc)) ≥ d1 ···dce(Q). (2.1) This is an equality if f1∗, . . . , fc∗ form a regular sequence in gr Q.
Corollary 2.1.3. If R is a complete intersection of codimension c, then e(R) ≥ 2c.
Proof. Apply Proposition 2.1.2 to a complete intersection R with minimal Cohen presentation R􏰊 = Q/(f1,...,fc). We have that each fi ∈ n2, hence di ≥ 2 for each i. Further, Q is regular, so e(Q) = 1 which implies e(R) = e(R􏰊) ≥ 2c.
Definition 2.1.4. A complete intersection R is said to be of minimal multiplicity if e(R) = 2cdim R.
What follows are a pair of results relating multiplicity and associated graded rings which will be useful going forward.
Proposition 2.1.5. (Valabrega-Valla [19, 2.7 and 1.1]) Let R and Q be local rings with R = Q/(f1,...,fc). Then f1∗,...,fc∗ is a regular sequence in gr Q if and only if f1,...,fc is a regular sequence in Q and gr R ∼= gr Q/(f1∗,...,fc∗).
  
16
Proposition 2.1.6. (Rossi-Valla [15, 1.8]) Let (Q,n,k) be a local ring, with gr Q Cohen- Macaulay, and let f1, . . . , fc ∈ Q be a regular sequence. Let di be positive integers so that deg(fi∗) ≥ di for each i. The following are equivalent:
1. e(Q/(f1,...,fc)) = d1d2 ···dce(Q)
2. f1∗,...,fc∗ is a regular sequence in gr Q and deg(fi∗) = di for each i.
2.2 Koszul Algebras
Definition 2.2.1. Let A be a standard graded k-algebra. An A-module M is called Koszul
if M has a linear resolution over A, that is, there exists an exact sequence
···→A(−i)βi →···→A(−2)β2 →A(−1)β1 →Aβ0 →M →0.
We say that A is a Koszul algebra if k is a Koszul A-module. If (R, m, k) is a local ring, then a finitely generated R-module M is Koszul if gr M has a linear resolution over gr R. We say that R is a Koszul ring if k is a Koszul R-module.
Herzog and Iyengar [12, 1.5] show that if M is Koszul over a ring R, then
PMR (t) = hRM (−t) . (2.2) hR (−t)
The following theorem and its proof is a rephrasing of 2.7 in [3].
Theorem 2.2.2. (Avramov-Seceleanu-Yang) Let (R,m,k) be a local ring. The following are
equivalent:
(i) R is a complete intersection and qdim R = cdim R.
(ii) R is a complete intersection of minimal multiplicity.
 
(iii) R is a complete intersection and is Koszul.
(iv) R is a complete intersection and gr R ∼= R􏰏 as graded k-algebras.
(v) gr R is a graded complete intersection of quadrics with cdim R∗ = cdim R.
Proof. We may assume R is complete. Let R ∼= Q/I be a minimal Cohen presentation with (Q, n, k) a regular local ring and f1, . . . , fc be a minimal generating set for I.
(i) =⇒ (v): We have c = cdimR and that the height of I􏰏 is c, so it must be generated by at
least c elements. By Lemma 2.0.3, I􏰏 = ({fi : fi ∈ m2 \ m3}). Thus each fi belongs to n2 \ n3. Now, as this ideal is generated by exactly c elements, and gr Q is a polynomial ring and hence Cohen-Macaulay, f1∗,...,fc∗ form a regular sequence of quadrics. Now, Proposition 2.1.5 implies gr R ∼= gr Q/(f1∗, . . . , fc∗), so R∗ is a graded complete intersection of codimension c. (v) =⇒ (iii): R∗ has codimension c, so we can pick g1,...,gc ∈ I so that g1∗,...,gc∗ minimally generate I∗. As gr Q/I∗ = gr R, by assumption g1∗, . . . , gc∗ is a regular sequence of quadrics in gr Q. By Proposition 2.1.5, g1,...,gc is a regular sequence and I = (g1,...,gb), so that R is a complete intersection. Applying the construction of a minimal free resolution due to Tate [17] to a graded complete intersection of quadrics yields a linear minimal graded free resolution of k, implying that R is Koszul.
(iii) =⇒ (ii): If R is Koszul, then by (2.2), PR(t) = hRk (−t) = (1−t)dim(R) k hR(−t) hR(−t)
we find
1 (1+t)c HR(t) = PkR(−t) = (1 − t)dim(R) .
ThushR(t)=(1+t)c,soevaluatingatt=1givese(R)=2c .
(ii) =⇒ (v): We have e(R) = 2c and the f1,...,fc are regular by assumption. Thus by
Proposition 2.1.6, and Proposition 2.1.5, the elements f1∗, . . . , fc∗ are a regular sequence in (gr Q)2, hence gr R is a graded complete intersection of quadrics of codimension c.
(v) =⇒ (iv): WehaveI∗ =I􏰏,sogrR=R􏰏,andtheproofaboveof(v) =⇒ (iii)shows
as HR(t) = 1. Thus k
17
    
that R is a complete intersection.
(iv) =⇒ (i): Note that dimgr R = dimR, so we have
qdimR=cdimR􏰏 =cdimgrR=edimgrR−dim(grR)=edimR−dim(R)=cdimR.
18
 
Chapter 3 Homological Methods
3.1 Yoneda Algebras
Let (R, m, k) be a local ring and F• be a free resolution of k over R. Then HomR(F•, F•) is an as- sociative DG-R-algebra under composition. Passing to cohomology, we have H∗(HomR(F•, F•)) ∼= Ext∗R (k, k) is an associative graded R-algebra with product induced by composition. For an R-module M, HomR(M, F•) is a left HomR(F•, F•)-module via post-composition. Thus passing to cohomology, we have that Ext∗R (M, k) is a graded left Ext∗R (k, k)-module.
Proposition 3.1.1. Let (R, m, k) be a local ring, and R􏰊 the m-adic completion of R. Then Ext∗R (k, k) ∼= Ext∗􏰊 (k, k) as associative graded k-algebras.
R
Proof. Let F• be a minimal free resolution of k over R. Then F• = F• ⊗R R is a minimal free
resolution of k over R􏰊. Notice that the cohomology of HomR(F•, F•) is a finite dimensional k-
vector space and hence already complete. Thus, there is a quasi-isomorphism HomR(F•, F•) →
Hom (F􏰋, F􏰋) given by extension of scalars, using Hom (F􏰋, F􏰋) ∼= Hom (F , F ) ⊗ R􏰊. Since R􏰊 • • R􏰊 • • R • • R
this is functorial, it is a map of algebras. As the map is a quasi-isomorphism, we have the result.
Proposition 3.1.2. Let (R,m,k) be a complete intersection ring with cdimR = qdimR.
􏰋􏰊
19
 
Then
Ext∗Ext∗R(k,k) (k, k) ∼= gr R.
Proof. By Proposition 2.2.2, R (and hence gr R) is Koszul. By Proposition 1.5 in [12], we
have Ext∗R (k, k) ∼= Ext∗gr R (k, k). Classical Koszul duality then gives the result. 3.2 Homotopy Lie Algebras
The Yoneda algebra Ext∗R (k, k) is a Hopf Algebra, and as such it is the universal enveloping algebra of a graded Lie algebra by Milnor-Moore [14] in characteristic 0, Andr ́e [1] in characteristic p ̸= 2, and Sj ̈odin [16] in the remaining case (with minor adjustments). This graded Lie algebra is called the homotopy Lie algebra of R, denoted π∗(R). Thus, we write Ext∗R (k,k) ∼= U(π∗(R)). Recall the definition of a graded Lie algebra and some basic facts. For a more complete discussion, see [5, Ch. 10].
Definition 3.2.1. A graded Lie algebra over k is a graded k-module g = {gn}{n∈Z} equipped with a k-bilinear pairing
[, ]:gi×gj →gi+j fori,j∈Z, (θ,ξ)􏰀→[θ,ξ] and a reduced square
g2h+1 →g4h+2 forh∈Z, υ􏰀→υ[2] such that for θ, ξ, ζ, υ, ω ∈ g the following conditions hold:
1. [θ,ξ]=−(−1)|θ||ξ|[ξ,θ], and [θ,θ] = 0 for θ ∈ geven.
20
 
2. [θ,[ξ,ζ]]=[[θ,ξ],ζ]+(−1)|θ||ξ|[ξ,[θ,ζ]] and [ξ,[ξ,ξ]] = 0 for ξ ∈ godd.
3. (υ+ω)[2] =υ[2] +ω[2] +[υ,ω]forυ,ω∈godd with|υ|=|ω|.
4. (aυ)[2] =a2υ[2] fora∈kandυ∈godd.
5. [υ[2],θ] = [υ,[υ,θ]] for υ ∈ godd and θ ∈ g.
The second line of (1) and the second line of (2) are only necessary in characteristic 2 and 3 respectively. If the characteristic of k is not 2, then υ[2] = 1 [υ, υ], and (3)-(5) follow
2
from (1) and (2). Any graded associative algebra A has the structure of a graded Lie algebra
by setting the bracket to be the graded commutator, that is [a, b] = ab − (−1)|a||b|ba and
defining a[2] = a2. A graded Lie subalgebra is a subset of a lie algebra which is closed under
the bracket and reduced square. To every graded Lie algebra g one can associate a graded
associative algebra, U(g) called its universal enveloping algebra Let g be a graded Lie algebra
suchthatgn =0forn<0. Let{θi}i∈N beatotalorderingofabasisofgwith|θi|≤|θj|for
i < j. Let (i1,i2,...) be an indexing sequence of integers, with ij ≤ 1 if |θj| is odd and ij = 0
for j ≫ 0. Then one can form a normal monomial in U(g) from I via θI = θip ...θi1. One p1
consequence of the Poincar ́e-Birkhoff-Witt theorem (see [5, 10.1.3] or [16]) is that a k-basis for U(g) is given by the set of normal monomials.
In defining π∗(R), we follow the lead of Avramov-Yang [6, Sec. 2]. For a complete discussion, see Gulliksen-Levin [11, Ch. 2 and 3] and Milnor-Moore[14]. Let (R, m, k) be a local ring. First we note that Tate [17] showed that there is a free resolution X of k over R which is a differential graded R-algebra. As TorR∗ (k,k) ∼= H(X ⊗R k), it is canonically a graded k-algebra with divided powers defined for elements of positive even degree. ([11, 2.3.4]). For each i ∈ Z, define π∗(R) to be the quotient of TorR∗ (k, k) by its decomposable elements D, the k-subspace generated by elements of the form xy and z(n) where x and y have
21
 
22
positive degree and z has positive even degree with n ≥ 2. Note that since the assignment R 􏰀→ TorR∗ (k, k) is covariant, the functor R 􏰀→ π∗(R) from the category of local rings to the category of graded vector spaces over k.
There is a canonical isomorphism ExtiR (k, k) ∼= Homk(TorRi (k, k) , k). Set π∗(R) to be the graded k-space HomR(πi(R), k), which is a graded subspace of Ext∗R (k, k) under the canonical identification above. Under this identification, π∗(R) is closed under commutation of its elements and the squares of all odd elements, so that π∗(R) is a graded Lie algebra over k, and Ext∗R (k,k) ∼= U(π∗(R)) (see [16]).
There is a canonical isomorphism of vector spaces
HomR(m/m2, k) ∼= π1(R),
and if R ∼= P/I where (P, n) is a regular local ring and I ⊆ n2, there is an isomorphism
Homk(I/nI, k) ∼= π2(R).
As π∗(R) is the k-dual of π∗(R), the assignment R 􏰀→ π∗(R) is a contravariant functor from the category of local rings with residue field k to the category of graded Lie algebras over k.
Let R ∼= Q/J where (Q, n, k) is a (not necessarily regular) local ring and J is generated by a regular sequence (not necessarily in n2). Let ψ : Q → R be the canonical projection and πψ the induced map π∗(Q) → π∗(R). It is shown in the proof of [11, 3.4.1] that πiψ is bijective for i ≥ 3 and that there is a natural sequence of k-vector spaces
π2ψ α β πψ
0 → π2(Q) −→ π2(R) −→ J/nJ →− π1(Q) −→ π1(R) → 0. (3.1)
Lemma 3.2.2. Let (Q, n, k) be a local ring, and set R = Q/(h) where h ∈ n is a nonzerodi-

visor on Q.
1. If h belongs to n \ n2, then π∗(R) injects into π∗(Q) and

dimk πi(Q) − 1
i = 1 i ̸= 1.
i = 2 i ̸= 2.
dimk πi(R) =
2. If h belongs to n2 then π∗(R) surjects onto π∗(Q) and
dimk πi(Q) + 1 dimk πi(Q)
Proof. Let ψ : Q → R be the canonical projection.
dimk πi(R) =
dimk πi(Q) 
1. We have π1(Q) ∼= n/n2, and π1(R) = m/m2 = n/((h) + n2). As h is not an element of n2, the induced map π1ψ has nonzero kernel. However, this kernel is a subspace of (h)/n(h) and dimk(h)/(h)n = 1, thus turning to the sequence (3.1), we see that kerπ1ψ = (h)/n(h), α = 0. This simultaneously shows that π2(Q) → π2(R) is an isomorphism and dimk π1(R) = dimk π1(Q) − 1. Taking k-linear duals then gives the result.
2. As h ∈ n2, we have π1(Q) = n/n2 = n/((h) + n2) = m/m2 = π1(R). Considering
(3.1), we have that π1ψ is surjective, so it must be an isomorphism and β = 0. Now,
dim (h) = 1, hence dim π (R) = dim π (Q) + 1. Taking k-linear duals then gives the kn(h) k2 k2
desired result.
Theorem 3.2.3. Let (R, m, k) be a local ring that admits an isomorphism R ∼= Q/I where (Q, n, k) is a local ring and I ⊆ n2 is generated by a regular sequence of length c. Suppose Q
23
  
24
admits an artinian, Koszul quotient Q = Q/J such that J is generated by a regular sequence contained in n2 that maps to a linearly independent set in n \ n2. Then there exists an associative subalgebra L ⊆ Ext∗R (k, k) with the following properties:
1. Ext∗R (k, k) is free of finite rank as a left L-module.
2. L has finite global dimension.
3. L is the universal enveloping algebra of a graded Lie-algebra λ with 
dimk πi(Q) i ̸= 2 dimk λi =
dimk π2(R) i = 2.
Proof. As stated, we’ll construct L as the universal enveloping algebra of a graded Lie algebra
  λ. The diagram of local rings
 Q
RQ
  Induces a diagram of homotopy Lie algebras (see Lemma 3.2.2)
π∗ 􏰁Q􏰂
π∗(R) π∗(Q)
Let λ∗ be the pullback π∗(R) ×π∗(Q) π∗(Q), so that λ∗ fits in the following commutative diagram of graded Lie algebras with exact rows:
    
0 ker(p1)∗ λ∗ p1 π∗ 􏰁Q􏰂 0 ∼= p2 α
25
        0 ker(β)∗ π∗(R) β π∗(Q) 0
Since βi is an isomorphism for i ̸= 2 so is p1. By Lemma 3.2.2 α2 is an isomorphism,
    hence so is p2, which gives
Thus
dimk λi =

dimk πi(Q)
dimk πi(R) 
  0
i ̸= 2 i = 2.
i ̸ = 2
 dimk(kerp1)i =
Denote the universal enveloping algebras of these graded Lie algebras by K = U(ker(p1)∗),
  c
L = U(λ∗), Q = U(π∗(Q)) = Ext∗ (k,k), and E = U(π∗(R)) = Ext∗ (k,k).
i = 2 .
The Hochschild-Serre spectral sequnce in this context (see [9, p.311]) is
Exti 􏰁k, Extj (k, k)􏰂 =⇒ Exti+j (k, k) . (3.2) QKL
Since ker(p1) is concentrated in degree 2, K is a polynomial ring, and so ExtjK (k, k) = 0 for large values of j. Since Q is Koszul, we have by Lemma 3.1.2
Ext∗Ext∗ (k,k) (k, k) = Ext∗Q (k, k) ∼= grmQ Q. Q
So, as Q is artinian and hence finite dimensional as a k-vector space, Q has finite global dimension. The spectral sequence (3.2) implies that ExtnL (k, k) = 0 in high degrees. Therefore, by [18, 35.11], L has finite global dimension.
  QR
     
26
Now, by Poincar ́e-Birkhoff-Witt, Ext∗R (k, k) is spanned by the normal monomials formed from a basis for for π∗(R) (for details, see [5, 10.1.3]). Any normal monomial γ from π∗(R) can be written as γ = αβ where α is a (potentially trivial) normal monomial consisting of elements from π≥2(R) and β is a normal monomial consisting of elements from π1(R). As there are finitely many normal monomials from π1(R), we conclude that Ext∗R (k, k) is finitely generated as a left module over U(π≥2(R)). However, by the diagram above λi ∼= πi(R) for i≥2andλ1 ⊆π1(R),henceλ∗ ⊆π∗(R),andwehavethatL⊆E.
3.3 Homotopy Lie Algebras over Complete Intersections
In the case where R is a complete intersection ring of embedding dimension e and codimension c, π∗(R) is concentrated in degrees one and two, with

  e i = 1
dimk πi(R) =
  c i = 2 .
Theorem 3.3.1. Let (R, m, k) be a complete intersection ring of codimension c and quadratic codimension q. Then there is an associative k subalgebra L ⊆ Ext∗R (k, k) such that the following hold:
1. Ext∗R (k, k) is free of finite rank as a left L-module. 2. L has finite global dimension.
3. The Hilbert series of L has the form
HL(t) = 1 . (1 + t)c−q(1 − t)c
  
27
Proof. We may assume R is complete by Proposition 3.1. Let R ∼= P/I be a minimal Cohen
presentation for R, that is, (P, n, k) is a regular local ring and I ⊆ n2. As I􏰏 has height q in
a polynomial ring, it contains a regular sequence of length q that is part of a generating set.
Following 2.0.3, we know I􏰏 is generated by images of generators for I that are not contained
in n3. Choose generators f1∗,...,fq∗,fq+1,...fs∗ ∈ I2􏰏 so that f1∗,...fq∗ are a regular sequence
in gr Q. Now, note there is a surjection I/nI → (I + n3)/n3 = I2􏰏. Lift the generating set
via this map to f1,...,fq,fq+1 ...,fs, which necessarily are part of a basis for I/nI. Now
extend this to a full basis f1,...,fq,fq+1 ...,fs,fs+1,...,fc. Finally, lift these elements to Q.
Thus, we have found a regular sequence of generators f1,...,fq,fq+1,...fs,fs+1,...,fc for I
with f ,...,f ̸∈ n3, so that I􏰏 = (f∗,...,f∗,f∗ ,...,f∗) and that f∗,...,f∗ is a regular 1s 1qq+1s1q
sequence in gr P.
Let e = dimk n/n2 be the embedding dimension of R. Set Q0 = P/(f1, . . . , fq). If
e > q, then Q0 is not artinian, hence mQ0 ̸∈ AssQ0(0). Therefore, by prime avoidance mQ0 ̸⊆ m2Q0 ∪ 􏰇p∈Ass(0) p. Thus, there exists some hq+1 in Q0 which is Q0-regular, and in mQ0 \ m2Q0 , lift this element to hq+1 in P . Hence, hq+1 is regular in P and part of basis for n/n2. Setting Qi = P/(f1, . . . , fq, hq+1, . . . , hq+i) and iterating this argument, we find a regular sequence hq+1, . . . , he in P so that h∗q+1, . . . , h∗e are linearly independent in n/n2, and f1,...,fq,hq+1,...,he form a maximal regular sequence in P.
Set Q = P/(f1, . . . , fq), and Q = Q/(hq+1, . . . , he). Thus, we have 4 complete intersection rings, P, Q, Q, and R with the following invariants:
Embedding Dimension Codimension Pe0 Qeq Qqq Rec
                         
28
We now have R, Q, and Q as in Theorem 3.2.3. Thus, there is a subalgebra L of Ext∗R (k, k) with finite global dimension, such that Ext∗R (k, k) is finitely generated over L as a left module. Further,

q i = 1 
dimkλi= c i=2 0 i ̸= 1, 2.
By the graded version of the Poincar ́e-Birkhoff-Witt Theorem (see for example, [5, Ch. 10]), we have that
(1+t)q 1
HL = (1−t2)c = (1−t)c(1+t)c−q.
3.4 Growth of Betti Sequences
This section is devoted to proving the following theorem:
Theorem 3.4.1. Let R be a complete intersection of codimension c and quadratic codimension q. Then for any finitely generated R-module M , there exists a polynomial gM (t) ∈ Z[t] such that the Poincar ́e series of M has the form
PMR (t) = gM (t) (3.3) (1−t)c(1+t)b
where b = max{0, c − q − 1}.
The proof will be portioned into several lemmas.
Lemma 3.4.2. Let R be a complete intersection of codimension c and quadratic codimension q. Then for any finitely generated R-module M , there exists a polynomial gM (t) ∈ Z[t] such that the Poincar ́e series has the form
     
29
PMR (t) = gM (t) . (3.4) (1 − t)c(1 + t)c−q
Proof. By Theorem 3.3.1, there exists a finite extension L ⊆ Ext∗R (k, k) such that L has finite global dimension and Ext∗R (k, k) is module finite over L and the Hilbert series of L is
HL(t) = 1 . (1 − t)c(1 + t)c−q
Thus, as M := Ext∗R (M, k) is finitely generated over Ext∗R (k, k), M is a finitely generated L module, and there exists a finite graded free resolution of M
0←F0 ←F1 ←···←Fn ←0. Each Fi is a finite direct sum of shifts of L. Thus
n
HM(t) = 􏰈(−1)iHFi (t)
i=0 n
= 􏰈(−1)igi(t)HL i=0
= gM (t)HL(t)
where each gi(t) ∈ Z[t], hence gM (t) ∈ Z[t]. However, using the Hilbert series for L as shown
in Theorem 3.3.1 and noting that PMR (t) = HM(t), we have
PMR (t) = gM (t) . (3.5)
(1 − t)c(1 + t)c−q
Lemma 3.4.3. Let R be a complete intersection of codimension c and quadratic codimension
    
q. Let
0 → N′ → N → N′′ → 0
be a short exact sequence of finitely generated modules, and let gN′(t),gN(t),gN′′(t) be as in
Lemma 3.4.2. Then
gN (−1) = gN ′ (−1) + gN ′′ (−1).
Proof. Set M = Ext∗R (N, k), M′ := Ext∗R (N′, k) and M′′ := Ext∗R (N′′, k). Apply Ext∗R (−, k)
to get an exact sequence sequence of L-modules
′β′′ ′α′′
0→V→M→U→0
and
0→U →M′ →M′′[1]→V[1]→0
are exact sequences of finitely generated L-modules. Then, using the additivity of the Hilbert
series on these sequences, we have
···→M[−1]→− M →M→M −→M [1]→... where [−] denotes a suspension. Set U := ker(α) and V := coker(β), so that
H ML ( t ) = H UL ( t ) + H VL ( t )
= HL ′ (t) − HL ′′ (t) + HL (t) + HL(t)
M M [1] V[1]
= HML ′ (t) − tHML ′′ (t) + (1 + t)HVL(t)
V
30

Thus
gM(t) = gM′(t)−tgM′′(t)+(1+t)gV (t) (1 − t)c(1 + t)c−q (1 − t)c(1 + t)c−q
31
  Clearing denominators and evaluating at t = −1 gives
gM (−1) = gM ′ (−1) + gM ′′ (−1).
Lemma 3.4.4. Let (R, m, k) be a local ring and set S = R[x]m[x]. Then
1. (S,mS) is a local faithfully flat extension of R,
2. S has an infinite residue field,
 3. if R is complete and a complete intersection ring, then S is also a complete intersection ring with qdimS = qdimR and cdimS = cdimR.
Proof. 1. The fact that the construction yields a local faithfully flat extension is classical (see for example, Section 8.4 in [13]).
2. Note that S/mS ∼= 􏰃 R[x] 􏰄 which is the fraction field of k[x], and is therefore mR[x] mR[x]
infinite.
3. Assume R is complete, and R ∼= Q/I with (Q,n) regular. Set P = Q[x]n[x]. Then P/IP ∼= R[x]m[x]. By Huneke-Swanson [13, Lemma 8.4.2], P is regular, IP is generated by a regular sequence, and μ(IP) = μ(I), hence S is a complete intersection of codi- mension c. Now, for any m-primary ideal p, λ(R/p) = λ(S/pS) (see [13, Lemma 4.8.2]). Thus dimk m2/m3 = dimk(x) m2S/m3S, That is, m2/m3 ⊗k k(x) ∼= m2S/m3S. Following the notation of Definition 2.0.1, we have
0→J2􏰏 →S2(m/m2)→m2/m3 →0.
 
32 By extending scalars, we find JS􏰏 ∼= JS􏰏 ⊗k k(x). Thus, S􏰏 ∼= R􏰏 ⊗k k(x), hence R and
S have the same quadratic codimension.
Lemma 3.4.5. Theorem 3.4.1 holds for all complete intersections provided that it holds for Artinian complete intersections with infinite residue fields.
 Proof. We may assume R is complete. Set R′ = R[x]m[x] and M′ = M ⊗R R′. By Lemma ′ R′R′
3.4.4 R ⊆ R is a flat extension, so we have PM ′ (t) = PM (t), and R is a complete intersection ring with the same codimension and quadratic codimension. By passing to R′ we may assume an infinite residue field.
Let R be a complete intersection and N a finitely generated R-module. Then for some
l ≥ 0 the syzygy M := Ωl(N) is a maximal Cohen Macaulay module. Let z be an element
as in Lemmas 2.0.5 and 2.0.6. Then since z is regular on R, it is also regular on M. Let F•
be a minimal free resolution of M over R. Then F• ⊗R R/(z) is a minimal free resolution of
M , so P R/(z) (t) = P R (t). Now, by Lemma 2.0.6, we iterate the process to find an Artinian M/zM M
quotient R of R with cdim R = cdim R and qdim R = qdim R and a finitely generated R module M so that P R (t) = PMR (t). Thus, if the theorem holds for R, we have
         M
P MR ( t ) = g M (1−t)c(1+t)b
 and noting that
PNR(t) = pN (t) + tlPMR (t),
for some pN ∈ Z[t], we can write the Poincar ́e series for N in the desired form.
We now prove Theorem 3.4.1.
 
33 Proof. By Lemma 3.4.5, we may also assume R is Artinian with infinite residue field. Let M
be a finitely generated R-module. By Lemma 3.4.2 we have that
P RM ( t ) = g M ( t ) . (1 − t)c(1 + t)c−q
Ifc=q,thenwearedone. Ifc>q,itsufficestoshowthatgM(−1)=0. Tothisend,we induce on the length of M. If l(M) = 1, then M ∼= k. By Tate’s Theorem 1.5.1, we know that
P kR ( t ) = g k ( t ) = 1 . (1 − t)c(1 + t)c−q (1 − t)c
Thus, since q < c, gk(−1) = 0. Now, suppose the length of M is at least two. Then there is a short exact sequence of nonzero modules
0 → M → M → M′′ → 0
with l(M′) < l(M) and l(M′′) < M. Then by induction, gM′(−1) = 0 and gM′′(−1) = 0,
hence by Lemma 3.4.3 gM (−1) = 0.
Applying Proposition 1.5.3, one can reinterpret Theorem 3.4.1 as follows, using the
notation of Section 1.5. One can find a different proof in [3].
Corollary 3.4.6. Let R be a complete intersection ring of codimension c and quadratic
codimension q, and M be a finitely generated R-module. Then
deg(pM+ −pM− )≤c−q−1
where deg 0 is defined to be −∞.
Example 3.4.7. Let R = k[x, y, z]/(x2, y3, z3). Then R is a graded complete intersection of
    
34
codimension 3 and quadratic codimension 1. The corollary states that for any module M, if pM− ̸= pM+ , then they can only differ in their constant term. Setting M = (x, y, z)2, we find an example of such a module. For the field k = Z/101Z, MACAULAY2 gives
P MR ( t ) = 1 + 3 t , (1−t)3(1+t)
 and for n > 3 one has

n2 + 5 n + 3 n is even
n2+5n+1 nisodd. 2
  βn(M) =
2 2
 
Bibliography
[1] M Andr ́e. Hopf algebras with divided powers. Journal of Algebra, 18(1):19 – 50, 1971. 3.2
[2] L. L. Avramov. Modules of finite virtual projective dimension. Inventiones mathematicae, 96(1):71–101, Feb 1989. 1.5
[3] L.L. Avramov, A. Seceleanu, and Z. Yang. Polynomial growth of betti sequences over local rings. (In Prep). 1.5, 1.5.4, 2.2, 3.4
[4] Luchezar L. Avramov. Local rings over which all modules have rational poincar ́e series. Journal of Pure and Applied Algebra, 91(1):29 – 48, 1994. Special Volume on the occasion of the 50th birthday of Professor S. Halperin. 1.5
[5] Luchezar L. Avramov. Infinite free resolutions [mr1648664]. In Six lectures on commuta- tive algebra, Mod. Birkh ̈auser Class., pages 1–118. Birkh ̈auser Verlag, Basel, 2010. 1.5, 3.2, 3.2, 3.2, 3.3
[6] Luchezar L. Avramov and Zheng Yang. Betti sequences over standard graded com- mutative algebras with two relations. In Homological and computational methods in commutative algebra, volume 20 of Springer INdAM Ser. Springer, Cham, 2017. 3.2
[7] N. Bourbaki. Commutative Algebra: Chapters 1-7. Elements de mathematique. English. Springer, 1998. 2.1.2
35

[8]
[9]
[10]
[11]
[12]
[13]
[14]
[15]
36
D. Eisenbud. Commutative Algebra: With a View Toward Algebraic Geometry. Graduate Texts in Mathematics. Springer, 1995. 1.1
Y. Felix, S. Halperin, and J.C. Thomas. Rational Homotopy Theory. Graduate Texts in Mathematics. Springer New York, 2001. 3.2
Yves Felix, Stephen Halperin, Carl Jacobsson, Clas L ̈ofwall, and Jean-Claude Thomas. The radical of the homotopy lie algebra. American Journal of Mathematics, 110(2):301– 322, 1988. 3.2
Tor H. Gulliksen. A change of ring theorem with applications to poincar ́e series and intersection multiplicity. Mathematica Scandinavica, 34:167–183, Jun. 1974. 1.5, 1.5.2
Tor H. Gulliksen and Gerson Levin. Homology of local rings. Queen’s Paper in Pure and Applied Mathematics, No. 20. Queen’s University, Kingston, Ont., 1969. 3.2
Ju ̈rgen Herzog and Srikanth Iyengar. Koszul modules. Journal of Pure and Applied Algebra, 201(1):154 – 188, 2005. 2.2, 3.1
Craig Huneke and Irena Swanson. Integral closure of ideals, rings, and modules, volume 336 of London Mathematical Society Lecture Note Series. Cambridge University Press, Cambridge, 2006. 1, 3
John W. Milnor and John C. Moore. On the structure of Hopf algebras. Ann. of Math. (2), 81:211–264, 1965. 3.2, 3.2
[16] M. E. Rossi and G. Valla. Multiplicity and t-isomultiple ideals. Nagoya Math. J., 110:81–111, 1988. 2.1.6
[17] Gunnar Sjo ̈din. Hopf algebras and derivations. Journal of Algebra, 64(1):218 – 229, 1980. 3.2, 3.2

37
[18] John Tate. Homology of noetherian rings and local rings. Illinois J. Math., 1(1):14–27, 03 1957. 1.5, 1.5.1, 2.2, 3.2
[19] Paolo Valabrega and Giuseppe Valla. Form rings and regular sequences. Nagoya Math. J., 72:93–101, 1978. 2.1.5
INFINITE FREE RESOLUTIONS
LUCHEZAR L. AVRAMOV
Purdue University
West Lafayette, Indiana 47907, U.S.A. avramov@math.purdue.edu
This text is based on the notes for a series of five lectures to the Barcelona Summer School in Commutative Algebra at the Centre de Recerca Matem`atica, Institut d’Estudis Catalans, July 15–26, 1996.
Joan Elias, Jos ́e Giral, Rosa Maria Mir ́o-Roig, and Santiago Zarzuela were suc- cessively fantastic organizers, graceful hosts, and tactful editors. I am extremely grateful to them for everything.
It was a pleasure to address the receptive audience, and to be part of it for the lectures of Mark Green, Craig Huneke, Peter Schenzel, Tito Valla, Wolmer Vasconcelos, and the talks of many others. I learned a lot, both from and at the blackboard. Dave Jorgensen supplied a list of typos and corrections, and Alberto Corso introduced me to XY-pic; their help is much appreciated.
Srikanth Iyengar has read more versions than he might care to recall. For all those corrected errors and pertinent suggestions, he has my special thanks.
Finally, I wish to acknowledge my most obvious debt: these notes would not have been written without Zoya’s understanding and support.
 The author was partially supported by a grant from the National Science Foundation.
1

2
L. L. AVRAMOV
Contents
Introduction 1. Complexes
1.1. Basic constructions
1.2. Syzygies
1.3. Differential graded algebra 11
2. Multiplicative structures on resolutions 16
2.1. DG algebra resolutions 16
2.2. DG module resolutions 19
2.3. Products versus minimality 22
3. Change of rings 25
3.1. Universal resolutions 25
3.2. Spectral sequences 29
3.3. Upper bounds 31
4. Growth of resolutions 34
4.1. Regular presentations 34
4.2. Complexity and curvature 37
4.3. Growth problems 40
5. Modules over Golod rings 43
5.1. Hypersurfaces 43
5.2. Golod rings 45
5.3. Golod modules 48
6. Tate resolutions 52
6.1. Construction 52
6.2. Derivations 56
6.3. Acyclic closures 58
7. Deviations of a local ring 62
7.1. Deviations and Betti numbers 62
7.2. Minimal models 63
7.3. Complete intersections 67
7.4. Localization 68
8. Test modules 71
8.1. Residue field 71
8.2. Residue domains 72
8.3. Conormal modules 78
9. Modules over complete intersections 83
9.1.
9.2.
9.3.
10.
10.1.
10.2.
10.3. Applications 101 References 105 Index 111
Cohomology operators 83 Betti numbers 87 Complexity and Tor 90
Homotopy Lie algebra of a local ring 95 Products in cohomology 95 Homotopy Lie algebra 98
3 6 6 8

INFINITE FREE RESOLUTIONS 3
Introduction
A free resolution of a module extends a presentation in terms of generators and relations, by choosing generators for the relations, then generators for the relations between relations, ad infinitum. Two questions arise:
How to write down a resolution? How to read the data it contains?
These notes describe results and techniques for finite modules over a commutative noetherian ring R. An extra hypothesis that R is local (meaning that it has a unique maximal ideal) is often imposed. It allows for sharper formulations, due to the existence of unique up to isomorphism minimal free resolutions; in a global situation, the information can be retrieved from the local case by standard means (at least when all finite projective modules are free).
∗∗∗
A finite free resolution is studied ‘from the end’, using linear algebra over the ring(!) R. The information carried by matrices of differentials is interpreted in terms of the arithmetic of determinantal ideals. When R is a polynomial ring over a field each module has a finite free resolution; in this case, progress in computer algebra and programming has largely moved the construction of a resolution for any concrete module from algebra to hardware.
The monograph of Northcott [125] is devoted to finite free resolutions. Excellent accounts of the subject can be found in the books of Hochster [89], Roberts [136], Evans and Griffith [61], Bruns and Herzog [46], Eisenbud [58].
∗∗∗
Here we concentrate on modules that admit no finite free resolution.
There is no single approach to the construction of an infinite resolution and no single key to the information in it, so the exposition is built around several recurring themes. We describe them next, in the local case.
∗∗∗
To resolve a module of infinite projective dimension, one needs to solve an in- finite string of iteratively defined systems of linear equations. The result of each step has consequences for eternity, so a measure of control on the propagation of solutions is highly desirable. This may be achieved by endowing the resolution with a multiplicative structure (a natural move for algebraists, accustomed to work with algebras and modules, rather than vector spaces). Such a structure can al- ways be put in place, but its internal requirements may prevent the resolution from being minimal. Craft and design are needed to balance the diverging constraints of multiplicative structure and minimality; determination of cases when they are compatible has led to important developments.
Handling of resolutions with multiplicative structures is codified by Differential Graded homological algebra. Appearances notwithstanding, this theory precedes the familiar one: Homological Algebra [51] came after Cartan, Eilenberg, and MacLane [56], [50] developed fundamental ideas and constructions in DG cate- gories to compute the homology of Eilenberg-MacLane spaces. An algebraist might choose to view the extra structure as an extension of the domain of rings and modules in a new, homological, dimension.

4 L. L. AVRAMOV
DG homological algebra is useful in change of rings problems. They arise in connection with a homomorphism of rings Q −→ R and an R–module M, when homological data on M, available over one of the rings, are needed over the other. A typical situation arises when R and M have finite free resolutions over Q, for instance when Q is a regular ring. It is then possible to find multiplicative resolu- tions of M and R over Q, that are ‘not too big’, and build from them resolutions of M over R. Although not minimal in general, such constructions are often useful, in part due to their functoriality and computability.
Multiplicative structures on a resolution are inherited by derived functors. It is a basic observation that the induced higher structures in homology do not depend of the choice of the resolution, and so are invariants of the R–module (or R–algebra) M. They suggest how to construct multiplicative structures of the resolution, or yield obstructions to its existence. Sometimes, they provide criteria for a ring- or module-theoretic property, e.g. for R to be a complete intersection. All known proofs that this property localizes depend on such characterizations—as all proofs that regularity localizes use the homological description of regular rings.
The behavior of resolutions at infinity gives rise to intriguing results and ques- tions. New notions are needed to state some of them; for instance, complexity and curvature of a module are introduced to differentiate between the two known types of asymptotic growth. A striking aspect of infinite resolutions is the asymptotic stability that they display, both numerically (uniform patterns of Betti numbers) and structurally (high syzygies have similar module-theoretic properties). In many cases this phenomenon can be traced to a simple principle: the beginning of a res- olution is strongly influenced by the defining relations of the module, that can be arbitrarily complicated; far from the source, the relations of the ring (thought of as a residue of some regular local ring) take over. In other words, the singularity of the ring dominates asymptotic behavior.
Part of the evidence comes from information gathered over specific classes of rings. At one end of the spectrum sit the complete intersections, characterized by asymptotically polynomial growth of all resolutions. The other end is occupied by the Golod rings, defined by an extremal growth condition on the resolution of the residue field; all resolutions over a Golod ring have asymptotically exponential growth; higher order homology operations, the Massey products, play a role in constructions. Results on complete intersections and Golod rings are presented in detail; generalizations are described or sketched.
A basic problem is whether some form of the polynomial/exponential dichotomy extends to all modules over local rings. No intermediate growth occurs for the residue field, a case of central importance. This result and its proof offer a glimpse at a mutually beneficial interaction between local algebra and rational homotopy theory, that has been going on for over a decade.
A major link in that connection is the homotopy Lie algebra of a local ring; it corresponds to the eponymous object attached to a CW complex, and has a representation in the cohomology of every R–module. Its structure affects the as- ymptotic patterns of resolutions, and is particularly simple when R is a complete intersection: each cohomology module is then a finite graded module over a poly- nomial ring, that can be investigated with all the usual tools. This brings up a strong connection with modular representations of finite groups.
∗∗∗

INFINITE FREE RESOLUTIONS 5
Proving a result over local rings, we imply that a corresponding statement holds for graded modules over graded rings. Results specific to the graded case are mostly excluded; that category has a life of its own: after all, Hilbert [88] introduced resolutions to study graded modules over polynomial rings.
∗∗∗
The notes assume a basic preparation in commutative ring theory, including a few homological routines. Modulo that, complete proofs are given for all but a couple of results used in the text. Most proofs are second or third generation, many of them are new. Constructions from DG algebra are developed from scratch. A bonus of using DG homological algebra is that spectral sequences may be eliminated from many arguments; we have kept a modest amount, for reasons of convenience and as a matter of principle.
∗∗∗
The only earlier monographic exposition specifically devoted to infinite resolution is the influential book of Gulliksen and Levin [83], which concentrates on the residue field of a local ring. The overlap is restricted to Sections 6.1 and 6.3, with some differences in the approach. Sections 6.2, 7.2, and 8.2 contain material that has not been presented systematically before.

6 L. L. AVRAMOV
1. Complexes
This chapter lays the ground for the subsequent exposition. It fixes terminology
and notation, and establishes some basic results.
All rings are assumed1 commutative. No specific references are made to standard material in commutative algebra, for which the books of Matsumura [117], Bruns and Herzog [46], or Eisenbud [58], provide ample background.
For technical reasons, we choose to work throughout with algebras over a ubiq- uitous commutative ring k, that will usually be unspecified and even unmentioned2 (think of k = Z, or k = k, a field).
1.1. Basic constructions. Let R be a ring.
A (bounded below) complex of R–modules is a sequence
∂n ∂n−1
···−→Fn −→Fn−1 −−−→Fn−2 −→···
ofR–linearmapswith∂n−1∂n =0forn∈Z(andFn =0forn≪0). The underlying R–module {Fn}n∈Z is denoted F♮. Modules over R are identified with complexes concentrated in degree zero (that is, having Fn = 0 for n ̸= 0); |x| denotes the degree of an element x; thus, |x| = n means x ∈ Fn.
Operations on complexes. Let E, F, G be complexes of R–modules.
A degree d homomorphism β : F −→ G is simply a collection of R-linear maps {βn : Fn −→ Gn+d}n∈Z. All degree d homomorphisms from F to G form an R– module, HomR (F, G)d. This is the degree d component of a complex of R–modules
HomR (F, G) , in which the boundary of β is classically defined by ∂(β) = ∂G◦β − (−1)|β|β◦∂F .
The power of −1 is a manifestation of the sign that rules over homological algebra: Each transposition of homogeneous entities of degrees i, j is ‘twisted’ by a factor (−1)ij, and permutations are signed accordingly.
The cycles in HomR(F,G) are those homomorphisms β that satisfy ∂◦β = (−1)|β|β◦∂; they are called chain maps. Chain maps β, β′ : F −→ G are homotopic if there exists a homomorphism σ : F −→ G of degree |β| + 1, called a homotopy from β to β′, such that
β−β′ =∂◦σ+(−1)|β|σ◦∂;
equivalently, β − β′ is the boundary of σ in the complex HomR (F, G) .
A chain map β induces a natural homomorphism H(β): H(F) −→ H(G) of degree |β|; homotopic chain maps induce the same homomorphism. Chain maps of degree zero are the morphisms of the category of complexes. A quasi-isomorphism is a morphism that induces an isomorphism in homology; the symbol ≃ next to an
arrow identifies a quasi3-isomorphism.
The tensor product E ⊗R F has (E ⊗R F)n = 􏰆i+j=n Ei ⊗R Fj and
∂(e ⊗ f) = ∂E(e) ⊗ f + (−1)|e|e ⊗ ∂F (f).
1Following a grand tradition of making blanket statements, to be violated down the road.
2Thus, the unqualified word ‘module’ stands for ‘k–module’; homomorphisms are k-linear; writing ‘ring’ or ‘homomorphism of rings’, we really mean ‘k–algebra’ or ‘homomorphism of k– algebras’. The convention is only limited by your imagination, and my forgetfulness.
3The symbol ∼= is reserved for the real thing.
 
INFINITE FREE RESOLUTIONS 7
The transposition map τ(e ⊗ f) = (−1)|e||f|f ⊗ e is an isomorphism of complexes τ : E ⊗ R F −→ F ⊗ R E .
A degree d homomorphism β : F −→ G induces degree d homomorphisms
HomR (E,β) : HomR (E,F) −→ HomR (E,G) , HomR (E, β) (α) = β◦α ;
HomR (β,E) : HomR (G,E) −→ HomR (F,E) , HomR (β, E) (γ) = (−1)|β||γ|γ◦β ;
β⊗RE:F⊗RE−→G⊗RE, (β⊗RE)(f⊗e)=β(f)⊗e; E⊗Rβ:E⊗RF−→E⊗RG, (E⊗Rβ)(e⊗f)=(−1)|β||e|e⊗β(f),
with signs determined by the Second Commandment4. All maps are natural in both arguments. If β is a chain map, then so are the induced maps.
The shift ΣF of a complex F has (ΣF)n = Fn−1 for each n. In order for the degree 1 bijection ΣF : F −→ ΣF, sending f ∈ Fn to f ∈ (ΣF)n+1, to be a chain map the differential on ΣF is defined by ∂ΣF (ΣF (f)) = −ΣF (∂F (f)).
The mapping cone of a morphism β: F −→ G is the complex C(β) with under- ♮ ♮ 􏰚∂G (ΣG)−1Σ(β)􏰛
lying module G ⊕ (ΣF ) , and differential 0 ∂ΣF . The connecting homomorphism defined by the exact mapping cone sequence
0−→G−→C(β)−→ΣF −→0
is equal to H(β). Thus, β is a quasi-isomorphism if and only if H(C(β)) = 0.
A projective (respectively, free) resolution of an R–module M is a quasi- isomorphism εF : F −→ M from a complex F of projective (respectively, free) modules with Fn = 0 for n < 0. The projective dimension of M is defined by
pdR M = inf{p |M a projective resolution with Fn = 0 for n > p}.
Example 1.1.1. In the Koszul complex K = K(g;R) on a sequence g = g1,...,gr of elements of R the module K1 is free with basis x1,...,xr, the module Kn is equal to 􏰣nR K1 for all n, and the differential is defined by
n
∂(xi1 ∧···∧xin)=􏰈(−1)j−1gij xi1 ∧···∧xij−1 ∧xij+1 ∧···∧xin .
j=1
For each R–module M, set K(g;M) = K(g;R) ⊗R M, and note that H0(K(g;M)) = M/(g)M. A crucial property of Koszul complexes is their depth5- sensitivity: If M is a finite module over a noetherian ring R, then
sup{i | Hi(K(g; M)) ̸= 0} = r − depthR((g), M) .
In particular, if g1, . . . , gr is an R–regular sequence, then K(g; R) is a free resolution
of R′ = R/(g) over R, and H(K(g;M)) ∼= TorR (R′,M).
4Obey the Sign! While orthodox compliance is a nuisance, transgression may have consequences ranging anywhere from mild embarrassment (confusion of an element and its opposite) to major disaster (creation of complexes with ∂2 ̸= 0).
5Recall that the depth of an ideal I ⊆ R on M, denoted depthR(I,M), is the maximal length of an M-regular sequence contained in I.
 
8 L. L. AVRAMOV
Minimal complexes. A local ring (R,m,k) is a noetherian ring R with unique maximal ideal m and residue field k = R/m. A complex of R–modules F , such that ∂n(Fn) ⊆ mFn−1 for each n, is said to be minimal. Here is the reason:
Proposition 1.1.2. If F is a bounded below complex of finite free modules over a local ring (R, m, k), then the following conditions are equivalent.
(i) F is minimal.
(ii) Each quasi-isomorphism α: F −→ F is an isomorphism.
(iii) Each quasi-isomorphism β : F −→ F ′ to a bounded below minimal complex of free modules is an isomorphism.
(iv) Each quasi-isomorphism β : F −→ G to a bounded below complex of free modules is injective, and G = Im β ⊕ E for a split-exact subcomplex E.
Proof. (i) =⇒ (iii). The mapping cone C(β) is a bounded below complex of free modules with H(C(β)) = 0. Such a complex is split-exact, hence so is C(β) ⊗R k ∼= C(β ⊗R k). Thus, H(β ⊗R k) is an isomorphism. Since both F ⊗R k and F′ ⊗R k have trivial differentials, each βn ⊗R k is an isomorphism. As Fn and Fn′ are free modules, βn is itself an isomorphism by Nakayama.
(iii) =⇒ (iv). Choose a subset Y ⊆ G such that ∂(Y)⊗R 1 is a basis of the vector space ∂(G⊗R k). As Y ∪∂(Y ) is linearly independent modulo mG, it extends to a basis of the R–module G♮. Thus, the complex
E : 􏰠 􏰁 0 −→ R y −→ R ∂ ( y ) −→ 0 􏰂 ( ∗ ) y∈Y
is split-exact and a direct summand of G, hence G −→ G/E = G′ is a quasi- isomorphism onto a bounded below free complex, that is minimal by construction. As the composition β′ : F −→ G −→ G′ is a quasi-isomorphism, it is an isomorphism by our hypothesis. The assertions of (iv) follow.
(iv) =⇒ (ii): the split monomorphisms αn : Fn −→ Fn are bijective.
(ii) =⇒ (i). Assume that (i) fails, and form a surjective quasi-isomorphism β: F −→ F/F′ = G onto a bounded below free complex as in the argument above. There is then a morphism γ : G −→ F with βγ = idG, cf. Proposition 1.3.1. Such a γ is necessarily a quasi-isomorphism, hence γβ = α is a quasi-isomorphism F −→ F with Ker α ⊇ F ′ ̸= 0, a contradiction. 􏰏
1.2. Syzygies. In this section (R, m, k) is a local ring. Over such rings, projectives are free; for finite modules, this follows easily from Nakayama.
A minimal resolution F of an R–module M is a free resolution, that is also a mini- mal complex. If m1 , . . . , mr minimally generate M , then the Third Commandment6 prescribes to start the construction of a resolution by a map F0 = Rr −→ M with (a1,...,ar) 􏰀→ a1m1 +···+armr. This is a surjection with kernel in mRr; iterating the procedure, one sees that M has a minimal resolution. As any two resolutions of M are linked by a morphism that induces the identity of M, Proposition 1.1.2 completes the proof of the following result of Eilenberg from [55], where minimal resolutions are introduced.
Proposition 1.2.1. Each finite R–module M has a minimal resolution, that is unique up to isomorphism of complexes. A minimal resolution F is isomorphic to
6Resolve minimally!
 
INFINITE FREE RESOLUTIONS 9
a direct summand of any resolution of M, with complementary summand a split- exact free complex. In particular, pdR M = sup{n | Fn ̸= 0}. 􏰏
The ‘uniqueness’ of a minimal resolution F implies that each R-module SyzRn (M) = Coker(∂n+1 : Fn+1 −→ Fn) ∼= ∂n(Fn) is defined uniquely up to a (non- canonical) isomorphism; it is called the n’th syzygy of M; note that SyzR0 (M) = M, andSyzRn (M)=0forn<0.
The number βnR(M) = rankR Fn is called the n’th Betti number of M (over R). The complexes F ⊗R k and HomR (F, k) have zero differentials, so TorRn (M, k) ∼= Fn ⊗R k and ExtnR (M, k) ∼= HomR (Fn, k) ; in other words:
Proposition 1.2.2. If M is a finite R–module, then
βnR(M) = νR􏰁 SyzRn (M)􏰂 = dimk TorRn (M, k) = dimk ExtnR (M, k)
and pdR M = sup{n | βnR(M) ̸= 0}. 􏰏 Syzygies behave well under certain base changes by local homomorphisms, that
is, homomorphisms of local rings φ(R, m) −→ (R′, m′) with φ(m) ⊆ m′. Proposition 1.2.3. If M is a finite R–module and φ: R −→ R′ is a local homo-
morphism such that TorRn (R′, M) = 0 for n > p, then SyzR′ 􏰁R′ ⊗ SyzR(M)􏰂∼=R′ ⊗ SyzR(M)
Proof. Let F be a minimal free resolution of M over R.
Since Hn(R′ ⊗R F) ∼= TorRn (R′,M) = 0 for n > p, the complex of R′–modules
(R′ ⊗R F )􏰶 p is a free (and obviously minimal) resolution of the module Coker(R′ ⊗R ∂p+1) ∼= R′ ⊗R Coker∂p+1 ∼= R′ ⊗R SyzRp (M). 􏰏
Corollary 1.2.4. Let M be a finite R–module.
(1) If R −→ R′ is a faithfully flat homomorphism of local rings, then
SyzR′ (R′⊗ M)∼=R′⊗ SyzR(M) for n≥0. nRRn
n−pRp Rn
for n≥p.
(2) If a sequence g1,...,gr ∈ R is both R–regular and M–regular, then SyzR′ (M′)∼=R′⊗ SyzR(M) for n≥0
nRn
with R′ = R/(g1,...,gr)R, and M′ = M/(g1,...,gr)M. 􏰏
Proof. The proposition applies with p = 0, twice: by definition in case (1), and by Example 1.1.1 in case (2). 􏰏
When R is local, depthR M = depthR(m,M) and depthR = depthR R. Corollary 1.2.5. If R is a direct summand of SyzRn (M), then n ≤ m, where
m = max{0, depth R − depth M }.
Proof. Let n > m, and assume that SyzRn (M) has R as a direct summand. Choose a maximal (R ⊕ M )–regular sequence, and complete it (if necessary) to a maximal R–regular sequence g. By Example 1.1.1 and Proposition 1.2.3, R′ = R/(g) is a direct summand of a syzygy of the R′–module R′ ⊗R SyzRm (M), hence sits in mF′, where F′ is a free R′–module. As depthR′ = 0, the ideal (0:R′ m) ̸= 0 annihilates R′; this is absurd. 􏰏

10 L. L. AVRAMOV
Depth can be computed cohomologically, by the formula depthR M = inf{n | ExtnR (k,M) ̸= 0}.
The following well known fact is recorded for ease of reference.
Lemma 1.2.6. If M is a finite R–module, then
depth M+1 when depth M<depthR;
RRR
depthR Syz1 (M) = g ≥ depthR when depthR M = depthR;
depth R when depthR M > depth R . Proof. Track the vanishing of ExtnR (k, −) through the long exact cohomology se-
quence induced by the exact sequence 0 −→ SyzR1 (M) −→ F0 −→ M −→ 0. 􏰏 Proposition 1.2.7. If M is a finite R–module with pdR M < ∞, then
(1) pdR M + depthR M = depthR.
(2) (0:R M) = 0, or (0:R M) contains a non-zero-divisor on R.
(3) 􏰆n􏰶0(−1)nβnR(M)≥0,withequalityifandonlyif(0:RM)̸=0.
Proof. Setm=pdRM,g=depthRM,andd=depthR.
(1) As SyzRm (M) ̸= 0 is free, Corollary 1.2.5 yields m + g ≤ d. Thus, g ≤ d,
and if g = d, then M is free and (1) holds. If g < d, then assume by descending induction that (1) holds for modules of depth > g, and use the lemma:
m+g=(pdRSyzR1 (M)+1)+(depthRSyzR1 (M)−1)=d. (2) and (3). If F is a minimal resolution of M and p ∈ Spec R, then 0 −→ (Fm)p −→ (Fm−1)p −→ ... −→ (F1)p −→ (F0)p −→ Mp −→ 0
is exact. If p ∈ AssR, then depthRp = 0, hence Mp is free by (1).
Counting ranks, we get 􏰆n(−1)nβnR(M) = rankRp Mp ≥ 0. If􏰆n(−1)nβnR(M)=0,thenMp =0forallp∈AssR,so(0:RM)􏰑􏰇p∈AssRp,
that is, (0 : R M ) contains a non-zero-divisor.
If(0:RM)̸=0,then(0:Rp Mp)=(0:RM)p ̸=0forp∈Ass(0:RM)⊆AssR;
as Mp is free, this implies Mp = 0, and so 􏰆n(−1)nβnR(M) = 0. 􏰏
The arguments for (2) and (3) are from Auslander and Buchsbaum’s paper [17]; there is a new twist in the proof of their famous equality (1). It computes depths of syzygies when pdR M < ∞; otherwise, Okiyama [126] proves:
Proposition 1.2.8. If M is a finite R–module with pdR M = ∞, then depthSyzRn (M)≥depthR for n≥max{0,depthR−depthRM}
with at most one strict inequality, at n = 0 or at n = depth R − depthR M + 1.
Proof. Set Mn = SyzRn (M) and d = depthR. Iterated use of Lemma 1.2.6 yields the desired inequality, and reduces the last assertion to proving that inequalities for n and n+1 imply equality for n+2.
Break down a minimal free resolution F of M into short exact sequences Ei : 0 −→ ιi+1 πi
Mi+1 −−→ Fi −→ Mi −→ 0. If depthR Mn+2 > d, then the cohomology exact sequence of En+1 implies that the homomorphism
ExtdR (k, πn+1) : ExtdR (k, Fn+1) −→ ExtdR (k, Mn+1)

INFINITE FREE RESOLUTIONS 11
is injective. As depthR Mn ≥ d, the cohomology sequence of En shows that ExtdR (k,ιn+1) : ExtdR (k,Mn+1RM) −→ ExtdR (k,Fn)
is injective. Since ιn◦πn+1 = ∂n+1 : Fn+1 −→ Fn, we see that the map ExtdR (k, ∂n+1) = ExtdR (k, ιn) ◦ ExtdR (k, πn+1)
is injective as well. But ∂n+1 : Fn+1 −→ Fn is a matrix with elements in m, so ExtdR (k, ∂n+1) = 0, hence ExtdR (k, Fn+1) = 0. Since depthR Fn+1 = d this is impossible, so depth Mn+2 ≤ d, as desired. 􏰏
Remark 1.2.9. By the last two results, there exists an R–regular sequence g of length d = depth R, that is also regular on N = SyzRm (M ), where m = max{0, d −
R R R/(g)
depth M}. Proposition 1.2.4.2 yields βn+m(M) = βn (N) = βn (N/(g)N)
for n ≥ 0. When k is infinite, a sequence g may be found that also pre-
serves multiplicity: mult(R) = mult(R/(g)); if k is finite, then R′ = R[t]m[t] has
mult(R′) = mult(R), and βR(N) = βR′ (N ⊗ R′), for n ≥ 0. nnR
Remark 1.2.10. The name graded ring is reserved1 for rings equipped with a direct sum decomposition R = 􏰅i 􏰶 0 Ri, and having R0 = k, a field. For such a ring we denote m the irrelevant maximal ideal 􏰅i > 0 Ri. An R–moduleM is graded if M = 􏰅j∈Z Mj and RiMj ⊆ Mi+j for all i,j ∈ Z. To minimize confusion with gradings arising from complexes, we say that a ∈ Mi has internal degrees i, and write deg(a) = i. The d’th translate of M is the graded R–module M(d) with M(d)j = Mj+d. A degree zero homomorphism α: M −→ N of graded R–modules is an R–linear map such that α(Mj) ⊆ Nj for all j.
The free objects in the category of graded modules and degree zero homomor- phisms are isomorphic to direct sums of modules of the form R(d). Each graded R–module M has a graded resolution by free graded modules with differentials that are homomorphisms of degree zero. If Mj = 0 for j ≪ 0 (in particular, if M is finitely generated), then such a resolution F exists with ∂(Fn) ⊆ mFn for all n. This minimal graded resolution is unique up to isomorphism of complexes of graded R– modules, so the numbers βnj appearing in isomorphisms Fn ∼= 􏰅j∈Z R(−j)βnj are uniquely defined, and finite if M is a finite R–module; these graded Betti numbers of M over R are denoted βR (M).
1.3. Differential graded algebra. The term refers to a hybrid of homological algebra and ring theory. When describing the progeny7, we systematically replace the compound ‘differential graded’ by the abbreviation DG.
DG algebras. A DG algebra A is a complex (A,∂), with an element 1 ∈ A0 (the unit), and a morphism of complexes (the product)
A⊗k A→A, a⊗b􏰀→ab,
that is unitary: 1a = a = a1, and associative: a(bc) = (ab)c. In addition, we
assume the A is (graded) commutative:
ab = (−1)|a||b|ba for a,b ∈ A and a2 = 0 when |a| is odd,
and that Ai = 0 for i < 0; without them, we speak of associative DG algebras.
7It is not that exotic: a commutative ring is precisely a DG algebra concentrated in degree zero, and a DG module over it is simply a complex. A prime example of a ‘genuine’ DG algebra is a Koszul complex, with multiplication given by wedge product.
nj
 
12 L. L. AVRAMOV
The fact that the product is a chain map is expressed by the Leibniz rule: ∂(ab) = ∂(a)b + (−1)|a|a∂(b) for a, b ∈ A ,
Its importance comes from a simple observation: The cycles Z(A) are a graded subalgebra of A, the boundaries ∂(A) are an ideal in Z(A), hence the canonical projection Z(A) −→ H(A) makes the homology H(A) into a graded algebra. In particular, each Hn(A) is a module over the ring H0(A).
A morphism of DG algebras is a morphism of complexes φ: A −→ A′, such that φ(1) = 1 and φ(ab) = φ(a)φ(b); we say that A′ is a DG algebra over A.
If A and A′ are DG algebras, then the tensor products of complexes A ⊗k A′ is a DG algebra with multiplication (a ⊗ a′)(b ⊗ b′) = (−1)|a′||b|(ab ⊗ a′b′).
A graded algebra is a DG algebra with zero differential, that is, a family8 {An}, rather than a direct sum 􏰅n An .
A DG module U over the DG algebra A is a complex together with a morphism A ⊗ U → U, a ⊗ u 􏰀→ au, that satisfies the Leibniz rule
∂(au) = ∂(a)u + (−1)|a|a∂(u) for a ∈ A and u ∈ U
and is unitary and associative in the obvious sense. A module is a DG module with zero differential; U♮ is a module over A♮, and H(U) is a module over H(A).
Let U and V be DG modules over A.
A homomorphism β : U −→ V of the underlying complexes is A–linear if β(au) = (−1)|β||a|aβ(u) for all a ∈ A and u ∈ U. The A–linear homomorphisms form a subcomplex HomA (U, V ) ⊆ Homk (U, V ) . The action
(aβ)(u) = a(β(u)) = (−1)|a||β|β(au)
turns it into a DG module over A. Two A–linear chain maps β, β′ : U −→ V that are homotopic by an A–linear homotopy are said to be homotopic over A. Thus, Hd (HomA (U, V ) ) is the set of homotopy classes of A–linear, degree d chain maps. DG modules over A and their A–linear morphisms are, respectively, the objects and morphisms of the category of DG modules over A.
TheresiduecomplexU⊗AV ofU⊗kV bythesubcomplexspannedbyallelements au ⊗k v − (−1)|a||u|u ⊗k av, has an action
a(u⊗A v)=au⊗A v=(−1)|a||u|u⊗A av.
It is naturally a DG module over A, and has the usual universal properties.
The shift ΣU becomes a DG module over A by setting aΣU (u) = (−1)|a|ΣU (au);
the map ΣU : U −→ ΣU is then an A–linear homomorphism.
The mapping cone of a morphism β: U −→ V of DG modules over A is a DG
module over A, and the maps in the mapping cone sequence are A–linear.
Semi-free modules. A bounded below DG module F over A is semi-free if its underlying A♮–module F♮ has a basis9 {eλ}λ∈Λ. Thus, for each f ∈ F there are uniqueaλ ∈Awithf=􏰆λ∈Λaλeλ;wesetΛn ={λ∈Λ:|eλ|=n}.
8This convention reduces the length of the exposition by 1.713%, as it trims from each argument all sentences starting with ‘We may assume that the element x is homogeneous’; note that by Remark 1.2.10 above, a graded ring is the usual thing.
9Over a ring, a such a DG module is simply a bounded below complex of free modules. For arbitrary DG modules over any graded associative DG algebras, the notion is defined by a different condition: cf. [33], where the next three propositions are established in general.
 
INFINITE FREE RESOLUTIONS 13
Note that F is not a free object on {eλ} in the category of DG modules over A: As ∂(eλ) is a linear combination of basis elements eμ of lower degree, the choice for the image of eλ is restricted by the choices already made for the images of the eμ. What freeness remains is in the important lifting property:
Proposition 1.3.1. If F is a semi-free DG module over a DG algebra A, then each diagram of morphisms of DG modules over A represented by solid arrows
cc U γ
≃β GG 
FαV
with a surjective quasi-isomorphism β can be completed to a commutative diagram
by a morphism γ, that is defined uniquely up to A–linear homotopy.
Remark. A degree d chain map F −→ V is nothing but a morphism F −→ Σ−dV , so
the proposition provides also a ‘unique lifting property’ for chain maps.
Proof. NotethatFn =􏰅|eλ|􏰵nAeλ isaDGsubmoduleofF overA,andFn =0 for n ≪ 0. By induction on n, we may assume that γn: Fn −→ U has been constructed, with α|F n = β◦γn.
For each λ ∈ Λn+1, we have ∂(α∂(eλ)) = α(∂2(eλ)) = 0, so α∂(eλ) is a cycle in V . Since β is a surjective quasi-isomorphism, there exists a cycle zλ′ ∈ U , such that β(zλ′ ) = α∂(eλ). Thus, zλ = γn∂(eλ) − zλ′ ∈ U satisfies
∂(zλ)=γn∂2(eλ)−∂(zλ′ )=0 and β(zλ)=α∂(eλ)−β(zλ′ )=0,
that is, zλ is a cycle in W = Kerβ. The homology exact sequence of the short
exactsequenceofDGmodules0−→W −→U −→V −→0showsthatH(W)=0,
hence zλ = ∂(yλ) for some yλ ∈ W. In view of our choices, the formula 􏰚􏰛
γn+1 f+ 􏰈 aλeλ =γn(f)+ 􏰈 aλyλ for f∈Fn λ∈Λn+1 λ∈Λn+1
defines a morphism of DG modules γn+1 : Fn+1 −→ U, with γn+1|Fn = γn, and completes the inductive construction. As F = 􏰇n∈Z Fn, setting γ(f) = γn(f) whenever f ∈ Fn, we get a morphism γ: F −→ U with α = βγ.
Ifγ′:F −→U isamorphismwithα=βγ′,thenβ(γ−γ′)=0,hencethereexists amorphismδ:F −→W suchthatγ−γ′ =ιδ,whereι:W ⊆U istheinclusion. Again, we assume by induction that a homotopy σn : F n −→ W between δ|F n and 0isavailable:δ|Fn =∂σn+σn∂.As
∂(δ(eλ) − σn∂(eλ)) = δ∂(eλ) − (∂σn)(∂(eλ))
= (δ − ∂σn)(∂(eλ)) = (σn∂)(∂(eλ)) = 0
and H(W) = 0, there is a wλ ∈ W such that ∂(wλ) = δ(eλ) − σn∂(eλ). Now 􏰚􏰛
σn+1 f + 􏰈 aλeλ = σn(f) + 􏰈 (−1)|aλ|aλwλ λ∈Λn+1 λ∈Λn+1
is a degree 1 homomorphism σn+1 : F n+1 −→ W , with δ|F n+1 = ∂σn+1 + σn+1∂, andσn+1|Fn =σn.Inthelimit,wegetahomotopyσ:F−→Wfromδto0,and then σ′ = ισ: F −→ U is a homotopy from γ to γ′. 􏰏
                      
14 L. L. AVRAMOV
Proposition 1.3.2. If F is a semi-free DG module, then each quasi-isomorphism β : U −→ V of DG modules over A induces quasi-isomorphisms
HomA (F,β) : HomA (F,U) −→ HomA (F,V ) ; F ⊗A β: F ⊗A U −→ F ⊗A V .
Proof. To prove that HomA (F, β) is a quasi-isomorphism, we show the exactness of its mapping cone, which is isomorphic to HomA (F, C(β)) . Thus, we want to show that each chain map F −→ C(β) is homotopic to 0. Such a chain map is a lifting of F −→ 0 over the quasi-isomorphism C(β) −→ 0. Since 0: F −→ C(β) is another such lifting, they are homotopic by Proposition 1.3.1.
To prove that β ⊗A F is a quasi-isomorphism, we use the exact sequences 0 −→ Fn −→ Fn+1 −→ Fn+1 −→ 0 of DG modules over A, involving the submodules Fn from the preceding proof. The sequences split over A♮, and so induce commutative diagrams with exact rows
0 −−−−→ U⊗AFn −−−−→ U⊗AFn+1 −−−−→ U⊗AFn+1 −−−−→ 0 
β⊗AF n􏰬 β⊗AF n+1􏰬 β⊗AF n+1􏰬 0−−−−→V⊗AFn −−−−→V⊗AFn+1 −−−−→V⊗AFn+1 −−−−→0.
By induction on n, we may assume that β ⊗A F n is a quasi-isomorphism. As Fn+1 ∼= 􏰠 Aeλ with ∂(eλ)=0forallλ∈Λn+1,
λ∈Λn+1
the map β ⊗A F n+1 is a quasi-isomorphism. By the Five-Lemma, β ⊗A F n+1 is one
as well, hence so is β ⊗A F = β ⊗ (inj limn F n ) = inj limn (β ⊗A F n ). 􏰏 Proposition 1.3.3. Let U be a DG module over a DG algebra A. Each quasi-iso-
morphism γ : F −→ G of semi-free modules induces quasi-isomorphisms
HomA (γ, U) : HomA (G, U) −→ HomA (F, U) ; γ ⊗A U : F ⊗A U −→ G ⊗A U.
Proof. The mapping cone C = C(γ) is exact. It is semi-free, so by the pre- ceding proposition the quasi-isomorphism C −→ 0 induces a quasi-isomorphism HomA (C, C) −→ 0. Thus, there is a homotopy σ from idC to 0C . It is eas- ily verified that HomA (σ,U) and σ ⊗A U are null-homotopies on HomA (C,U) and C ⊗A U, so these complexes are exact. They are isomorphic, respectively, to Σ−1 C(HomA (γ,U)) and C(γ ⊗A U), which are therefore exact. We conclude that HomA (γ,U) and γ ⊗A U are quasi-isomorphisms. 􏰏
The preceding results have interesting applications even for complexes over a ring. A first illustration occurs in the proof of Proposition 1.1.2. Another one is in the following proof of the classical Ku ̈nneth Theorem.
Proposition 1.3.4. If G is a bounded below complex of free R–modules, such that F = H(G) is free, then the Ku ̈nneth map
κGU : H(G) ⊗R H(U ) −→ H(G ⊗R U ) , κGU (cls(g) ⊗ cls(u)) = cls(g ⊗ u) ,
is an isomorphism for each complex of R–modules U.
      
INFINITE FREE RESOLUTIONS 15
Proof. Set F = H(G). The composition of an R– linear splitting of the surjection Z(G) −→ F with the injection Z(G) −→ G is a quasi-isomorphism γ : F −→ G of semi- free DG modules over R. By the last proposition, so is γ ⊗R U : F ⊗R U −→ G ⊗R U . The Ku ̈nneth map being natural, it suffices to show that κFU is bijective. As ∂F = 0 and each Fn is free, this is clear. 􏰏

16 L. L. AVRAMOV
2. Multiplicative structures on resolutions
Is it possible to ‘enrich’ resolutions over a commutative ring Q, by endowing them with DG module or DG algebra structures? The rather complete—if at first puzzling—answer comes in three parts:
• For residue rings of Q, algebra structures are carried by essentially all res- olutions of length ≤ 3; for finite Q–modules, DG module structures exist on all resolutions of length ≤ 2.
• Beyond these bounds, not all resolutions support such structures.
• There always exist resolutions, that do carry the desired structure.
In this chapter we present in detail the results available on all three counts. Most developments in the rest of the notes are built on resolutions that comply with the Fourth Commandment10.
2.1. DG algebra resolutions. Let Q be a commutative ring and let R be a Q–algebra. A DG algebra resolution of R over Q consists of a (commutative) DG algebra A, such that Ai is a projective Q–module for each i, and a quasi- isomorphism εA : A −→ R of DG algebras over Q.
The next example is the grandfather of all DG algebra resolutions.
Example 2.1.0. If R = Q/(f) for a Q–regular sequence f, then the Koszul com-
plex on f is a DG algebra resolution of R over Q.
‘Short’ projective resolutions often carry DG algebra structures.
Example 2.1.1. If R = Q/I has a resolution A of length 1 of the form 0 −→ F 1 −→ Q −→ 0
then the only product that makes it a graded algebra over Q is defined by the condition F1 · F1 = 0; it clearly makes A into a DG algebra.
If φ is a matrix, then for J,K ⊂ N we denote φKJ the submatrix obtained by deleting the rows with indices from J and the columns with indices from K.
Example 2.1.2. If R = Q/I has a free resolution of length 2, then by the Hilbert- Burch Theorem there exist a non-zero-divisor a and an r × (r − 1) matrix φ, such that a free resolution of R over Q is given by the complex
r−1 r
􏰠 ∂2 􏰠 ∂1
A: 0−→ Qfk−→ Qej−→Q−→0
k=1 j=1
∂2 = φ ∂1 = a􏰁det(φ1),...,(−1)j−1 det(φj),...,(−1)r−1 det(φr)􏰂
Herzog [86] shows that there exists a unique DG algebra structure on A, namely: r−1
ej ·ek =−ek ·ej =−a􏰈(−1)j+k+ldet(φljk)fl for j<k; ej ·ej =0. l=1
Example 2.1.3. An ideal I in a local ring (Q,n) is Gorenstein if R = Q/I has pdQR=p<∞,ExtnQ(R,Q) =0forn̸=p,andExtpQ(R,Q) ∼=R;thus,whenQ is regular, I is Gorenstein if and only if R is a Gorenstein ring.
10Resolve in kind!
 
INFINITE FREE RESOLUTIONS 17
If I is Gorenstein, pdQ R = 3, and I is minimally generated by r elements, then J. Watanabe [157] proves that the number r is odd, and Buchsbaum-Eisenbud [47] show that there exists an alternating r × r matrix φ with elements in n, such that a minimal free resolution A of R over Q has the form
rr
∂3 􏰠 A: 0−→Qg−→
∂2 􏰠 ∂1
Qfk −→
∂2 = φ ∂1 = 􏰁pf(φ1),...,(−1)j−1 pf(φj),...,(−1)r−1 pf(φr)􏰂 = ∂3∗
where pf(α) is the Pfaffian of α. A DG algebra structure on A is given by r
ej · ek = −ek · ej = 􏰈(−1)j+k+lρjkl pf(φjkl)fl for j < k ; jkl
l=1
ej ·ej =0; ej ·fk =fk ·ej =δjkg,
where ρjkl is equal to −1 if j < l < k, and to 1 otherwise, cf. [21].
More generally, Buchsbaum and Eisenbud [47] prove that DG algebra structures
always exist in projective dimension ≤ 3:
Proposition 2.1.4. If A is a projective resolution of a Q–module R, such that
A0 =Q and An =0 for n≥4, then A has a structure of DG algebra. Proof. For the construction, consider the complex S2(A), that starts as
2 δ4
...−→(A1 ⊗A3)⊕S (A2)⊕A4 −→(A1 ⊗A2)⊕A3
δ3􏰣2 δ2 δ1
−→( A1)⊕A2 −→A1 −→Q−→0
with differentials defined by the condition δn|An = ∂n and the formulas δ2(a ∧ b) = ∂1(a)b − ∂1(b)a ; δ3(a ⊗ b) = −a ∧ ∂2(b) + ∂1(a)b ;
δ4(a ⊗ b) = ∂1(a)b − a ∗ ∂3(b) ; δ4(a ∗ b) = ∂2(a) ⊗ b + ∂2(b) ⊗ a ,
where ∗ denotes the product in the symmetric algebra. The complex S2(A) is projective and naturally augmented to R, so by the Lifting Theorem there is a morphism μ: S2(A) −→ A that extends the identity map of R.
Define a product on A (temporarily denoted ·) by composing the canonical pro- jection A⊗A −→ S2(A) with μ. With the unit 1 ∈ Q = A0, one has all the proper- ties required from a DG algebra except, possibly, associativity. Because An = 0 for n ≥ 4, this may be an issue only for a product of three elements a, b, c, of degree 1. For them we have
∂3((a · b) · c) = ∂2(a · b) · c + (a · b)∂1(c)
= (∂1(a)b) · c − (∂1(b)a) · c + (a · b)∂1(c)
= ∂1(a)(b · c) − ∂1(b)(a · c) + ∂1(c)(a · b) . A similar computation of ∂3(a · (b · c)) yields the same result.
As∂3 isinjective,weconcludethat(a·b)·c=a·(b·c). 􏰏
Next we describe two existence results in projective dimension 4.
Example 2.1.5. If Q is local, pdQ Q/I = 4, and I is Gorenstein, then Kustin and
Miller [101] prove that the minimal free resolution of R over Q has a DG algebra
structure if Q ∋ 1 , a restriction removed later by Kustin [97]. 2
k=1
j=1
Qej −→Q−→0
 
18 L. L. AVRAMOV
Example 2.1.6. If I is a grade 4 perfect ideal generated by 5 elements in a local ring Q containing 1 , then Kustin [98], building on work of Palmer [127], constructs
2
a DG algebra structure on the minimal free resolution of Q/I.
The question naturally arises whether it is possible to put a DG algebra structure on each minimal resolution of a residue ring of a local ring. As far as the projective dimension is concerned, the list above turns out to be essentially complete: for (perfect) counterexamples in dimension 4, cf. Theorem 2.3.1.
On the positive side, each Q–algebra has some DG algebra resolution, obtained by a universal construction: Given a cycle z in a DG algebra A, we embed A into a DG algebra A′ by freely adjoining a variable y such that ∂y = z. In A′ the cycle z has been killed: it has become a boundary.
Construction 2.1.7. Exterior variable. When |z| is even, k[y] is the exterior algebra over k of a free k–module on a generator y of degree |z| + 1; the differential of A[y]♮ = A♮ ⊗k k[y] is given by
∂(a0 + a1y) = ∂(a0) + ∂(a1)y + (−1)|a1|a1z ;
thus, when A is concentrated in degree zero, A[y] is the Koszul complex K(z;A).
Construction 2.1.8. Polynomial variable. When |z| is odd, k[y] is the polyno- mial ring over k on a variable y of degree |z| + 1, A[y]♮ = A♮ ⊗k k[y], and
􏰚􏰛
∂ 􏰈aiyi =􏰈∂(ai)yi+􏰈(−1)|ai|iaizyi−1.
iii
In either case, ∂ is the unique differential on A[y]♮ that extends the differential on A, satisfies ∂(y) = z, and the Leibniz formula; we call y a variable over A, and often use the more complete notation, A[y | ∂(y) = z].
Let u = cls(z) ∈ H(A) be the class of z. The quotient complex A[y]/A is trivial in degrees n ≤ |z| and is equal to A0y in degree n = |z| + 1, so the homology exact sequence shows that the inclusion A 􏰐→ A[y] induces a morphism of graded algebras H(A)/u H(A) −→ H(A[y]) that is bijective in degrees ≤ |z|.
A semi-free extension of A is a DG algebra A′ obtained by repeated adjunction of free variables. If Y is the set of all variables adjoined in the process, then we writeA[Y]forA′;wealsosetYn ={y∈Y ||y|=n}andY􏰵n =􏰇ni=0Yi. Semi-free algebra extensions have a lifting property:
Proposition 2.1.9. If A[Y ] is a semi-free extension of a DG algebra A, then each diagram of morphisms of DG algebras over A represented by solid arrows
aa B γ
≃β GG 
A[Y]α C
with a surjective quasi-isomorphism β can be completed to a commutative diagram
by a morphism γ, that is defined uniquely up to A–linear homotopy.
Proof. Set Ai = A[Y􏰵 i]. Starting with the structure map A −→ B, we assume that for some n ≥ −1 we have a morphism γn: An −→ B of DG algebras over A, with βγn = α|An . Over An, the set {1} ∪ Yn+1 generates a semi-free submodule F n+1 of A[Y ]. By Theorem 1.3.1, γn extends to a morphism δn+1 : F n+1 −→ B of DG
                        
INFINITE FREE RESOLUTIONS 19
modules over An. The graded commutative algebra (An+1)♮ is freely generated over (An)♮ by Yn+1, so δn+1 extends uniquely to a homomorphisms of graded algebras γn+1 : An+1 −→ B. Since δn+1 is a morphism of DG modules, γn+1 is necessarily a morphism of DG algebras. In the limit, one gets a morphism of DG algebras γ : A[Y ] −→ B, with the desired properties. 􏰏
A resolvent of Q–algebra R is a DG algebra resolution of R over Q, that is a semi-free DG algebra extension of Q.
Proposition 2.1.10. Each (surjective) homomorphism ψ : Q −→ R has a resolvent Q[Y ] (with Y0 = ∅). When Q is noetherian and R is a finitely generated Q–algebra there exists a resolvent with Yn finite for each n.
Proof. Factor ψ as an inclusion Q 􏰐→ Q[Y0] into a polynomial ring on a set Y0 of variables and a surjective morphism ψ′ : Q[Y0] 􏰲 R that maps Y0 to a set of generators of the Q–algebra R. The Koszul complex Q 􏰐→ Q[Y0][[Y􏰵 1] on a set of generators of Ker ψ′ is a semi-free extension of Q, with H0(Q[Y􏰵 1]) ∼= R.
By induction on i, assume that consecutive adjunctions to Q[Y􏰵 1] of sets Yj of variables of degrees j = 2,...,n have produced an extension Q 􏰐→ Q[Y􏰵n] with Hi(Q[Y􏰵 n]) = 0 for 0 < i < n. Adjoin to Q[Y􏰵 n] a set Yn+1 of variables of degree n + 1 that kill a set of generators of the Q[Y0]–module Hn(Q[Y􏰵 n]). As observed above, we then get Hi(Q[Y􏰵 n+1]) = 0 for 0 < i < n + 1.
Going over the induction procedure with a noetherian hypothesis in hand, it is easy to see that a finite set Yn suffices at each step. 􏰏
2.2. DG module resolutions. There is nothing esoteric about DG module struc- tures on resolutions of modules. In fact, they offer a particularly adequate frame- work for important commutative algebra information.
Remark 2.2.1. Let U be a free resolution of a Q–module M. If f ∈ (0:Q M), then both f idU and 0U induce the zero map on M, hence they are homotopic,
say fidU = ∂σ+σ∂. A homotopy σ such that σ2 = 0 exists if and only if U can be made a DG module over the Koszul complex A = Q[y|∂(y) = f]: just set yu = σ(u), and note that the homotopy condition for σ translates precisely into the Leibniz rule fu = ∂(yu) + y∂(u) for the action of y.
In some cases one can prove the existence of a square-zero homotopy.
Proposition 2.2.2. If (Q, n, k) is a local ring, f ∈ n 􏰒 n2, and M is a Q–module such that fM = 0, then the minimal free resolution U of M over Q has a structure of semi-free DG module over the Koszul complex A = Q[y|∂(y) = f].
Proof. Setting fj = f idUj , we restate the desired assertion as follows: For each j there is a homomorphism σj : Uj −→ Uj+1, such that:
∂j+1σj + σj−1∂j = fj ; σj−1(Uj−1) = Ker σj ;
σj−1(Uj−1) is a direct summand of Uj .
Indeed, by the preceding remark the first two conditions define on U a structure of DG module over A; the third one is then equivalent to an isomorphism of A♮– modules U♮ ∼= A♮ ⊗Q V , with V = U♮/yU♮.
The map σj = 0 has the desired properties when j < 0, so we assume by induction that σj has been constructed for j ≤ i, with i ≥ −1. Since
∂i+1(fi+1 − σi∂i+1) = f∂i+1 − ∂i+1σi∂i+1 = f∂i+1 − f∂i+1 + σi−1∂i∂i+1 = 0

20 L. L. AVRAMOV
and U is acyclic, there exists a map σi+1 such that ∂i+2σi+1 = fi+1 − σi∂i+1.
Furthermore, as σiσi−1 = 0 by the induction hypothesis, we have (fi+1 −σi∂i+1)σi =fσi −σi∂i+1σi =fσi −fσi +σiσi−1∂i =0.
Thus, we can arrange for σi+1 to be zero on the direct summand Imσi of Ui+1. Let Vi+1 be a complementary direct summand of Im σi in Ui+1. For v ∈ Vi+1 􏰒 nVi+1, we have ∂i+2σi+1(v) = fv − σi∂i+1(v). The two terms on the right lie in distinct direct summands, and fv ∈/ n2Vi+1, so ∂i+2σi+1(v) ∈/ n2Ui+1, and thus σi+1(v) ∈/ nUi+2. This shows that σi+1 ⊗Q k: Vi+1 ⊗Q k −→ Ui+2 ⊗Q k is injective, so σi+1 is a split injection, completing the induction step. 􏰏
The construction of σ above is taken from Shamash [143]; it is implicit in Na- gata’s [124] description of the syzygies of M over Q/(f) in terms of those over Q, presented next; neither source uses DG module structures.
Theorem 2.2.3. Let (Q, n, k) be a local ring, let f ∈ n 􏰒 n2 be Q–regular, and let M be a finite module over R = Q/(f). If U is a minimal free resolution of M over Q, then there exists a homotopy σ from idU to 0U , such that
U′:...−→ Un −→...−→ U1 −→U0−→0 (∗) fUn + σ(Un−1) fU1 + σ(U0) fU0
is a minimal R–free resolution of M and rankQ Un = rankR Un′ + rankR Un′ −1.
Proof. Set A = Q[y|∂(y) = f]. By the preceding proposition, U is a semi-free DG moduleoverA=Q[y|∂(y)=f]. Letσbethehomotopygivenbyleftmultiplication with y. By Proposition 1.3.2 the quasi-isomorphism A −→ R induces a quasi- isomorphismU−→U⊗AR=U′. ThecomplexU/(f,y)U=U/􏰁fU+σ(U)􏰂=U′ is obviously minimal, so we are done. 􏰏
DG module structures are more affordable than DG algebra structures.
Remark 2.2.4. Let S = Q/J, and let B be a DG algebra resolution of S over Q. If A is the Koszul complex on a sequence f ⊂ J, then by Proposition 2.1.9 the canonical map A −→ Q/(f) −→ S lifts over the surjective quasi-isomorphism B −→ S to a morphism A −→ B of DG algebras over Q.
Thus, any DG algebra resolution of S over Q is a DG module over each Koszul complexK(f;Q). However,DGmodulestructuresmayexistevenwhenDGalgebra structures do not: for an explicit example, cf. Srinivasan [146].
Short projective resolutions always carry DG module structures: Iyengar [92] notes that a modification of the argument for Proposition 2.1.4 yields
Proposition 2.2.5. Let R = Q/I, and let M be an R–module. If U is a projective resolution of M, and Un = 0 for n ≥ 3, then U has a structure of DG module over each DG algebra resolution A of R over Q. 􏰏
On the other hand, not all minimal resolutions of length ≥ 3 support DG module structures over DG algebras A ̸= Q, cf. Theorem 2.3.1.
Let A be a DG algebra resolution of R over Q, and let M be an R–module. A DG module resolution of M over A is a quasi-isomorphism εU : U −→ M of DG modules over A, such that for each n the Q–module Un is projective. To construct such resolutions in general, we describe a ‘linear’ adjunction process.
   
INFINITE FREE RESOLUTIONS 21
Construction 2.2.6. Adjunction of basis elements. Let V be a DG module
over A, and Z = {zλ ∈ V }λ∈Λ be a set of cycles. For a linearly independent set
Y = {yλ : |yλ| = |zλ| + 1}λ∈Λ over the graded algebra A♮ underlying A, set 􏰚􏰛
∂ v+􏰈aλyλ =∂(v)+􏰈∂(aλ)yλ +(−1)|aλ| 􏰈aλzλ . λ∈Λ λ∈Λ λ∈Λ
This is the unique differential on V 􏰅λ∈Λ Ayλ which extends that of V , satisfies the Leibniz rule, and has ∂(yλ) = zλ for λ ∈ Λ.
Proposition 2.2.7. If A is a DG algebra resolution of R over Q and M is an R–module, then M has a semi-free resolution U over A.
Proof. Pick a surjective homomorphism F −→ M from a free Q–module, and extend it to a chain map of DG modules ε0: U0 = A⊗Q F −→ M. Clearly, H0(ε0) is surjective. If Z0 is a set of cycles whose classes generate KerH0(ε0), then let U1 be the semi-free extension of U0, obtained by adjunction of a linearly independent set Y1 that kills Z0. Extend ε0 to ε1: U1 −→ M by ε1(Y1) = 0, and note that H0(ε1) is an isomorphism. Successively adjoining linearly independent sets Y n, of elements of degree n = 2, 3, . . . that kill sets Z n−1 of cycles generating Hn−1 (U n−1 ), we get a semi-free DG module U = 􏰇n Un over A, with a quasi-isomorphism ε U : U −→ M . 􏰏
In an important case, the constructions are essentially finite.
Proposition 2.2.8. Let Q be a noetherian ring.
If R is a finite Q–algebra and M is a finite R–module, then there exist a DG
algebra resolution A of R over Q and a DG module resolution U of M over A, such that the Q–modules Coker(ηA : Q −→ A0), An, and Un, are finite projective for all n and are trivial for n > max{pdQ R, pdQ M }.
Proof. If r1,...,rs generate R as a Q–module, then each rj is a root of a monic polynomial fj ∈ Q[xj], hence R is a residue of Q′ = Q[x1,...,xs]/(f1,...,fs), which is a free Q–module. Use Proposition 2.1.10 to pick a resolvent A′ = Q′[Y ] such that each A′n is a finite free module over Q′. Then use Construction 2.2.7 to get a semi-free resolution U′ of M over A′ with each Un′ a finite free Q′–module; in particular, A′n and Un′ are finite free Q–modules.
If max{pdQ R, pdQ M} = m < ∞, then define a Q–submodule V of U′ by setting V<m = 0, Vm = ∂(Um′ +1), and V>m = U>′ m. It is easy to check that V ={Vn}isaDGA′–submodulewithH(V)=0,henceU =U′/V hasH(U)=M. The assumption on pdQ M implies that the Q–module Um is projective, so U is a DG module resolution of M over A′. Similarly, one sees that J ⊆ A′ defined byJ<m =0,Jm =∂(A′m+1),andJ>m =A′>m,isaDGidealofA,suchthat A = A′/J is a DG algebra resolution of R. Finally, the Leibniz formula shows that JU′ ⊆V,soU isaDGmoduleoverA.
The fact that Cokerη is projective can be checked locally; Nakayama’s Lemma then shows that Imη is a direct summand of the free Q–module A0. 􏰏

22 L. L. AVRAMOV
2.3. Products versus minimality. Our goal is the following non-existence
Theorem 2.3.1. Let k be a field, and Q be the polynomial ring k[s1, s2, s3, s4] with the usual grading, or the power series ring k[[s1, s2, s3, s4]]. There exists no DG algebra structure on the minimal Q–free resolution U of the residue ring
S = Q/I where I = (s21 , s1s2 , s2s3 , s3s4 , s24)
or on the minimal Q–free resolution U′ of the Cohen-Macaulay residue ring
S′ =Q/I′ where I′ =I+(s1s63,s72, s62s4,s73).
IfAisaDGalgebraoverQ,andU orU′ isaDGmoduleoverA,thenA=Q.
Remark . To prove the theorem, we check by a direct computation the non-vanishing of certain obstructions introduced by Avramov [22], and described in Theorem 3.2.6 below. Both the examples and the computations simplify those appearing in [22], and were developed in conversations with S. Iyengar.
As in [22], the examples can be used to generate, in any local ring Q with depth Q = g ≥ 4 (respectively, ≥ 6) perfect ideals of prescribed grades between 4 and g (respectively, Gorenstein ideals of prescribed grades between 6 and g), whose minimal free resolution admits no DG algebra structure.
Gorenstein ideals of grade 5 with this property had been missing, until the paper of Srinivasan [147]. The last open question, whether the minimal resolution of each non-cyclic module of projective dimension 3 (recall Proposition 2.1.4 and Proposition 2.2.5) carries a structure of DG module over some DG algebra A ̸= Q, was answered by Iyengar [92] with perfect counter-examples.
Construction 2.3.2. Tor algebras. Let S ←− R −→ k be homomorphisms of rings. If D is a DG algebra resolution D of S over R that is a resolution of S by free R–modules, cf. Proposition 2.1.10, then TorR (S, k) = H(D ⊗R k) inherits a structure of graded algebra. It can be computed also from a DG algebra resolution E of the second argument, or from resolvents of both arguments, due to the quasi- isomorphisms of DG algebras
D⊗RεE εD⊗RE
D ⊗R k ←−−−−− D ⊗R E −−−−−→ S ⊗R E .
Varying in these isomorphisms one varies one of D or E, while keeping the other fixed, one sees that the algebra structure on Tor does not depend on the choice of a DG algebra resolution. It can even be computed11 from projective resolutions D′ and E′ with no multiplicative structure: the unique up to homotopy lifting of μS:S⊗RS−→StoamorphismμD′:D′⊗RD′ −→D′,thatconspireswiththe Ku ̈nneth map of Proposition 1.3.4 to produce
′′κ′′
H(D ⊗R k)⊗R H(D ⊗R k)−→H((D ⊗R k)⊗R (D ⊗R k))
∼ ′ ′ H(μD′⊗Rμk) ′ =H((D ⊗R D)⊗R (k⊗R k))−−−−−−−−→H(D ⊗R k).
As the multiplication μD : D ⊗R D −→ D also is a comparison map, the unique isomorphism H(D′ ⊗R k) ∼= H(D ⊗R k) transforms products into each other.
There is a related structure in the case of R–modules.
11In fact, this is how they were originally introduced by Cartan and Eilenberg [51].
 
INFINITE FREE RESOLUTIONS 23
Construction 2.3.3. Tor modules. Let ψ: Q −→ R and R −→ k be homomor- phisms of rings, and let M be an R–module.
Choose a DG algebra resolution εA : A −→ R over Q, by Proposition 2.1.10, and a semi-free resolution εU : U −→ M over A, by Proposition 2.2.7. As both A and U are free over Q, we see that TorQ (M, k) = H(U ⊗Q k) is a module over the graded algebra TorQ (R, k) = H(A ⊗Q k) from the preceding construction. Recycling the discussion there, we verify that this structure is unique, and natural with respect to the module arguments.
The constructions also have a less well known naturality with respect to the ring argument; it is the one that we need.
Construction 2.3.4. Naturality. If ψ : Q −→ R is a ring homomorphism, then k becomes a Q–algebra, so pick a DG algebra resolution C of k over Q. By Proposition 2.1.9, there is a morphism of DG algebras γ : C −→ E over the identity map of k, that is unique up to Q–linear homotopy. The induced map H(M ⊗ψ γ): H(M ⊗Q C) −→ H(M ⊗R E) is linear over H(R ⊗Q C), and does not depend on the choice of γ. Thus, there is a natural homomorphism Torψ (M, k) : TorQ (M, k) −→ TorR (M, k) of TorQ (R, k) –modules.
If U′ −→ M ←− V ′ and C′ −→ k ←− E′ are arbitrary free resolutions, respectively over Q and over R, and β′: U′ −→ V′ and γ′: C′ −→ E′ are morphisms inducing idM and idk, then Torψ (M,k) = H(β′ ⊗ψ k) = H(M ⊗ψ γ′).
Remark 2.3.5. Let (Q, n, k) be a local (or graded) ring, let f ∈ n be a (homoge- neous) regular element, let ψ: Q −→ Q/(f) = R be the natural projection, and let A be the Koszul complex Q[y|∂(y) = f].
For a DG module resolution U of M over A, set U⟨x⟩ = 􏰅i􏰶 0 Rx(i) ⊗Q U, with |x(i)| = 2i and ∂(x(i) ⊗ u) = x(i−1) ⊗ yu + x(i) ⊗ ∂(u). In Example 3.1.2, we show that U⟨x⟩ is a resolution of M over R. By Theorem 3.2.6 and Remark 3.2.7, if U is minimal, then Ker(Torψn (M, k) ) = cls(y) TorQn−1 (M, k) for n ≥ 1.
Proof of Theorem 2.3.1. First we look at the residue ring S. By Remark 2.2.4, it suffices to prove that its minimal free resolution U, over Q = k[s1,s2,s3,s4] or over Q = k[[s1,s2,s3,s4]], has no DG module structure over the Koszul complex A = Q[y | ∂(y) = f], where f = s21 + s24. By the preceding remark, this will follow from cls(y) TorQ3 (S, k) 􏰑 Ker(Torψ4 (S, k) ). The Tor’s involved do not change under completion, so we restrict to the graded polynomial ring.
The Koszul resolvent C = Q[y1, y2, y3, y4 | ∂(yi) = si] of k over Q is a DG algebra over A, via the map y 􏰀→ s1y1 + s4y4; by Remark 2.3.5, the complex C⟨x⟩, is a resolution of k over R = Q/(f). For K = S ⊗Q C, we have
TorQ (S,k) = H(U ⊗Q k) ∼= H(K) (∗)
as modules over TorQ (R, k) = k[y | ∂(y) = 0], cf. Construction 2.3.3. The iso- morphisms takes Ker Torψ (S, k) to Ker H(ι), where ι is the inclusion K ⊂ L = S ⊗R C⟨x⟩. So it suffices to exhibit an element
w ∈ Ker H4(ι) 􏰒 cls(y) H3(K) . (†) It is easy to check that the cycles
z1 =(s1s4)y1 ∧y2 ∧y3 , z2 =(s1s4)y1 ∧y2 ∧y4 , z3 =(s1s4)y1 ∧y3 ∧y4 , z4 =(s2s4)y1 ∧y3 ∧y4 ,
     
24 L. L. AVRAMOV
are linearly independent modulo S∂(y1 ∧ · · · ∧ y4). MACAULAY [40] shows that
the minimal graded resolution U of the S over Q has the form
∂4 4∂3 3 4∂2 5∂1
0−→Q(−6)−→Q(−5) −→Q(−4) ⊕Q(−3) −→Q(−2) −→Q−→0 (‡) with differentials given by the matrices
∂1 = 􏰁s21 s1s2 s2s3 s3s4 s24􏰂
0 0 0 −s2 −s24 0 −s3s4
00−s3s1 0−s24 0
∂2=0 −s4 s1 0 0 0 0 
−s s 0 0 0 0 s2  42 1
s3 0 0 0 s21 s1s2 0 0 0 s1s2 s21
s2 0 ss 0 1 14 
s1s4 0 s24 0
 2 
∂3 = s3s4s400
−s2
From (∗) and (‡) we get rankk H3(K) = 4, so cls(z1), . . . , cls(z4) is a basis of H3(K).
As yzi = (s1y1 + s4y4)zi = 0 for i = 1, . . . , 4, we get cls(y) H3(K) = 0. Now z = (s1s4) y1 ∧ y2 ∧ y3 ∧ y4 ∈ K4
is a non-zero cycle, and so not a boundary in K, but becomes one in L: z=∂􏰁s4y2 ∧y3 ∧y4y+s2y3x(2)􏰂∈L4.
We have proved that w = cls(z) satisfies (†).
Turning to S′ = S/(s1s63, s72, s62s4, s73), consider the commutative square
ι
K −−−−→ L  π􏰬 􏰬π′
 0 −s2 0 −s3
−s 4
s3 ∂4 =  s1  
 0s1−s30
−s2 0 0 s4
′ ′ ι′ ′ ′ S ⊗S K −−−−→ S ⊗S L     L
K
of morphisms of complexes, with ι′ = S′ ⊗S ι. For w′ = H(π)(w) it yields
  H(ι′)(w′) = H(π′) H(ι)(w) = 0 .
Assume w′ ∈ cls(y) H3(K′), set m = (t1, . . . , t4), and consider the subcomplex
J: 0−→m3K4 −→m4K3 −→m5K2 −→m6K1 −→m7K0 −→0
of K. Since (∗) and (‡) show that the non-zero homology of K is concentrated in internal degrees ≤ 6, cf. Remark 1.2.10, we conclude that H(J) = 0, so the projection ξ: K −→ K/J is a quasi-isomorphism. On the other hand, it is clear thatJisaDGidealofK,suchthatKerπ=m7K⊂J. Thus,ξ=ρπ,where ρ: K′ −→ K/J is the canonical map. By the surjectivity of H(ξ), we have
H(ξ)(w) = H(ρ)(w′) ⊆ cls(y) H(ξ)􏰁 H3(K)􏰂 = H(ξ)(cls(y) H3(K)) .
The injectivity of H(ξ) implies w ∈ cls(y) H3(K), violating (†).
Thus, we have found w′ ∈ Ker H4(ι′)􏰒cls(y) H3(K′). As above, this implies that U′ carries no structure of DG module over A. 􏰏

INFINITE FREE RESOLUTIONS 25
3. Change of rings
Fix a homomorphism of rings ψ: Q −→ R, and an R–module M.
We consider various aspects of the problem: How can homological information onRandM overQbeusedtostudythemoduleM overR?
3.1. Universal resolutions. A recent result of Iyengar [92] addresses this problem on the level of resolutions12.
Theorem 3.1.1. Let εA : A −→ R be a DG algebra resolution over Q with structure map ηA : Q −→ A, and let εU : U −→ M be a DG module resolution of M over A. With A=(R⊗Q CokerηA) and U =(R⊗Q U), set
Fn(A,U)= 􏰠 Ai1 ⊗R···⊗RAip ⊗RUj; p+i1 +···+ip +j =n
p
∂′(a1 ⊗···⊗ap ⊗u)=􏰈(−1)r+i1+···+ir−1 a1 ⊗···⊗∂(ar)⊗···⊗ap ⊗u
r=1
+(−1)p+i1+···+ip a1 ⊗···⊗ap ⊗∂(u); p−1
∂′′(a1 ⊗···⊗ap ⊗u)=􏰈(−1)r+i1+···+ir a1 ⊗···⊗arar+1 ⊗···⊗ap ⊗u r=1
+ (−1)p+i1+···+ip−1 a1 ⊗ · · · ⊗ ap−1 ⊗ apu .
The homomorphisms ∂ = ∂′ +∂′′: Fn(A,U) −→ Fn−1(A,U) make F(A,U) into a complex of R–modules. If the Q–modules Coker ηiA and Ui are free for all i, then it is a free resolution of M over R.
When Q is a field, A = A0, and U is an A–module, this is the well known standard resolution. The First Commandment13 points the way to generalizations: this is the philosophy of the proof presented at the end of this section.
Example 3.1.2. Let R = Q/(f) for a non-zero-divisor f. If U has a homotopy ∂σ+σ∂ = fidU with σ2 = 0, then by Remark 2.2.1 it is a DG module over A=Q[y|∂(y)=f]. AsA1 =RyandAi =0fori̸=1,allbutthelastsummands in the expressions for ∂′ and ∂′′ vanish, so F(A,U) takes the form
                          􏰠 (i) ∂ 􏰠 (i) ... −→ Rx ⊗Q Un−2i −→ Rx
⊗Q Un−1−2i −→ ...
wherex(i) =y⊗···⊗y(icopies),and∂􏰁x(i)⊗u􏰂=x(i−1)⊗σ(u)+x(i)⊗∂(u).
In the setup of the example, a resolution of M over R can be constructed even if no square-zero homotopy is available: this is the contents of the next theorem, due to Shamash [143]; the proof we present is from [25].
12In view of Proposition 2.2.8, if Q is noetherian and finite projective Q–modules are free, then a resolution of M over R is finitistically determined by matrix data over Q, namely, the multiplication tables of the algebra A and the module U, and the differentials in these finite complexes. With the help of computer algebra systems, such as MACAULAY [40], these data can be effectively gathered, at least when Q is a polynomial ring over a (small) field.
13Resolve!
ii
   
26 L. L. AVRAMOV
Theorem 3.1.3. If R = Q/(f) for a non-zero-divisor f, M is an R–module, and U is a resolution of M by free Q–modules, then there exists a family of Q–linear homomorphisms σ = 􏰁σ[j] ∈ HomQ (U, U) 2j−1􏰂j 􏰶 0, such that
n
σ[0] =∂; σ[0]σ[1] +σ[1]σ[0] =fidU ; 􏰈σ[j]σ[n−j] =0 for n≥2.
j=0
If {x(i) : |x(i)| = 2i}i 􏰶 0 is a linearly independent set over R, then
n
􏰠 (i)
n−1
∂ 􏰠 (i)
... −→ Rx i=0
⊗Q Un−2i −→ Rx ⊗Q Un−1−2i −→ ... i=0
i
∂􏰁x(i) ⊗ u􏰂 = 􏰈 x(i−j) ⊗ σ[j](u)
j=0 is a free resolution G(σ,U) of M over R.
Remark . Clearly, σ = σ[1] is a homotopy between f idU and 0U .
then one can take σ[n] = 0 for n ≥ 2, and both proposition and example yield the same resolution. In general, rewriting the condition for n = 2 in the form ∂σ[2] + σ[2]∂ = −σ2, we see that σ[2] is a homotopy which corrects the failure of σ2 to be actually 0. A similar interpretation applies to all σ[n] with n ≥ 3, so σ is a family of higher homotopies between f idU and 0U .
Proof. Note that σ[0] is determined, let σ[1] be any homotopy such that f idU = ∂σ[1] + σ[1]∂, and assume by induction that maps σ[j] with the desired properties havebeendefinedwhen1≤j<nforsomen≥2. Settingτ[1] =fidU and τ[j]=−􏰆j−1σ[h]σ[j−h] forj≥2,wehave∂σ[j]=τ[j]−σ[j]∂,whence
h=1
∂σ[j]σ[n−j] =τ[j]σ[n−j]−σ[j]τ[n−j]+σ[j]σ[n−j]∂ forj=1,...,n−1.
Summing up these equalities, we are left with ∂τ[n] = τ[n]∂, so τ[n] is a cycle ≃
of degree 2n − 2 in the complex HomQ (U, U ) . By Proposition 1.3.2, U −→ M induces a quasi-isomorphism HomQ (U, U ) −→ HomQ (U, M ) ; the latter complex is zero in positive degrees, hence τ[n] is a boundary. Thus, there is a homomorphism σ[n] : U −→ U of degree 2n − 1, such that τ[n] = ∂σ[n] + σ[n]∂. This finishes the inductive construction of the family σ.
A direct computation shows that ∂2 = 0. Set G = G(σ,U), and note that there is an exact sequence 0 −→ R⊗Q U −→ G −→ Σ2G −→ 0 of complexes of free R–modules.AsHi(R⊗QU)∼=TorQi (R,M)=0fori̸=0,1,ityields
M∼=H0(R⊗QU)∼=H0(G), Hn+2(G)=Hn(Σ2G)∼=Hn(G) forn≥1, and an exact sequence
2ð
0−→H2(G)−→H2(Σ G)−→H1(R⊗Q U)−→H1(G)−→0.
Acyclicity of G will follow by induction on n, once we prove that ð is bijective.
If z ∈ (Σ2G)2 = Rx⊗Q U0 is a cycle, then ð(cls(z)) is the class of ∂(x⊗z) = 1 ⊗ σ[1](z) ∈ R ⊗Q U1. To show that H0(R ⊗Q σ[1]): H0(R ⊗Q U) −→ H1(R ⊗Q U) is bijective, note that σ[1] is a homotopy between f idU and 0U , so we may replace U by any Q–free resolution V of M, and show that for some homotopy σ between f idV and 0V the map H0(R⊗σ) is bijective. Take V to be a semi-free resolution of M over A = Q[y|∂(y) = f], and σ to be left multiplication by y, so that H0(R⊗σ)
If σ2 = 0,

INFINITE FREE RESOLUTIONS 27
istheactionof1⊗y∈H1(R⊗QA)=TorQ1 (R,R) onH0(R⊗QV)=TorQ0 (R,M). By Construction 2.3.3, it can be computed from the resolution A of R over Q, as the multiplication of H(A⊗Q M) = R[y]⊗R M with −(y⊗1) ∈ H(A⊗Q R) = R[y]; this is obviously bijective. 􏰏
We now turn to the proof of Theorem 3.1.1. It uses a nice tool popular with algebraic topologists, cf. [50], [115], but neglected by commutative algebraists.
Construction 3.1.4. Bar construction. Consider a DG module U over a DG algebra A (as always, defined over k), and set A􏰦 = Coker(ηA : k −→ A). Let
Spk(A,U)=A⊗k A􏰦⊗k ···⊗k A􏰦⊗k U, for p≥0, 􏰯 􏰮􏰭 􏰰
p times
be the DG module, with action of A on the leftmost factor and tensor product
differential ∂p, and set Spk(A,U) = 0 for p < 0. The expression on the right in
δp(a⊗􏰦a1 ⊗···⊗􏰦ap ⊗u) =(aa1)⊗􏰦a2 ⊗···⊗􏰦ap ⊗u p−1
+􏰈(−1)ia⊗􏰦a ⊗···⊗(a􏰧a )⊗···⊗􏰦a ⊗u 1 ii+1 p
i=1
(−1)pa⊗􏰦a1 ⊗···⊗􏰦ap−1 ⊗(apu)
is easily seen to be well-defined. Another easy verification yields δp+1δp = 0 and ∂p−1δp = δp∂p for all p .
Thus, (Sk(A,U),δ) is a complex of DG modules14, called the standard complex. It comes equipped with k-linear maps
π′:S0k(A,U)−→U, a⊗u􏰀→au;
ι′:U−→S0k(A,U), u􏰀→1⊗u;
σp : Sk(A,U) −→ Sk (A,U), p p+1
a⊗􏰦a1 ⊗···⊗􏰦ap ⊗u􏰀→1⊗􏰦a⊗􏰦a1 ⊗···⊗􏰦ap ⊗u, that (are seen by another direct computation to) satisfy the relations
δ1σ0 = idS0k(A,U) −ι′π′ ; δp+1σp+σp−1δp=idSpk(A,U) for p≥1.
In particular, when A and U have trivial differentials, H(Sk (A, U )) ∼= U . If, furthermore, the k–modules A􏰦i and Ui are free for all i, then this free resolution is known as the standard resolution of U over A.
Returning to the DG context, we reorganize Sk(A,U) into a DG module over A, by the process familiar ‘totaling’ procedure. The resulting DG module, with the action of A defined in Section 1.3, is the (normalized) bar construction:
∞
Bk(A, U) = 􏰠 Σp􏰁Spk(A, U)􏰂 with ∂ = ∂′ + ∂′′
p=0
14Of course, a complex in the category of DG modules is a sequence of morphisms of DG modules δp : Cp −→ Cp−1, such that δp−1δp = 0.
   
28 L. L. AVRAMOV
where ∂′ denotes the differential of the DG module ΣpSpk(A,U), and ∂′ is the degree
−1 map induced by the boundary δ of the complex of DG modules Sk(A,U); the equality ∂2 = results from the relations
∂′∂′ =0, ∂′′∂′′ =0, ∂′∂′′ +∂′′∂′ =0,
of which the first two are clear, and the last one is due to the difference by a factor (−1)p of the differentials of Spk(A,U) and ΣpSpk(A,U). Furthermore, the maps π′, ι′, σp, total to maps
π: Bk(A,U) −→ U , ι: U −→ Bk(A,U), σ: Bk(A,U) −→ Bk(A,U). Clearly, π is a morphism of DG modules over A, ι is a morphism of complexes over
k, σ is a degree 1 morphism of complexes over k, and they are related by πι = 1U and ∂σ + σ∂ = idBk(A,U) −ιπ .
Thus, H(π) and H(ι) are inverse isomorphisms, so π is a quasi-isomorphism. The canonical isomorphism of DG modules over the DG algebra A,
Σp􏰁Spk(A,U)􏰂∼=A⊗k Σ(A􏰦)⊗k ···⊗k Σ(A􏰦)⊗k U, 􏰯 􏰮􏰭 􏰰
p times expresses the degree n component of the bar construction as
Bn(A,U)= 􏰠 Ah⊗kA􏰦i1 ⊗k···⊗kA􏰦ip ⊗kUj. h+p+i1 +···+ip +j =n
The signs arising from the application of the shift, cf. Section 1.3, then yield the following expressions for the two parts of the differential:
∂′(a⊗􏰦a1 ⊗...⊗􏰦ap ⊗u)=∂(a)⊗􏰦a1 ⊗···⊗􏰦ap ⊗u p
+􏰈(−1)r+h+i1+···+ir−1a⊗􏰦a1 ⊗···⊗∂(􏰦ar)⊗···⊗􏰦ap ⊗u r=1
+(−1)p+h+i1+···+ipa⊗􏰦a1 ⊗···⊗􏰦ap ⊗∂(u)
∂′′(a⊗􏰦a1 ⊗...⊗􏰦ap ⊗u)=(−1)h(aa1)⊗􏰦a2 ⊗···⊗􏰦ap ⊗u p−1
+􏰈(−1)r+h+i1+···+ira⊗􏰦a ⊗···⊗a􏰨a ⊗···⊗􏰦a ⊗u 1 rr+1 p
r=1
+ (−1)p+h+i1+···+ip−1 a ⊗ 􏰦a1 ⊗ · · · ⊗ 􏰦ap−1 ⊗ (apu) .
This finishes our description of the bar construction.
Proof of Theorem 3.1.1. We apply Construction 3.1.4 to the DG algebra A and its DG module U, considered as complexes over the base ring k = Q. Thus, we get quasi-isomorphisms
Q π εU
B (A,U)−→U−→M.
  On the other hand, as the DG module BQ(A,U) is semi-free over A, so Q Q BQ(A,U)⊗AεA Q
B (A,U)=B (A,U)⊗A A−−−−−−−−−→B (A,U)⊗A R
is a quasi-isomorphism by Proposition 1.3.2. Viewed as a complex of R–modules, BQ(A, U) ⊗A R is precisely the complex F(A, U) described in the statement of the theorem, so F(A,U) is a free resolution of M over R. 􏰏

INFINITE FREE RESOLUTIONS 29
3.2. Spectral sequences. Various spectral sequences relate (co)homological in- variants of M over R and over Q. Those presented below are first quadrant, that is,haverEp,q =0whenp<0orq<0,andofhomologicaltypeof,meaningthat their differentials follow the pattern rdp,q : rEp,q −→ rEp−r,q+r−1.
For starters, here is a classical Cartan-Eilenberg spectral sequence [51]. Proposition 3.2.1. For each Q–module N there exists a spectral sequence
2Ep,q =TorRp 􏰁M,TorQq (R,N)􏰂 =⇒ TorQp+q(M,N).
Proof. Let V −→ M be a free resolution over R, and W −→ N be a free resolution over Q. By Proposition 1.3.2, the induced map V ⊗Q W −→ M ⊗Q W is a quasi- isomorphism, hence H(V ⊗Q W) ∼= TorQ (M,N). As V ⊗Q W ∼= V ⊗R (R ⊗Q W), the filtration (V􏰵 p) ⊗R (R ⊗Q W) yields a spectral sequence
2Ep,q =Hp(V ⊗R Hq(R⊗Q W)) =⇒ TorQp+q (M,N)
whereHq(R⊗QW)=TorQq (R,N)andHp(V⊗RL)=TorRp(M,L). 􏰏
In simple cases, this spectral sequence degenerates to an exact sequence. This may be used to prove the next result, but we take a direct approach.
Proposition 3.2.2. If f is a non-zero-divisor on Q, and N is a module over R = Q/(f), then there is a long exact sequence
R Q Torψn (M,N) R
... −→Torn−1 (M,N)−→Torn (M,N) −−−−−−−→ Torn (M,N)
θnR Q
−→Torn−2 (M,N)−→Torn−1 (M,N) −→ ... .
Proof. In the description of F(A,U) given in example 3.1.2, define a morphism ι: U −→ F(A,U) with ι(u) = x(0) ⊗ u, and note that Cokerι ∼= Σ2 F(A,U). Thus, we have a short exact sequence of complexes of free R–modules
R⊗ι θ2
0−→R⊗Q U −−→F(A,U)−→Σ F(A,U)−→0.
Tensoring it with N over R, and writing down the homology exact sequence of the resulting short exact sequence of complexes, we get what we want. 􏰏
The next spectral sequence is introduced by Lescot [107].
Proposition 3.2.3. If ψ is surjective and k is a residue field of R, then there is a spectral sequence
2Ep,q = TorQp (k,M) ⊗k TorRq (k,k) =⇒ 􏰁TorQ (k,k) ⊗k TorR (M,k)􏰂p+q .
Proof. Choose free resolutions: U −→ k over Q; V −→ M and W −→ k over R. As U ⊗Q V is a bounded below complex of free R–modules, Proposition 1.3.2 yields the first isomorphisms below; the third ones comes from Proposition 1.3.4:
H(U ⊗Q V ⊗R W ) ∼= H((U ⊗Q V ) ⊗R k) ∼= H((U ⊗Q k) ⊗k (V ⊗R k))
∼= H(U ⊗Q k) ⊗k H(V ⊗R k) = TorQ (k, k) ⊗k TorR (M, k) .
Thus, the spectral sequence of the filtration (U ⊗Q V ) ⊗R (W􏰵 p) has
2Ep,q =Hp(Hq(U⊗QV)⊗RW) =⇒ 􏰁TorQ(k,k)⊗kTorR(M,k)􏰂p+q.
Since U is a bounded below complex of free Q–modules, U ⊗Q V −→ U ⊗Q M is a quasi-isomorphism, so 2Ep,q ∼= Hp(TorQq (k,M) ⊗R W), and that module is equal toTorRp 􏰁TorQq (k,M),k􏰂∼=TorQp (k,M)⊗kTorRq (k,k). 􏰏

30 L. L. AVRAMOV
For us, the preceding sequences have the drawback of going in the ‘wrong’ di- rection: they require input of data over the ring of interest, R. Next we describe a sequence where the roles of Q and R are reversed. It belongs to the family of Eilenberg-Moore spectral sequences, cf. [122].
By Construction 2.3.3, TorQ (M, k) is a module over the graded algebra TorQ (R, k) . A homogeneous free resolution of the former over the latter provides an ‘approximation’ of a resolution of M over R: this is the contents of the following special case of a result of Avramov [22].
Proposition 3.2.4. When k is a residue field of R, there is a spectral sequence 2E = TorTorQ(R,k) 􏰁TorQ (M, k) , k􏰂 =⇒ TorR (M, k) .
p,q p q p+q
Proof. In the notation of Construction 3.1.4, set B = A ⊗Q k and V = U ⊗Q k.
􏰁B􏰦⊗i ⊗ V 􏰂 of Bk(B, V ) ⊗B k yields a spectral sequence with 0dp,q equal to the tensor product differential. By Ku ̈nneth,
The filtration 􏰅
0Ep,q =􏰁Spk(B,V)⊗B k􏰂q =⇒ Hp+q(Bk(B,V)⊗B k)
i􏰵p
1E =H (Sk(B,V)⊗ k) ∼=􏰁Sk(H(B),H(V))⊗ k􏰂 , 1d =δ[p] ⊗ k. p,qqp Bqp H(B)qp,qqR
As k is a field, Sk(H(B), H(V )) is a resolution of H(V ) over H(B), so 2E =TorH(B)(H(V),k) .
p,qp q
Since H(B) = TorQ (R, k) and H(V ) = TorQ (M, k) , the second page of the spectral
sequence has the desired form. The isomorphisms
Bk(B,V)⊗B k∼=􏰁BQ(A,U)⊗A R􏰂⊗R k=F(A,U)⊗R k
and Theorem 3.1.1 identify its abutment as TorR (M, k) . 􏰏
Corollary 3.2.5. If ψ is surjective, then for each n ≥ 0 there is an inclusion n
􏰈 TorQi (R, k) · TorQn−i (M, k) ⊆ Ker Torψn (M, k) . i=1
Proof. The natural map U ⊗Q k −→ F(A,U), that is, V −→ Bk(B,V)⊗B k, iden- tifies V with F1 ⊆ Bk(B,V)⊗B k. Thus, the map Torψn (M,k) that it induces in homology factors through
Q 2 TorQn (M,k)
νn: Torn (M,k) =Hn(V)−→ E0,n = 􏰆ni=1TorQi (R,k) ·TorQn−i(M,k) .
We get Ker νn ⊆ Ker Torψn (M, k) , which is the desired inclusion. 􏰏 The next theorem shows that the vector spaces
ψ KerTorψn (M,k) on(M)= 􏰆ni=1TorQi (R,k) ·TorQn−i(M,k)
are obstructions to DG module structures; they were found in [22].
  
INFINITE FREE RESOLUTIONS 31
Theorem 3.2.6. Let (Q, n, k) be a local ring, let ψ : Q −→ R be a surjective homo- morphism of rings, and let M be a finite R–module.
If the minimal free resolution A of R over Q has a structure of DG algebra, and the minimal free resolution U of M over Q admits a structure of DG module over A, then oψn(M) = 0 for all n.
Proof. Under the hypotheses of the theorem, ∂′ ⊗Q k = 0 in the bar construction Bk(B,V)⊗B k of Proposition 3.2.4, so the only non-zero differential in the spectral sequence constructed there acts on the first page. Thus, the sequence stops on the second page, yielding KerTorψn (M,k) = Kerνn. 􏰏
Remark 3.2.7. Let f be a Q–regular sequence. Computing the Tor algebra for R = Q/(f) with the help of the Koszul complex A = K(f;Q) we get
TorQ(R,k) =H(A⊗R k)=A⊗R k=􏰣(A1 ⊗R k)=􏰣TorQ1 (R,k) and hence 􏰆ni=1 TorQi (R, k) · TorQn−i (M, k) = TorQ1 (R, k) · TorQn−1 (M, k) .
3.3. Upper bounds. In this section ψ : Q −→ R is a finite homomorphism of local rings that induces the identity on their common residue field k, and M is a finite R–module. We relate the Betti numbers of M over R and Q.
Often, such relations are expressed in terms of the formal power series
∞
PRM(t) = 􏰈βnR(M)tn ∈ Z[[t]], n=0
known as the Poincar ́e series of M over R, and the corresponding series over Q. Results then take the form of coefficientwise inequalities (denoted 􏰳 and 􏰴) of formal power series; equalities are significant.
Spectral sequence generate inequalities, by an elementary observation:
Remark 3.3.1. In a spectral sequence of vector spaces rEp,q =⇒ E, r ≥ a, the space r+1Ep,q is a subquotient of rEp,q for r ≥ a, and the spaces ∞Ep,q are the subfactors of a filtration of Ep+q. Thus, there are (in)equalities
dimk En = 􏰈 rankk ∞Ep,q ≤ 􏰈 rankk rEp,q ≤ 􏰈 rankk aEp,q . p+q=n p+q=n p+q=n
Multiplying the n’th one by tn, and summing in Z[[t]], we get inequalities 􏰚􏰛
􏰈dimkEntn 􏰳􏰈 􏰈 rankkrEp,q tn for r≥a. n􏰶0 n p+q=n
The next result was initially deduced by Serre from the sequence in Proposition 3.2.1. It is more expedient to get it from that in Proposition 3.2.4.
R P QM ( t ) Proposition3.3.2. ThereisaninequalityPM(t)􏰳1−t􏰁PQR(t)−1􏰂.
 
32 L. L. AVRAMOV
Proof. The spectral sequence of Proposition 3.2.4 has 􏰚􏰛􏰚􏰛
􏰈 􏰈 rankk1Ep,q tn=􏰈 􏰈rankk1Ep,qtq tp n p+q=n p q
􏰈􏰚􏰁Q 􏰂pQ􏰛p PR(t)−1 PM(t) t
=
=PM(t) PR(t)−1 t = 1−t􏰁PQ(t)−1􏰂
pR
so the desired inequality follows from the preceding remark. 􏰏
Remark. If equality holds with M = k, then ψ is called a Golod homomorphism. These maps, introduced by Levin [109], are studied in detail in [110], [24]; they are used in many computations of Poincar ́e series. The ‘absolute case’, when Q is a regular local ring, is the subject of Chapter 5.
Directly from the spectral sequence in Proposition 3.2.3, we read off
Proposition 3.3.3. There is an inequality PRM (t) PQk (t) 􏰳 PQM (t) PRk (t) . 􏰏
Remark. If equality holds, then the module M is said to be inert by ψ: these modules are introduced and studied by Lescot [107].
In special cases, universal bounds can be sharpened.
Recall [46] that a finite Q–module N has rank if for each prime ideal q ∈ Ass Q the Qq–module Nq is free, and its rank does not depend on q. The common rank of these free modules is called the Q–rank of N, and denoted rankQ N; we write rankQ N ≥ 0 to indicate that the rank of N is defined.
Proposition 3.3.4. If f is Q–regular and R = Q/(f), then
􏰈∞ P Q ( t ) P Q ( t ) rankQSyzQn (M)tn−1 = M 􏰳PRM(t)􏰳 M .
n=1
p
Q􏰈􏰁Q 􏰂pp PQM(t)
 0􏰳
Proof. Let U be a minimal resolution of M over Q. For each q ∈ Ass Q we have
  f ∈/ q. Thus, Mq = 0, and so for each n there is an exact sequence 0 −→ SyzQn+1 (M)q −→ (Un)q −→ ... −→ (U0)q −→ 0.
It follows that SyzQ (M) is free of rank 􏰆 (−1)iβQ (M): this establishes n+1 q i􏰶0 n−i
the equality, and the first inequality.
For the second inequality, apply the exact sequence of Proposition 3.2.2, to get
βQ(M) ≤ βR (M) + βR(M) for all n. n n−1 n
The third inequality results from counting the ranks of the free modules in the resolution of M over R given by Theorem 3.1.3. 􏰏
There are useful sufficient conditions for equalities. One is essentially contained in Nagata [124]; the other, from Shamash [143], is given a new proof.
Proposition 3.3.5. Let f be a Q–regular element, and R = Q/(f).
(1) Iff∈/n2,thenPRM(t)=PQM(t)/(1+t).
(2) If f ∈n(0:QM), then PRM(t)=PQM(t)/(1−t2).
(1+t) (1−t2)

INFINITE FREE RESOLUTIONS 33
Proof. (1) This is just the last assertion of Theorem 2.2.3.
(2) Let s1,...,se be a minimal set of generators of n, and write f = 􏰆ej=1 ajsj
with aj ∈ (0:Q M). In a DG algebra resolution V −→ k over Q, pick y1,...,ye ∈ V1
such that ∂(yj) = sj. As ∂􏰁􏰆ej=1 ajyj􏰂 = f, Example 3.1.2 yields a resolution G
of k over R, with Gn = 􏰅ni=0 Rx(i) ⊗Q Vn−2i and e
∂􏰁x(i) ⊗Q v􏰂=􏰈ajx(i−1) ⊗Q yjv+x(i) ⊗Q ∂(v). j=1
For b ∈ M, the induced differential of M ⊗R G then satisfies e
∂􏰁bx(i) ⊗Q v􏰂=􏰈ajbx(i−1) ⊗Q yjv+bx(i) ⊗Q ∂(v)=bx(i) ⊗Q ∂(v), j=1
so M ⊗R G ∼= 􏰅∞i=0 Σ2i(M ⊗Q V ) as complexes of R–modules. This yields ∞
TorR (M,k) = H(M ⊗R G) = 􏰠Σ2i TorQ (M,k) . i=0
The desired equality of Poincar ́e series is now obvious. 􏰏 Remark. The resolution G(σ,U) of Theorem 3.1.3 has
􏰈 rankR Gntn = 􏰁 􏰈 rankQ Uiti􏰂/(1 − t2) .
Thus, if U is a minimal resolution of M over Q and f ∈ n(0 :Q M), then by (2) G(σ,U) is a minimal R–free resolution of M. Another case of minimality is given by Construction 5.1.2, which shows that if pdQ M = 1, then SyzRn (M) has a minimal resolution of that form for each n ≥ 1. Quite the opposite happens ‘in general’: it is proved in [32] that if R is a complete intersection and the Betti numbers of M are not bounded, then SyzRn (M) has such a minimal resolution for at most one value of n.

34 L. L. AVRAMOV
4. Growth of resolutions
The gap between regularity and singularity widens to a chasm in homological local algebra: Minimal resolutions are always finite over a regular local ring, and (very) rarely over a singular one. A bridge15 is provided by the Cohen Structure Theorem: the completion of each local ring is a residue of a regular ring, so by change of rings techniques homological invariants over the singular ring may be approached from those—essentially finite—over the regular one.
To describe and compare resolutions of modules over a singular local ring, we go beyond the primitive dichotomy of finite versus infinite projective dimension, and analyze infinite sequences of integers, such as ranks of matrices, or Betti numbers. For that purpose there in no better choice than to follow the time-tested approach of calculus, and compare sizes of resolutions to the functions we16 understand best: polynomials and exponentials.
4.1. Regular presentations. Let I be an ideal in a noetherian ring R. Recall that the minimal number of generators νR(I), the height, and the depth of I are always related by inequalities, due to Rees and to Krull:
depthR(I, R) ≤ height I ≤ νR(I) .
For the rest of this section, (R,m,k) is a local ring; νR(m) is then known as its
embedding dimension, denoted edimR, and the inequalities read depthR ≤ dimR ≤ edimR.
Discrepancies between these numbers provide measures of irregularity:
• cmd R = dim R − depth R is the Cohen-Macaulay defect of R ; • codimR=edimR−dimRisthecodimension17 ofR;
• codepth R = edim R − depth R is the codepth17 of R.
We use the vanishing of codepth R to define18 the regularity of R. Thus, if R is regular, then each minimal generating set of m is a regular sequence.
Two cornerstone results of commutative ring theory determine the role of regular rings in the study of free resolutions.
The Auslander-Buchsbaum-Serre Theorem describes them homologically. Theorem 4.1.1. The following conditions are equivalent.
(i) R is regular.
(ii) pdR M < ∞ for each finite R–module M .
(iii) pdRk<∞.
15Warning: crossing may take an infinite time.
16Algebraists.
17Because ‘codimension’ has been used to denote depth, and ‘codepth’ to denote Cohen-
Macaulay defect, the notions described here are sometimes qualified by ‘embedding’; it would be too cumbersome to stick to that terminology, and to devise new notation.
18This clearly implies the usual definition, in terms of the vanishing of codim R. Conversely, if R is regular, then the associated graded ring S = Ln mn/mn+1 is the quotient of a polynomial ring in e = edim R variables. Since S and R have equal Hilbert-Samuel functions, dim S = dim R = e, so S is the polynomial ring on the classes in S1 of a minimal set of generators t of m. In particular, these classes form an S–regular sequence, and then a standard argument shows that t is an R– regular sequence.
 
INFINITE FREE RESOLUTIONS 35
Proof. (i) =⇒ (iii). By Example 1.1.1, the Koszul complex on a minimal set of generators for m is a free resolution of k.
(iii) =⇒ (ii). As TorRn (M, k) = 0 for n ≫ 0, apply Proposition 1.2.2.
(ii) =⇒ (i). We prove that codepthR = 0 by induction on d = depthR. If d = 0, then k is free by Proposition 1.2.7.1, hence m = 0. If d > 0, then a standard prime avoidance argument yields a regular element g ∈ m 􏰒 m2. Set R′ = R/(g), and note that codepth R = codepth R′. As pdR′ k < ∞ by Theorem 2.2.3, we have codepth R′ = 0 by the induction hypothesis. 􏰏
Corollary 4.1.2. If R is regular, then so is Rp for each p ∈ Spec R.
Proof. By the theorem, R/p has a finite R–free resolution F; then Fp is a finite
Rp–free resolution of k(p) = Rp/pRp, so Rp is regular by the theorem. 􏰏
The Cohen Structure Theorem establishes the dominating position of regular rings. A regular presentation of R is an isomorphism R ∼= Q/I, where Q is a regular local ring. Many local rings (for example, all those arising in classical algebraic or analytic geometry), come equipped with such a presentation. By Cohen’s theorem, every complete local ring has a regular presentation.
Here is how the two theorems above apply to the study of resolutions.
Since the m-adic completion R􏰊 is a faithfully flat R–module, a complex of R–
modules F is a (minimal) free resolution of M over R if and only if F􏰊 = R􏰊 ⊗R F is
a (minimal) free resolution of M = R ⊗ M over R; in particular, PR (t) = PRb (t). 􏰋􏰊R 􏰊 M Mc
The point is: as M􏰋 iand R􏰊 have finite free resolutions over the ring Q, all change of rings results apply with finite entry data.
If (Q,n,k) is a regular local ring, R = Q/I, and f ∈ I 􏰒 n2, then Q/(f) is also regular, and maps onto R. Iterating, one sees that if R has some regular presentation, then it has a minimal one, with edim R = edim Q.
Minimal presentations often fade into the background, because some of their invariants can be computed directly over the ring R, from Koszul complexes on minimal sets of generators t of m. Different choices of t lead to isomorphic com- plexes, so when we do not need to make an explicit choice of generators, we write KR instead of K(t;R), and set KM = KR ⊗R M.
Lemma 4.1.3. If KR is a Koszul complex on a minimal set of generators of m,
and R􏰊 = Q′/I′ (respectively, R = Q/I) is a minimal regular presentation, then
′
(2) sup{i|Hi(KM)̸=0}=sup{i|Hi(KMc)̸=0}=pdQ′ M􏰋􏰁=pdQM􏰂. (3) H1(KR)∼=H1(KRb)∼=I′ ⊗Q′ k 􏰁∼=I⊗Q k􏰂.
Proof. The fact that R􏰊 is faithfully flat over R, and mR􏰊 is its maximal ideal yields the relations on both ends, so we argue for those in the middle. By Example 1.1.1, KQ′ is a minimal free resolution of k over Q′: this yields (1), and then (2) follows from Proposition 1.2.2. For (3), use the long exact sequence of TorQ′ (−, k) applied totheexactsequence0−→I′ −→Q′ −→R􏰊−→0. 􏰏
In view of the lemma, Proposition 3.3.2 translates into:
􏰁􏰂 (1) H(KM ) ∼= H(KMc) ∼= TorQ (M􏰋, k) ∼= TorQ (M, k) .

36 L. L. AVRAMOV
Proposition 4.1.4. For each finite R–module M there is an inequality edim R−depth M
􏰈
rankk Hi(KM )ti
i=0 . 􏰏
PRM (t) 􏰳
Corollary 4.1.5. There is an α ∈ R, such that βnR(M) ≤ αn for n ≥ 1. 􏰏
 codepth R
1− 􏰈 rankkHj(KR)tj+1
j=1
A local ring homomorphism φ: R −→ R′, such that mR′ is the maximal ideal of R′, may be lifted—in more than one way—to a morphism of DG algebras Kφ : KR −→ KR′ (we use a ‘functorial’ notation, because in the cases treated below the choice of a specific lifting will be of no consequence, while it helps to distinguish Kφ from KR ⊗R φ: KR −→ KR ⊗R R′).
The following easily proved statements have unexpectedly strong consequences. The second is the key to Serre’s original proof that pdR k characterizes regularity in [141]. The third, also due to Serre, is important in the study of multiplicities, cf. [142], [17]; its proof below is from Eagon and Fraser [54].
Lemma 4.1.6. The complexes KR and KM have the following properties.
(1) If g ∈ m􏰒m2 is R–regular, then the homomorphism φ: R −→ R/(g) induces
a surjective quasi-isomorphism Kφ : KR −→ KR/(g).
(2) Ifa∈KR satisfies∂(a)∈m2KR,thena∈mKR.
(3) For each finite R–module M there is an integer s such that the complex
Ci : 0 −→ mi−eKeM −→ ... −→ mi−1K1M −→ miK0M −→ 0 (∗) is exact for i≥s; for each i, Ci is a DG submodule of KM over KR.
Proof. (1) Choose y1,...,ye ∈ K1R, such that {∂(yi) = ti | j = 1,...,e} is a
minimal generating set for m. We may assume that g = te, and set D = R[y | ∂(y) =
g]. As KR is a semi-free DG module over D, by Proposition 1.3.2 the quasi-
isomorphism D −→ R/(g) induces a quasi-isomorphism KR −→ R/(g) ⊗D KR = KR/(g).
(2) The statement may be rephrased as follows: the map KnR/mKnR −→ mKR /m2KR induced by the differential ∂ of KR is injective for all n ≥ 1.
n−1 n−1 n
This is a direct consequence of the formula for the Koszul differential, and the
minimality of the generating set t1, . . . , te.
(3)AsC1 =Ker(KR −→k)⊂KR isaDGideal,Ci =(C1)iKM isaDG
submodule of KM. For each 1 ≤ n ≤ e and i ≫ 0, we have equalities Zn(Ci)=Zn(KM)∩mi−nKnM =m􏰁Zn(KM)∩mi−n−1KnM􏰂
(the first by definition, the second by Artin-Rees). Increasing i, we may assume they hold simultaneously for all n. Thus, each z ∈ Zn(Ci) can be written as z=􏰆ej=1tjvj withvj ∈mi−n−1KnM,soz=∂yfory=􏰆ej=1yjvj ∈Cni+1. 􏰏
Next we present a result of [21], which shows that the minimal resolution of each R–module M is part of that of ‘most’ of its residue modules. It is best stated in terms of a property of minimal complexes.
Remark 4.1.7. Let F be a minimal complex of free R–modules, with Fn = 0 for n<0. Ifε:F −→N isamorphismtoafiniteR–moduleN,letα:F −→Gbea

INFINITE FREE RESOLUTIONS 37
lifting of ε to a minimal resolution G of N. Any two liftings are homotopic, so the homomorphism k ⊗R α = H(k ⊗R α) depends only on ε.
We say that ε is essential if k ⊗R αn is injective for each n. In that case, each αn is a split injection, hence α maps F isomorphically onto a subcomplex of G, that splits off as a graded R–module; the entire resolution of N is obtained then from α(F ) by adjunction of basis elements, as in Construction 2.2.6.
When pdR M is finite the next result is a straightforward application of the Artin-Rees Lemma. Replacing resolutions over R by resolutions over KR, we make Artin-Rees work simultaneously in infinitely many dimensions.
Theorem 4.1.8. Let F be a minimal free resolution of a finite R–module M. There exists an integer s ≥ 1, such that for each submodule M′ ⊆ msM the augmentation ε: F −→ M′′ = M/M′ is essential. In particular,
PRM ′′ (t) = PRM (t) + t PRM ′ (t) .
Proof. Choose s as in Lemma 4.1.6.3, so that Cs ⊆ KM is an exact DG submodule. The projection ρ: KM −→ KM /Cs is then a quasi-isomorphism of DG modules over KR. Let U be a semi-free resolution of k over KR, let M′ be a submodule in msM, let π : M −→ M ′′ be the canonical map. The composition
U⊗ 􏰁R 􏰂π′ 􏰁R ′′􏰂 􏰁M s􏰂 KR K ⊗RM −→U⊗KR K ⊗RM −→U⊗KR K /C
of morphisms of DG modules, where π′ = U ⊗KR (KR ⊗R π), is equal to U ⊗KR ρ, and so is a quasi-isomorphism by Proposition 1.3.2. It follows that H(π′) is injective. AsUisafreeresolutionofkoverRandU⊗KR (KR⊗Rπ)=U⊗Rπ:U⊗RM−→ U ⊗R M′′, we see that H(π′) = TorR (k,π). If F′′ is a minimal free resolution of M′′, then k⊗R π′: k⊗R F −→ k⊗R F′′ is another avatar of the same map, so it is injective, as desired. For the equality of Poincar ́e series, apply TorR (k, −) to 0 −→ M′ −→ M −→ M′′ −→ 0. 􏰏
In a precise sense, the residue field has the ‘largest’ resolution.
Corollary 4.1.9. For each finite R–module M there exists an integer l ≥ 1, such
that PRM(t) 􏰳 lPRk (t).
Proof. By the theorem, PR (t) 􏰳 PR (t) for some s, so we may assume that
M M/msM
lengthR M < ∞. The obvious induction on length, using the exact sequence of
TorR (−, k) then establishes the inequality with l = lengthR M . 􏰏 For another manifestation of the ubiquity of PRk (t), cf. Theorem 6.3.6.
4.2. Complexity and curvature. In this section we introduce and begin to study measures for the asymptotic size of resolutions.
On the polynomial scale, the complexity of M over R is defined by
􏰜 􏰗􏰗 there exists a real number β such that􏰝
cxRM=inf d∈N􏰗􏰗 βnR(M)≤βnd−1 forn≫0 ;
this is an adaptation from [25], [26], of a concept originally introduced by Alperin and Evens [2] to study modular representations of finite groups; clearly, one gets the same concept by requiring inequalities for n ≫ 0.

38 L. L. AVRAMOV
Example 4.2.1. (1) If R′ = k[s1]/(s21), and t1 ∈ R′ is the image of s1, then
′ ′t1′t1 ′t1′t1′
F : ...−→R −→R −→...R −→R −→R −→0. (∗)
is a minimal free resolution of k = R′/(t ). Thus, βR′(k) = 1 for n ≥ 0, and 1n
cxR′ k = 1. Each finite module M over the principal ideal ring k[t1] is a finite direct sum of copies of k and of R′, hence βR′(M) = βR′(M) for n ≥ 1.
n1
(2) Set R = k[s1, s2]/(s21, s2) = k[t1, t2]. As R is a free module over its subring
R′, the complex R ⊗R′ F ′ is a minimal resolution of the cyclic module M = R/(t1) over R. Thus, βnR(M) = 1 for n ≥ 0, and cxR M = 1.
On the other hand, note that SyzR1 (R/(t1t2)) ∼= k, and let F′′ be the complex corresponding to F ′ over R′′ = k[t2]. By the Ku ̈nneth Theorem 1.3.4, F ′ ⊗k F ′′ is a resolution of k ⊗k k = k over R = R′ ⊗k R′′, and is obviously minimal. Thus, βnR(k) = n + 1 for n ≥ 0, and cxR 􏰁R/(t1t2)􏰂 = cxR 􏰁R/(t1, t2)􏰂 = 2.
In particular, over the ring R there exist modules of complexity 0, 1, and 2; in fact, these are all the possible values: cf. Proposition 4.2.5.4.
Complexity may itself be infinite.
Example 4.2.2. Let R = k[s1,s2]/(s21,s1s2,s2). The isomorphism m ∼= k2 and
theexactsequence0−→m−→R−→k−→0showthatβR (k)=2βR(k)forn≥1, n+1 n
henceβnR(k)=2n forn≥0,andcxRk=∞. IfM isanyfiniteR–module,then SyzR1 (M) ⊆ mF0 is isomorphic to a finite direct sum of copies of k, so cxR M = ∞ unless M is free.
For modules of infinite complexity, the exponential scale is used in [29] to intro- duce a notion of curvature19 by the formula
curvRM=limsup􏰪n βnR(M). n→∞
Thus, in the last example, either M is free or curvR M = 2.
Some relations between these asymptotic invariants follow directly from the def-
initions, except for (5), which is a consequence of Corollary 4.1.5: Remark 4.2.3. For a finite R–module M the following hold:
(1) pdRM <∞ ⇐⇒ cxRM =0 ⇐⇒ curvRM =0. (2) pdRM =∞ ⇐⇒ cxRM ≥1 ⇐⇒ curvRM ≥1. (3) cxR M ≤ 1 ⇐⇒ M has bounded Betti numbers. (4) cxRM<∞ =⇒ curvRM≤1.
(5) curvR M < ∞ .
With respect to change of modules, properties of complexity and curvature mir-
ror well known properties of projective dimension.
Proposition 4.2.4. When M is a finite R–module the following hold.
(1) cxRM ≤cxRk and curvRM ≤curvRk.
(2) For each n there are equalities
cxR M = cxR SyzRn (M) and curvR M = curvR SyzRn (M) .
19So called because it is the inverse of the radius of convergence of PRM (t).
  
INFINITE FREE RESOLUTIONS 39
(3) If M′ and M′′ are R–modules, then
cxR(M′ ⊕M′′)=max{cxRM′,cxRM′′};
curvR(M′ ⊕M′′)=max{curvRM′,curvRM′′}.
(4) If 0 −→ M′ −→ M −→ M′′ −→ 0 is an exact sequence of R–modules, then cxRM ≤cxRM′ +cxRM′′ and curvRM ≤curvRM′ +curvRM′′.
(5) Ifasequenceg⊂RisregularonRandonM,then cxR(M/(g)M) = cxR M and curvR(M/(g)M) = curvR M .
(6) If N is a finite R–module such that TorRn (M,N) = 0 for n > 0, then max{cxRM,cxRN}≤cxR(M⊗R N)≤cxRM+cxRN; curvR(M ⊗R N) = max{curvR M, curvR N} .
Proof. (1) comes from Proposition 4.1.9; (2), (3), and (4) are clear.
(5) By Example 1.1.1, TorRn (M,R/(g)) = Hn(K(g;M)), and the latter module
vanishes for n > 0. Thus, the desired equalities follow from (6).
(6) Let F and G be minimal free resolutions of M and N, respectively; as Hn(F⊗RG)=TorRn (M,N) =0forn≥1,thecomplexF⊗RGisafreeresolution
of M ⊗R N. It is obviously minimal, so
max{βnR(M),βnR(N)} ≤ 􏰈 βpR(M)βqR(N) = βnR(M ⊗R N).
p+q=n
The inequalities for complexities follow. To get the equality for curvatures, rewrite
the relations above in terms of Poincar ́e series:
max{PRM (t), PRN (t)} 􏰳 PRM (t) PRN (t) = PRM⊗RN (t) .
A product converges in the smaller of the circles of convergence of its factors, so the equality of power series yields curvR(M ⊗R N) ≤ max{curvR M,curvR N}; the converse inequality comes from the inequality of power series. 􏰏
The finiteness of projective dimension of a module is notoriously unstable under change of rings. Complexity and curvature fare better:
Proposition 4.2.5. Let M be a finite R–module, let φ: R −→ R′ be a homomor- phism of local rings, and set M′ = R′ ⊗R M.
(1) For each prime ideal p in R there are inequalities
cxRp Mp ≤cxRM and curvRp Mp ≤curvRM.
(2) If φ is a flat local homomorphism, then
cxR′ M′ =cxRM and curvR′ M′ =curvRM.
(3) If TorRn (R′,M) = 0 for n ≫ 0, then
cxR′ M′ ≤cxRM and curvR′ M′ ≤curvRM.
(4) If g is an R–regular sequence of length r and R′ = R/(g), then cxR M ≤ cxR′ M ′ ≤ cxR M + r ;
curvR′M′=curvRM when pdRM=∞.
Proof. Both (1) and (2) are immediate. (3) results from Proposition 1.2.3. (4) follows from the inequalities of Poincar ́e series in Proposition 3.3.4. 􏰏

40 L. L. AVRAMOV
Finally, we note a result specific to Cohen-Macaulay rings; it fails in general, as shown by the ring R = k[[s1, s2]]/(s21, s1s2) of multiplicity 1.
Proposition 4.2.6. If R is Cohen-Macaulay, then curvR M ≤ mult R − 1; equality holds when R has minimal multiplicity (defined in Example 5.2.8).
This follows from a lemma, that sharpens the result of Ramras [135]. Lemma 4.2.7. If R is Cohen-Macaulay, mult R = l, and type R = s, then
(l−1)βR(M)≥βR (M)≥ s βR(M) forn>depthR−depthM. n n+1 l−s n
Proof. By Remark 1.2.9, we may assume that R is artinian, with length R = l, and length(0:R m) = s. In a minimal resolution F of M, SyzRn+1 (M) ⊆ mFn, so
(l−1)βR(M)=lengthmF ≥lengthSyzR (M)≥βR (M) forn≥1. n n n+1 n+1
As ∂􏰁(0:R m)F 􏰂 ⊆ (0:R m)mF = 0, we have (0 :R m)Fi ⊆ SyzRi+1 (M), and i i−1
hence lengthSyzRi+1 (M) ≥ sβiR(M). The exact sequence
0 −→ SyzRn+2 (M) −→ Fn+1 −→ SyzRn+1 (M) −→ 0
now yields lβR (M) = length F ≥ sβR (M) + sβR(M). 􏰏 n+1 n+1 n+1 n
4.3. Growth problems. As of today, a distinctive feature of the state of knowl- edge of infinite free resolutions is that tantalizing questions on the behavior of basic invariants can be stated in very simple terms. We present four groups of interrelated problems, that set benchmarks for many results in the text. Some are (variants) of problems discussed in more detail in [27], others are new. They could be viewed in the broader context of growth of algebraic structures, to which the survey of Ufnarovskij [153] is a good introduction.
For the rest of this section, (R, m, k) is a local ring, and M is a finite R–module; to avoid distracting special cases, we assume that pdR M = ∞.
All problems discussed below have positive answers for modules over Golod rings and over complete intersections. These two cases, for which exhaustive information is available, are treated in detail in later chapters.
 Growth. The easily proved inequality over Cohen-Macaulay rings suggests βR (M)
Problem 4.3.1. Is lim sup n+1 always finite? n −→ ∞ β nR ( M )
 There is no problem when the Betti numbers of M are bounded, but little is known on when such modules occur. The only general construction that I am aware of, presented in Example 5.1.3, yields modules with periodic of period 2 minimal resolutions. Such a periodicity implies constant Betti numbers, but not conversely, cf. Remark 5.1.4. On the other hand, there exist rings over which all infinite Betti sequences are unbounded, cf. Theorem 5.3.3.
The simplest pattern of bounded Betti numbers is highlighted in Problem 4.3.2. Is a bounded sequence {βnR(M)} eventually constant?
Problem 4.3.2, proposed in [134], is subsumed in the next one, from [23]: Problem 4.3.3. Is the sequence {βnR(M)} eventually non-decreasing?

INFINITE FREE RESOLUTIONS 41
An early class of artinian examples is given by Gover and Ramras [75]. Many more can be found in the papers discussed after Problem 4.3.9.
Complexity. Complexity is a measure for infinite projective dimensions, in the polynomial range of the growth spectrum. It is very interesting to know whether it satisfies an analogue of the Auslander-Buchsbaum result: depthR is an upper bound for all finite projective dimensions. More precisely, we propose
Problem 4.3.4. Does cxR M < ∞ imply cxR M ≤ codepth R?
Over a complete intersection the inequality holds for all modules, and all val- ues between 0 and codepthR occur. More generally, for modules of finite CI- dimension20 the problem has a positive solution, that comes with a bonus: if R is Cohen-Macaulay (respectively, Gorenstein), but not a complete intersection, then cxR M ≤ codepth R − 2 (respectively, ≤ codepth R − 3).
Finite complexity only imposes an upper bound on the Betti numbers, prescrib- ing no asymptote. As in calculus, when {bn} and {cn} are sequences of positive real numbers, we write bn ∼ cn to denote limn bn/cn = 1.
Problem4.3.5. IfcxRM=d<∞,isthenβnR(M)∼αnd−1 forsomeα∈R?
Would Betti sequences turn up that have subpolynomial but not asymptot- ically polynomial growth, then complexity should be refined by the number lim supn ln 􏰁βnR(M)􏰂/ln(n), modeled on21 Gelfand-Kirillov dimension, cf. [71].
Curvature. By d’Alembert’s convergence criterion, curvR M is contained between liminfn βnR+1(M)/βnR(M) and limsupn βnR+1(M)/βnR(M). To quantify the observa- tion that ‘at infinity’ Betti numbers display uniform behavior, we risk
βR (M) Problem 4.3.6. Is curvR M = lim n+1 ?
A positive answer would solve Problem 4.3.2, and also Problem 4.3.3 when curvR M > 1. If curvR M = 1, then the Betti sequence of M grows subexpo- nentially; none is known to grow superpolynomially, so we propose
Problem 4.3.7. Does curvR M = 1 imply cxR M < ∞ ?
For k the answer is positive, cf. Theorem 8.2.1. The dichotomy implied by a general positive answer would be all the more remarkable for the fact, that inter- mediate growth does occur in most (even finitely presented!) algebraic systems: associative algebras, Lie algebras, and groups, cf. [153].
Remark 4.2.3 and Proposition 4.2.4 show that the curvatures of all R–modules (of infinite projective dimension) lie on [1, curvR k], but their actual distribution is a mystery. Obviously, the first question to ask is:
Problem 4.3.8. Is the set {curvR M | M a finite R–module} finite? We also propose an exponential version of Problem 4.3.5:
Problem4.3.9. IfcurvRM=β>1,isthenβnR(M)∼αβn sorsomeα∈R?
20That class, introduced by Avramov, Gasharov, and Peeva [32], includes the modules of finite virtual projective dimension of [25], and hence all modules over a complete intersection.
21This is a GK-dimension: that of ExtR (M, k) over ExtR (k, k) , cf. Chapter 10.
 n −→ ∞ β nR ( M )
 
42 L. L. AVRAMOV
This is proved by Sun [150] over generalized Golod rings, cf. Theorem 10.3.3.2.
Intermediate results are known in many other cases. Gasharov and Peeva [70],
[130], prove that if R is Cohen-Macaulay of multiplicity ≤ 8, then there is a real
number γ > 1, such that βR (M) > γβR(M) for n ≫ 0. This property is called n+1 n
‘termwise exponential growth’ by Fan [63], who extends some methods of [70] to handle artinian rings of ‘large’ embedding dimension. For a Cohen presentation R􏰊 = Q/I Choi [52], [53] shows that c = rankK 􏰁n(I : n)/nI􏰂 is an invariant of R, andthatβR (M)>cβR(M)forn≥1.
n+2 n
A weaker property, called ‘strongly22 exponential growth’ in [26], is established
when m3 = 0 by Lescot [106]: for each M there is a real number γ > 1, such that βnR(M) ≥ γn for n ≥ 0. This special case is significant, as Anick and Gulliksen [13] prove that each PRk (t) is rationally related to PSk (t) for some artinian k–algebra (S,n,k) with n3 = 0.
Rationality. The study of infinite resolutions over local rings was triggered by a question, variously and appropriately linked to the names of Kaplansky, Kostrikin, Serre, and Shafarevich: Does PRk (t) represent a rational function?
Gulliksen [79] raised the stakes, proving that a positive answer for all (R,m,k) would imply that PRM(t) is rational for all R and all M. Anick [10], [11] answered the original question, with a graded artinian local k–algebra23, such that PRk (t) is transcendental, but the following is widely open:
Problem 4.3.10. Over which R do all modules have rational Poincar ́e series?
Anick’s construction, as reworked by L ̈ofwall and Roos [114], is described in detail by Roos [138], Babenko [39], and Ufnarovskij [153]; these surveys, and that of Anick [12], also describe a finite CW complex, whose loop space homology has a transcendental Poincar ́e series. Bøgvad [44] uses the artinian examples to produces a Gorenstein ring with irrational PRk (t). Fr ̈oberg, Gulliksen and L ̈ofwall [69] show that the rationality of the Poincar ́e series of the residue fields is not preserved in flat families of local rings.
Jacobsson [93] provides the shortest path to irrational Poincar ́e series. He also shows that the rationality of PRk (t) does not imply that of all PRM (t), hence:
Problem 4.3.11. Do all rational PRM (t) over R have a common denominator?
A result of Levin [111], cf. Corollary 6.3.7, shows that for the last two problems it suffices to consider modules of finite length. Positive solutions are obtained over generalized Golod rings in [28], cf. Theorem 10.3.3.1.
Besides the aesthetic of the formula in ‘closed form’ that it embodies, a rational expression for a Poincar ́e series has practical applications. First, it provides a recurrent relation for Betti numbers that can be useful in constructing a minimal resolution. Second, it allows for efficient estimates of the asymptotic behavior of Betti sequences; for instance, rationality implies a positive solution to Problem 4.3.7, and yields some information on Problem 4.3.2: a bounded Betti sequence is eventually periodic, cf. e.g. [26].
22The terminological discrepancy reflects the growth of expectations, over a decade. 23Of rank 13.
 
INFINITE FREE RESOLUTIONS 43
5. Modules over Golod rings In this chapter (R, m, k) is a local ring.
Golod [74] characterized those rings R over which the resolution of k has the fastest growth allowed by Proposition 4.1.4, that is, which have
R (1 + t)edim R Pk(t)=1−􏰆codepthRrankkHj(KR)tj+1 . (5.0.1)
j=1
They are now known as Golod rings. We present some highlights of the abundant information available on resolutions of modules over them. It neatly splits into two pieces, corresponding to codepth R ≤ 1 and codepth R ≥ 2.
5.1. Hypersurfaces. A local ring with codepth R ≤ 1 is called a hypersurface. To account for the name, consider a minimal presentation R􏰊 ∼= Q/I. Lemma 4.1.3.2 yields pdQ Q/I ≤ 1, so I is principal, say I = (f); in particular, regular rings are hypersurfaces. If R is a hypersurface, then PRk (t) = (1 + t)edim R by Example 1.1.1 when it is regular, and PRk (t) = (1 + t)edim R/(1 − t2) by Proposition 3.3.5.2
when it is singular. Thus, a hypersurface is a Golod ring.
Resolutions over hypersurface rings have a nice periodicity, discovered by Eisen-
bud [57]. In particular, cxR M ≤ 1 for each R–module M. Remark 8.1.1.3 contains a strong converse: if cxR k ≤ 1, then R is a hypersurface.
 Theorem 5.1.1. If M is a finite module over a hypersurface ring R, then βR (M) = βR(M) for n > m = depthR − depthM. The minimal free reso-
n+1 n
lution of M becomes periodic of period 2 after at most m + 1 steps. It is periodic if
and only if M is maximal Cohen-Macaulay without free direct summand.
Proof. By the uniqueness of the minimal free resolution F , to say that it is periodic of period 2 after s steps amounts to saying that the syzygy modules SyzRs (M) and SyzRs+2 (M) are isomorphic. We may test the isomorphism of these finite modules
aftertensoringbythefaithfullyflatR–moduleR􏰊.SinceR􏰊⊗ SyzR(M)∼=SyzRb(M􏰋), Rnn
we may assume that the ring R is complete, and hence of the form Q/(f) for some regular local ring Q.
For m = depth R − depth M + 1, Proposition 1.2.8 and Corollary 1.2.5 show that SyzRm (M) is maximal Cohen-Macaulay without free direct summand; this estab- lishes the ‘only if ’ part of the last assertion. As Q is regular, and depth SyzRm (M ) = depth R = depth Q − 1, we have pdQ SyzRm (M ) = 1, so the other assertions follow from the next construction. 􏰏
Construction 5.1.2. Periodic resolutions. Let (Q, n, k) be a local ring, let f ∈ n be a regular element, and let M be a finite module over R = Q/(f), with pdQ M = 1. By Proposition 1.2.7, its minimal resolution U over Q is of the form 0−→U1−→U0−→0withU1∼=U0∼=Qb.SincefM=0,thehomothetyfidU0 lifts to a homomorphism σ: U0 −→ U1.
Considered as a degree 1 map of complexes σ: U −→ U, it is a homotopy between fidU and 0. If δ: U1 −→ U0 is the differential of U, this means that δσ = fidU0 and σδ = f idU1 . Thinking of σ and δ as b × b matrices, we get matrix equalities δσ = fIb = σδ, called by Eisenbud [57] a matrix factorization of f. Clearly, this

44 L. L. AVRAMOV
defines an infinite complex of free R–modules
R⊗Qδ R⊗Qσ R⊗Qδ
F(δ,σ): ...−−−−→R⊗Q U0 −−−−→R⊗Q U1 −−−−→R⊗Q U0 −→··· (∗)
If 1⊗u1 ∈ Ker(R⊗δ) for u1 ∈ U1, then δ(u1) = fu0 = δσ(u0) with u0 ∈ U0. As δ is injective, u1 = σ(u0), and thus Ker(R ⊗ δ) ⊆ Im(R ⊗ σ). By a symmetric argument Ker(R ⊗ σ) ⊆ Im(R ⊗ δ), so F (δ, σ) resolves Coker(R ⊗Q δ) = M .
When M has a free direct summand, its minimal resolution is not periodic, so F(δ,σ) is not minimal. Conversely, if F(δ,σ) is not minimal, then N = Im(R⊗σ) 􏰑 m(R ⊗Q U1), so U1 has a basis element in N. Thus, N has a free direct summand; since N ∼= Coker(R ⊗ δ) ∼= M, so does M.
Iyengar [92] notes an alternative approach to the preceding construction:
Remark. The shortness of U forces σ2 = 0; reversing Remark 2.2.1, we define a DG module structure of U over the Koszul complex A = Q[y|∂(y) = f], by setting yu = σ(u) for u ∈ U. Comparison of formulas then shows that F(δ,σ) coincides with the resolution F(A,U) of Example 3.1.2.
Modules with periodic resolutions exist over all non-linear hypersurface sections: the relevant example, due to Buchweitz, Greuel, and Schreyer [48], is adapted for the present purpose by Herzog, Ulrich, and Backelin [87].
Example 5.1.3. In the notation of Construction 5.1.2, assume that f ∈ n2, so that f = 􏰆ei=1 aisi, with ai,si ∈ m. Let K be the Koszul complex on s1,...,se, let x1,...,xe be a basis of K1, such that ∂(xi) = si for i = 1,...,e. Left multiplication with 􏰆ei=1 aixi ∈ K1 yields a map τ such that ∂τ + τ∂ = f idK, cf. 2.2.1. Setting U0 = 􏰅i K2i and U1 = 􏰅i K2i+1, one then sees that
δ=􏰈(∂2i+1+τ2i+1):U1 −→U0 and σ=􏰈(∂2i+τ2i):U0 −→U1 ii
is a matrix factorization of f over Q, so the preceding remark provides a periodic of period 2 minimal resolution of the R–module Coker(R ⊗Q δ) = M.
Remark 5.1.4. A ring R satisfies the Eisenbud conjecture if each module of com- plexity 1 has a resolution that is eventually periodic of period 2. This is known for various R: complete intersections (Eisenbud, [57]); with codepth R ≤ 3 (Avramov, [26]); with codepthR ≤ 4 that are Gorenstein ([26]) or Cohen-Macaulay almost complete intersections (Kustin and Palmer [102]); Cohen-Macaulay of multiplicity ≤ 7 or Gorenstein of multiplicity ≤ 11 (Gasharov and Peeva, [70]); some ‘determi- nantal’ cases ([26]; Kustin [99], [100]).
On the other hand, Gasharov and Peeva [70] introduce a series of graded rings of embedding dimension 4 and multiplicity 8, setting
R = k[s1, s2, s3, s4]􏰙􏰁as1s3 + s2s3 , s1s4 + s2s4 , s3s4 , s21 , s2 , s23 , s24􏰂 for some non-zero element a in a field k. It is easy to check that
2 ∂n 2 􏰚t1ant3+t4􏰛 ...−→R(−n)−→R(−n+1)−→... with ∂n= 0 t2
is a minimal exact complex of graded R–modules, hence M = Coker∂1 has βnR(M) = 2 for all n ≥ 0. It is proved in [70] that this complex is periodic of period q if and only if q is the order of a in the multiplicative group of k, so

INFINITE FREE RESOLUTIONS 45
Eisenbud’s conjecture fails when q > 2; similar examples over Gorenstein rings of embedding dimension 5 and multiplicity 12 are also given.
5.2. Golod rings. To investigate the rings satisfying (5.0.1), Golod [74] introduced in commutative algebra certain higher order homology operations, that have become an important tool for the construction and study of resolutions.
In this section, we use the shorthand notation a = (−1)|a|+1a.
Remark 5.2.1. Let A be a DG algebra, with H0(A) ∼= k. We say that A admits a trivial Massey operation, if for some k–basis b = {hλ}λ∈Λ of H􏰶 1(A) there exists a function μ: 􏰟∞i=1 bi −→ A, such that
μ(hλ) = zλ ∈ Z(A) with cls(zλ) = hλ ; p−1
∂μ(hλ1 , . . . , hλp ) = 􏰈 μ(hλ1 , . . . , hλj )μ(hλj+1 , . . . , hλp ) . j=1
The fact that A admits a trivial Massey operation means that the algebra struc- ture on H(A) is highly trivial. For example, zλ1 zλ2 = ±∂μ(hλ1 , hλ2 ) implies that H􏰶 1(A) · H􏰶 1(A) = 0. Furthermore, as
|μ(hλ1 , . . . , hλp )| = |hλ1 | + · · · + |hλp | + p − 1 ,
if Hi(A) = 0 for i ≫ 0, then there are only finitely many obstructions—known as
Massey products—to the construction of a trivial Massey operation.
Theorem 5.2.2. If the Koszul complex KR of a local ring (R, m, k) admits a trivial
Massey operation μ, defined on a basis b = {hλ}λ∈Λ of H􏰶 1(KR), then G n = 􏰠 K hR ⊗ R V i 1 ⊗ R · · · ⊗ R V i p ,
p+h+i1 +···+ip =n
where each Vn is an R–module with basis {vλ : n = |vλ| = |hλ| + 1}λ∈Λ, and
∂(a⊗vλ1 ⊗···⊗vλp)=∂(a)⊗vλ1 ⊗···⊗vλp p
+(−1)|a|􏰈aμ(hλ1,...,hλj)⊗vλj+1 ⊗···⊗vλp j=1
is a minimal free resolution (G,∂) of k. In particular, the ring R is Golod.
Remark 5.2.3. The theorem contains one direction of Golod’s result: in [74] he also shows that, conversely, the equality of Poincar ́e series implies that each basis of H(KR) has a trivial Massey operation, cf. also [83]. The proof given below is taken from Levin [110], and uses an idea of Ghione and Gulliksen [72].
The condition for R to be Golod means that the differentials rdp,q of the spectral sequence 3.2.4 vanish for r ≥ 1. Thus, the theorem is ‘explained’ by Guggenheim and May’s description [76] of the differentials of Eilenberg-Moore spectral sequences in terms of certain matric Massey products, introduced by May [118]; for proofs using that approach, cf. [18], [24].
Proof. The verification that ∂2 = 0 is direct, using the formulas in Remark 5.2.1. To see that G is exact, note that K = KR is naturally a subcomplex of G, and G/K∼=G⊗RV with∂(g⊗v)=∂(g)⊗v.Theexactsequence
0 −→ K −→ G −→ G ⊗ R V −→ 0
  
46 L. L. AVRAMOV
of complexes of R–modules has a homology exact sequence
...−→ −→
􏰠􏰁
j
􏰠􏰁
Hn−j(G)⊗R Vj+2 Hn−j(G)⊗R Vj+1
􏰂 ðn+1 −−−→Hn(K)−→Hn(G)
􏰂 ðn −→Hn−1(K)−→...
j
It is clear that H0(G) = k, H1(G⊗R V) = 0, and that ðn+1(1⊗vλ) = hλ. Thus,
ðn+1 is surjective, and the homology sequence splits. In the exact sequence ð1
0 −→ H 2 ( G ) −→ H 0 ( K ) ⊗ R V 2 − → H 1 ( K ) −→ H 1 ( G ) −→ 0
we have H0(K) ⊗R V2 ∼= H1(K), hence H1(G) = 0 = H2(G). Working backwards from here, we see that Hn(G) = 0 for n ≥ 1.
We induce on p to prove that μ(hλ1,...,hλp) ∈ mKR for all sequences hλ1,...,hλp. If p = 1, then μ(hλ) ⊆ Z(KR), and Z(KR) ⊆ mKR by Lemma 4.1.6.2. If p > 1, then the definition and the induction hypothesis imply ∂μ(hλ1 , . . . , hλp ) ∈ m2KR, so μ(hλ1,...,hλp) ∈ mKR, again by loc. cit.
Thus, G is a minimal resolution of k. A computation identical with the one for the upper bound in the proof of Proposition 3.3.2 shows that 􏰆n rankR Gntn is given by the right hand side of (5.0.1), so R is Golod. 􏰏
The following conditions often suffice to recognize a Golod ring,
Proposition 5.2.4. A local ring R is Golod if some of the following hold:
(1) H􏰶 1(KR) is generated by a set of cycles Z, such that Z2 = 0.
(2) R/(g) is Golod for a regular element g ∈ m 􏰒 m2.
(3) R∼=Q/(f) for a Golod ring (Q,n,k) and a regular element f ∈n􏰒n2.
(4) R􏰊 ∼= Q/I, where (Q,n,k) is regular, edimQ = edimR, and the minimal
resolution A of R􏰊 over Q is a DG algebra with A􏰶1 ·A􏰶1 ⊆nA.
Proof. (1) Select a subset {zλ ∈ Z}λ∈Λ such that b = {cls(zλ)}λ∈Λ is a ba- sis of H􏰶1(KR). A trivial Massey operation can then be defined by setting μ(hλ1 , . . . , hλj ) = 0 for j ≥ 2, so R is Golod by Theorem 5.2.2.
(2) and (3). We note that: edim R = edim(R/(g)) − 1 (obvious); PRk (t) = (1 + t) PR/(g)(t) (Proposition 3.3.5.1); rankk Hn(KR) = rankk Hn(KR/(g)) for each
k
n (Lemma 4.1.6.1). Putting these equalities together, we see that R satisfies the defining equality (5.0.1) if and only if R/(g) does.
(4) The Golod conditions for R and R􏰊 are equivalent, so we may assume that Q/I is a regular presentation of R. By Theorem 5.2.2, it suffices to show that KR admits a trivial Massey operation.
Choose a set of cycles {zλ ∈ A⊗Q KQ}λ∈Λ, such that b = {hλ = cls(zλ)}λ∈Λ is a
basis of H􏰶 1(A ⊗Q KQ). Set μ(hλ) = zλ, and assume by induction that a function
μ: 􏰟p−1 bi −→ A ⊗Q KQ has been constructed for some p ≥ 2, and satisfies the i=1
conditions of Remark 5.2.1. The element
p−1
zλ1,...,λp = 􏰈μ(hλ1,...,hλj )μ(hλj+1,...,hλp)
 j=1 QQ≃
isthenacycleinA⊗QK .Ifε:K −→kistheaugmentation,then (A⊗Q ε)(zλ1,...,λp)∈(A⊗Q k)􏰶1 ·(A⊗Q k)􏰶1 =0.

INFINITE FREE RESOLUTIONS 47
Since (A ⊗Q ε) is a quasi-isomorphism, zλ1,...,λp is a boundary, so extend μ to 􏰟pi=1 bi by choosing μ(hλ1,...,hλp) such that ∂(μ(hλ1,...,hλp)) = zλ1,...,λp This
completes the inductive construction of a trivial Massey operation on A ⊗Q KQ. The augmentation A −→ R induces a surjective quasi-isomorphism φ: A ⊗Q KQ −→ KR, so to get a trivial Massey operation on the basis H(φ)(b) of H􏰶 1(KR), set μ′(φ(hλ1),...,φ(hλp)) = φ(μ(hλ1,...,hλp)). 􏰏
As a first application, we present a result of Shamash [143].
Proposition 5.2.5. If codim R ≤ 1, then R is Golod.
Proof. We may assume that R is a complete, and so has a minimal regular pre- sentation R ∼= Q/I. As Q is a catenary domain, heightI ≤ 1; since Q is factorial, thereisanf∈nsuchthatI=fJ. InKR =R⊗QKQ eachcycleofdegree ≥1hastheform1⊗z,wherez∈KQ satisfies∂(z)=fvforsomev∈KQ. Also, f∂(v) = ∂(fv) = ∂2(z) = 0, and so ∂(v) = 0. Choosing u ∈ KQ such that ∂(u) = f, we get ∂(z−uv) = 0. As K1Q is acyclic, z−uv = ∂(w) for some w ∈ KQ. Thus, cls(1 ⊗ z) = cls(1 ⊗ u) cls(1 ⊗ v), so H􏰶 1(KR) is generated by (1 ⊗ u)Z(KR). As u2 = 0, case (1) of Proposition 5.2.4 applies. 􏰏
Remark. It is not clear how the Golod property of a local ring relates to other characteristics of its singularity. For one thing, it does not fit in the hierarchy
regular =⇒ complete intersection =⇒ Gorenstein =⇒ Cohen-Macaulay.
The only Golod rings that are Gorenstein are the hypersurfaces: compare Remark 5.2.3 with the fact that if R is Gorenstein, then H(KR) has Poincar ́e duality. On the other hand, a Golod ring may or may not be Cohen-Macaulay: compare the preceding proposition with Example 5.2.8. Furthermore, the Golod condition is not stable under localization, as demonstrated by the next example.
Example 5.2.6. Let Q be the regular ring k[s1,s2,s3](s1,s2,s3). The ring R = Q/(s21s3,s2s3) is Golod by Proposition 5.2.5. On the other hand, its localization at p = (s1,s2) is the ring l[s1,s2]/(s21,s2), where l = k(s3). By example 4.2.1.2, PRp(t)=1/(1−t)2 =(1+t)2/(1−2t2+t4),soRp isnotGolod.
l
Golod rings are defined by an extremal property; this might be why they appear frequently as solutions to extremal problems.
Example 5.2.7. Let Q be a graded polynomial ring generated by Q1 over k, and
let S be a residue ring of Q, such that rankk S1 = rankk Q1 = e. A (now) famous
theorem of Macaulay proves that there exists a lex-segment monomial ideal I, such
thatR=Q/IandSrankkSn =rankkRn foralln,andβQ(S)≤βQ(R)forthe 1j 1j
first graded Betti number, cf ̇ Remark 1.2.10.
Bigatti [42] and Hulett [90] in characteristic zero, and Pardue [128] in general,
extend Macaulay’s theorem to a coefficientwise inequality of Poincar ́e series in two variables
PQ(t,u) = 􏰈βQ (S)tnuj 􏰳 􏰈βQ (R)tnuj = PQ(t,u). S nj nj R
n,j n,j
As I is a stable monomial ideal, PQR (t, u) is known explicitly from the minimal free resolution A of R over Q, given by Eliahou and Kervaire [60].

48 L. L. AVRAMOV
Peeva [129] constructs a DG algebra structure on A, such that AiAj ⊆ nAi+j when i ≥ 1 and j ≥ 1. By Proposition 5.2.4.4, this implies that R is Golod. The same conclusion is obtained by Aramova and Herzog [14], who verify that condition 5.2.4.1 holds. Thus, there are (in)equalities
S (1+tu)e (1+tu)e R
Pk (t, u) 􏰳 1 + t − t PQS (t, u) 􏰳 1 + t − t PQR (t, u) = Pk (t, u) .
Example 5.2.8. Let R be a Cohen-Macaulay ring of dimension d.
As the residue field of R′ = R[t]m[t] is infinite, we can choose a regular sequence g = {g1,...,gd} such that the length of R′′ = R′/(g) is equal to multR, the multiplicity of R, cf. Remark 1.2.9. Such a sequence is linearly independent modulo m2, hence edimR′′ = edimR′ −d = codimR′ = codimR. Thus, 1+edimR′′ = 1+ length(m′′/m′′2) = length(R′′/m′′2) ≤ lengthR′′. This translates to an inequality
codim R ≤ mult R − 1, noted by Abhyankar [1].
If equality holds, then R is said to have minimal multiplicity. Such a ring is
Golod. Indeed, it suffices to prove that for R′. Proposition 5.2.4.2 reduces the problem to R′′. As Z(KR′′ ) ⊆ m′′KR′′ by Lemma 4.1.6.2 and m′′2 = 0, Proposition 5.2.4.1 shows that R′′ is Golod. Another look at R′′ shows that mult R = type R+1, so for each M with pdR M = ∞ Lemma 4.2.7 yields
PRM (t) = f (t) + atm+1 1−(multR−1)t
with a positive a ∈ Z, and f (t) ∈ Z[t] of degree m = dim R − depth M .
5.3. Golod modules. A Golod module is a finite R–module M, whose Poincar ́e
   series reaches the upper bound in the inequality of Proposition 4.1.4: 􏰆 rankk Hi(KM )ti
R i􏰶0
PM(t)=1−􏰆j􏰶1rankkHj(KR)tj+1 . (5.3.1)
 Thus, R is a Golod ring if and only if k is a Golod module. A result of Lescot [107] establishes a tight connection between Golod conditions on a ring and on its modules; part (1) is independently due to Levin [111].
Theorem 5.3.2. (1) If R has a Golod module M ̸= 0, then R is a Golod ring. (2) If R is a Golod ring, and M is a finite R–module, then the module SyzRn (M)
is Golod for n≥p=edimR−depthM.
Proof. (1) Referring successively to the definition, Proposition 3.3.3, and the in-
equality at the beginning of this section, we get a sequence of (in)equalities 􏰆 rankk Hi(KM )ti
i􏰶0QRQ 1−􏰆j􏰶1rankkHj(KR)tj+1 ·Pk(t)=PM(t)·Pk(t)
 Q R Q 􏰆i 􏰶 0 rankk Hi(KR)ti 􏰳PM(t)·Pk(t)􏰳PM(t)·1−􏰆j􏰶1rankkHj(KR)tj+1 .
Lemma 4.1.3 shows that the expressions at the ends are equal, so equalities hold throughout. Cancelling PQM(t) from both sides of the last equality, we see that PRk (t) satisfies the defining formula for Golod rings.
(2) Set Mi = SyzRi (M). Tensoring the short exact sequence of complexes from the proof of Theorem 5.2.2 with Mi, we get exact sequences
0−→KMi −→Mi ⊗R G−→Mi ⊗R (G⊗R V)−→0.
 
INFINITE FREE RESOLUTIONS 49
Setting q = codepth R, note that
Hn(Mi ⊗R G) = TorRn (Mi,k) ; q
Hn((Mi ⊗R G)⊗R V)=􏰠TorRn−j−1(Mi,k) ⊗k Hj(KR). j=1
The short exact sequences produce commutative diagrams with exact rows
ιi 􏰠q TorRn+1 (Mi,k) n+1 GG
TorRn−j (Mi,k) ⊗Hj(KR)   GG Hn(KMi) L (ði⊗id)
 j=1 njj
  ði

TorRn−j−1 (Mi+1,k) ⊗Hj(KR)   GG Hn−1(KMi+1)
where the connecting homomorphisms ðin come from the exact sequences 0−→Mi+1 −→Rβi −→Mi −→0.
Note that Hs(KM) = 0 for s > p, so ι0s is surjective for s > p+1. Assume by
induction that ιis is surjective for s > p − i + 1. Since ðij is surjective for all j, both
vertical arrows are onto, so the diagram shows that ιi+1 is surjective for s > p − i. s
We conclude that ιps is surjective for s > 1. Since the complex G ⊗R V starts in degree 2, the map ιp1 is surjective as well. Thus,
 ιi+1􏰠q TorRn (Mi+1,k) n GG
j=1
 q
TorRn (Mp,k) ∼=Hn(KMp)⊕􏰠TorRn−j−1(Mp,k) ⊗k Hj(KR)
j=1
for n≥0
for n≥0.
􏰏
and hence
βR(M )=rank H (KM)+􏰈βR (M )rank H (KR)
q
npkn n−j−1pkj
j=1
These numerical equalities add up to the defining equation (5.3.1) .
Betti numbers of modules over Golod rings are well documented in the next
theorem. It collects results from work of several authors: Ghione and Gulliksen [72]
establish the rational expression in (1); the bound on its numerator, and a proof
that βR (M) > βR(M) for n ≥ edimR, are due to Lescot [107]; the exponential n+1 n
growth result in (5) is established by Peeva [130], while the asymptotic formula in (3) is a consequence of the result of Sun [150].
Hypersurfaces are excluded from the statement of the theorem, as they have been dealt with in Section 5.1.
Theorem 5.3.3. Let R be a Golod ring with codepthR = q ≥ 2, and let M be a finite R–module with edim R − depth M = p. If pdR M = ∞, then:
(1) There exist polynomials with positive integer coefficients, p(t) of degree p−1 and q(t) of degree ≤ q, such that
R q(t)p PM(t)=p(t)+1−􏰆qj=1rankkHj(KR)tj+1 ·t .
 
50
L. L. AVRAMOV
(2) cxRM=∞andcurvRM=β>1.
(3) βnR(M) ∼ αβn for some real number α > 0 .
βR (M)
(4) lim n+1 =β.
 n→∞ βnR(M)
βR (M) (5) n+1
􏰜βR (M)􏰗􏰗 ≥min i+1
􏰝
p≤i<p+q =γ>1forn≥p.
  βnR(M)
βiR(M) 􏰗􏰗
Proof. The module Mp = SyzRp (M) is Golod by Theorem 5.3.2.2, and has edimR−depthMp =depthR−depthMp +codepthR≥q+2.
Proposition 1.2.8 shows that its depth is equal to depthR. Replacing M by Mp, we see that it suffices to prove the theorem when M is a Golod module, and p = 0. For simplicity, we write βn instead of βnR(M).
(1) then holds by definition.
(5) Let R􏰊 = Q/I be a minimal Cohen presentation. With ri = rankQ SyzQi (M􏰋) and sj = rankQ SyzQj (R􏰊), we have
􏰆rank H(KM)ti PQ(t) 􏰆p rti−1 R iki Mc i=1i
PM(t)=1−􏰆jrankkHj(KR)tj+1 =1+t−tPQ(t)=1−t􏰆qj=1sjtj−1 Rb
   where the first equality holds because M is Golod, the second by Lemma 4.1.3.1, and the third by Proposition 3.3.5.2. This yields numerical relations
βn+1 =βn +s1βn−1 +···+sq−1βn−q+1 +rn+1 for n≥0.
Since s1 ≥ 1 because R is not a hypersurface, we get βn+1 > βn for n ≥ 0. Thus,
min{βR (M)/βR(M)|0≤i<q}=γ>1,soassumebyinductionthatn≥q−1 i+1 i
and βi+1/βi ≥ γ for i ≤ n. As rn+1 = 0 for n ≥ q − 1, we have βn+1 =βn +s1βn−1 +···+sq−1βn−q+1
≥γβn−1 +s1γβn−2 +···+sq−1γβn−q =γβn.
(2) is a direct consequence of (5).
(3) Let ρ be the radius of convergence of PRM(t). Since this is a series with positive coefficients, ρ is a root of the polynomial g(t) = 1 − 􏰆qj=1 sjtj. Because
g(0) = 1 > 0 and g(1) = 1−􏰆rankQSyzQj+1(R) < 0, we have ρ < 1. As g′(ρ) = −􏰆qj=1 jsjρj−1 < 0, the root ρ is simple. Let ξ1,...,ξm be the remaining roots of g(t); assuming that one of them is equal to ζρ for some ζ ∈ C with |ζ| = 1 and ζ ̸= 1, we get
􏰗q􏰗qq 􏰗􏰗􏰗􏰗
1 = 􏰗􏰈sj(ζρ)j􏰗 < 􏰈􏰗sj(ζρ)j􏰗 = 􏰈sjρj = 1 􏰗j=1 􏰗 j=1 j=1
which is absurd. Thus, ρ < |ξi| for i = 1,...,m. Set ξ0 = ρ, and write PRM(t) as a sum of prime fractions αih/(1 − ξ−1t)h with αih ∈ C for i = 0, . . . , m. Expanding
each one of them by the binomial formula, we see that m ni 􏰚h+n−1􏰛
i
βn =αρ−n +􏰈􏰈αih ξ−n with α̸=0.
h−1 i
Thus,α=limn−→∞βnρn >0;asρ−1 =curvRM=β,thisiswhatwewant.
i=1 h=1

INFINITE FREE RESOLUTIONS 51
(4) is a direct consequence of (3). 􏰏
The next result is due to Scheja [139]; the proof is from [21].
Proposition 5.3.4. Let e = edim R and r = rankk H1(KR). If codepth R = 2, then either R is Golod, and then PRk (t) = (1 + t)e−1/(1 − t − (r − 1)t2), or R is a complete intersection, and then PRk (t) = (1 + t)e−2 /(1 − 2t + t2 ) .
Proof. Completing if necessary, we may assume that R ∼= Q/I, with (Q,n,k) a regular local ring, and I ⊆ n2. The Auslander-Buchsbaum Equality yields pdQ R = depth Q − depth R = codepth R = 2. By Example 2.1.2, the minimal free resolution A of R over Q is a DG algebra, such that A1A1 ⊆ nA2, unless I is generated by a regular sequence. In the latter case R is a complete intersection by definition; in the former, it is Golod by Proposition 5.2.4.4. The Poincar ́e series come from Proposition 3.3.5.2 and formula (5.0.1), respectively. 􏰏
We complement the discussion in Section 1 with Iyengar’s [92] construction of minimal resolutions over Golod rings of codepth 2; the very different case of com- plete intersection is treated by Avramov and Buchweitz [31].
Example 5.3.5. Let R = Q/I be a Golod ring with codepth R = 2. If edim R − depth M = p, then N = SyzRp (M ) has pdQ N = 2 by Proposition 1.2.8 and Lemma 1.2.6. By Proposition 2.2.5, the minimal free resolution U of N over Q is a DG module over the DG algebra A of Example 2.1.2. If F(A,U) = F is the resolution of N over R given by Theorem 3.1.1, then
􏰈∞ P Q ( t )
rankRFntn = N =PRN(t)
 n=0 1+t−tPQR(t)
because the R–module N is Golod by Theorem 5.3.2.2. Thus, F is minimal.

52 L. L. AVRAMOV
6. Tate resolutions
A process of killing cycles of odd degree by adjunction of divided powers— rather than polynomial—variables, was systematically used by H. Cartan in his spectacular computation [50] of the homology of Eilenberg-MacLane spaces [56]. Their potential for commutative algebra was realized by Tate24 [151].
Section 1 presents most of Tate’s paper. Section 3 contains a major theorem of Gulliksen [77] and Schoeller [140]; it is proved essentially by Gulliksen’s arguments, but in a new framework motivated by Quillen’s construction of the cotangent com- plex in characteristic 0 and developed in Section 2.
6.1. Construction. Let A be a DG algebra, and let z ∈ A be a cycle.
Construction 6.1.1. Divided powers variable. The k–algebra k⟨x⟩ on a di- vided powers variable x of positive even degree is the free k–module with basis {x(i) : |x(i)| = i|x|}i 􏰶 0 and multiplication table
(i) (j) 􏰚i + j􏰛 (i+j)
x x = i x for i,j≥0;
itiscustomarytosetx(1) =x,x(0) =1,andx(i) =0fori<0.
Set A⟨x⟩ ♮ = A♮ ⊗k k⟨x⟩. If z ∈ A is cycle of positive odd degree, then
􏰚􏰛
∂ 􏰈 aix(i) = 􏰈 ∂(ai)x(i) + 􏰈(−1)|ai|aizx(i−1)
iii
is a differential on A⟨x⟩, that extends that of A, and satisfies the Leibniz rule.
For uniformity of notation, when |x| is odd A⟨x | ∂(x) = z⟩ stands for the algebra A[x | ∂(x) = z], described in Construction 2.1.7; when |x| = 0 we set A⟨x | ∂(x) = 0⟩ = A[x | ∂(x) = 0], cf. Construction 2.1.8.
Example 6.1.2. Let B be a graded commutative algebra. An element u ∈ Bd is regular on B if it is not invertible, and has the smallest possible annihilator: When d is even this means that (0 : B u) = 0, the usual concept for commutative rings; when d is odd this means that (0:B u) = Bu, because u2 = 0 implies uB ⊆ (0:B u).
It is easy to see that u is regular if and only if π: B⟨x|∂(x) = u⟩ −→ B/(u), π􏰁 􏰆 bix(i)􏰂 = b0 + (u), is a quasi-isomorphism. Indeed, this is classical if d is even. Whendisodd,z=􏰆bix(i) isacyclepreciselywhenubi =0fori>0;ifuis regular, then bi = aiu for each i, so z = b0 + ∂􏰁 􏰆i(−1)|ai|aix(i+1)􏰂; else, there is a v ∈/ (u) such that uv = 0, hence KerH(π) ∋ cls(vx) ̸= 0.
A semi-free Γ-extension A⟨X⟩ of A is a DG algebra obtained by iterated (pos- sibly, transfinite) sequence of adjunctions of the three types of variables described above; we say that the elements of X are Γ-variables over A.
Remark 6.1.3. Let A 􏰐→ A⟨X⟩ be a semi-free Γ-extension, with ∂(xλ) = zλ ∈ A. Consider the semi-free extension A[Y |∂(yλ) = zλ], and let α: A[Y] −→ A⟨X⟩ be
24From the introduction of [151]: ‘Our “adjunction of variables” is a na ̈ıve approach to the exterior algebras and twisted polynomial rings familiar to topologists, and the ideas involved were clarified in my mind by conversations with John Moore.’
 
INFINITE FREE RESOLUTIONS 53
the morphism of DG algebras defined by α(yλ) = xλ for each λ. A simple induction yields α(yi ) = (i!)x(i). Thus, if n! is invertible in A, then
λλ
􏰃 􏰄 yi1 ···yiq
β x(i1)···x(iq) = λ1 λq for i1+···+iq ≤n λ1 λq (i1)! · · · (iq)!
defines a morphism of complexes (A⟨X⟩)􏰵 n −→ (A[Y ])􏰵 n, inverse to α􏰵 n. When A0 is a Q–algebra, α and β are inverse isomorphisms of DG algebras.
Let φ: R −→ S be a homomorphism of commutative rings. A factorization of φ through a semi-free Γ-extension R 􏰐→ R⟨X⟩ followed by a surjective quasi- isomorphism R⟨X⟩ −→ S is called a Tate resolution of S over R (or, of the R– algebra S). Revisiting the proof of Proposition 2.1.10, this time killing classes of odd degree by adjunction of divided powers variables, one gets
Proposition 6.1.4. Each R–algebra S has a Tate resolution. If R is noetherian and S is a finitely generated R–algebra (and a residue ring of R), then such a resolution exists with all Xi finite (and X0 = ∅). 􏰏
We take a close look at the effect that an adjunctions of Γ-variables has on homology. If ι: A 􏰐→ A⟨X⟩ is a semi-free Γ-extension, and ∂(X) ⊆ A, then W = {cls(∂(x)) ∈ H(A) | x ∈ X} is contained in the kernel of the algebra ho- momorphism H(ι): H(A) −→ H(A⟨X⟩), hence there is an induced homomorphism of graded algebras ι: H(A)/(W)H(A) −→ H(A⟨X⟩).
Let A 􏰐→ A⟨x|∂(x) = z⟩ be an extension with |z| = d and w = cls(z). Remark 6.1.5. When d ≥ 0 is even, there is an exact sequence of chain maps
ιθ
0 −→ A −→ A⟨x⟩ −→ A −→ 0 where θ(a + xb) = b , has degree −d − 1, and the homology exact sequence is
w Hn(ι) Hn(θ)
. . . −→ Hn−d(A) −→ Hn(A) −−−→ Hn(A⟨x⟩) −−−→ Hn−d−1(A) −→ . . . .
In a special case, it appears in most textbooks on commutative algebra: A = K(f;Q)istheKoszulcomplexonf andA⟨x⟩=K(f,g;Q)isthatonf∪{g}.
  Remark 6.1.6. When d > 0 is odd, there is an exact sequence of chain maps ι θ 􏰚􏰈 (i)􏰛 􏰈 (i−1)
0 −→ A −→ A⟨x⟩ −→ A⟨x⟩ −→ 0 where θ aix = aix ii
of degree −d − 1, and the homology exact sequence is ðn+1 Hn (ι) Hn (θ)
. . . −→ Hn−d(A⟨x⟩) −−−→ Hn(A) −−−→ Hn(A⟨x⟩) −−−→ Hn−d−1(A⟨x⟩) −→ . . .
Unlike the preceding case, multiplication by w does not appear as a map in this sequence. To analyze its impact, consider the spectral sequence of the filtration 􏰆i 􏰵 p Ax(i). Its module 2Ep,q is the homology of the complex
ww
Hq−d(p+1)(A) −→ Hq−dp(A) −→ Hq−d(p−1)(A) ,
so for all q there are equalities
2E0,q = Hq(A) and 2Ep,q = (0:H(A)w)q−pd whenp≥1. w Hq−d(A) w Hq−(p+1)d(A)
  
54 L. L. AVRAMOV
Setting s = inf{n | (0:H(A) w)n ̸= wHn−d(A)}, we get 2Ep,q = 0 for p ≥ 1 and q < dp + s. Since rdp,q maps rEp,q to rEp−r, q+r−1, we have 2E0,q = ∞E0,q for q ≤ 2d + s and 2E1,q = ∞E1,q for q ≤ 3d + s. The spectral sequence converges to H(A⟨x⟩), so for n ≤ s the inclusion ι: A 􏰐→ A⟨X⟩ induces isomorphisms
ιn: Hn(A) ∼=Hn(A⟨X⟩) for0≤n≤d+s, w Hn−d(A)
  and short exact sequences
Hn(A) ιn (0:H(A) w)n−d−1
 0−→wHn−d(A)−→Hn(A⟨x⟩)−→ wHn−2d−1(A) −→0 ford+s+1≤n≤2d+s.
  We extend to the graded commutative setup a basic tool of a commutative algebraist’s trade: A sequence u = u1,...,ui,··· ⊆ B is regular on B if (u) ̸= B and the image of ui is regular on B/(u1, . . . , ui−1)B for each i ≥ 1. The following result is from the source [151]. When A = A0, the extension A⟨X⟩ is an usual Koszul complex and condition (ii) means that Hn(A⟨X⟩) = 0 for n > 0, so we have an extension of the classical characterization of regular sequences. On the other hand, when ∂A = 0, condition (iii) extends the homological description of regular elements in Example 6.1.2.
Proposition 6.1.7. Let A be a DG algebra, let w = w1,...,wj,... be a sequence of classes in H(A), let z be a sequence of cycles such that cls(zj ) = wj for each i, and let ι: A 􏰐→ A⟨X |∂(X) = z⟩ be a semi-free Γ-extension.
Implications (i) =⇒ (ii) =⇒ (iii) then hold among the conditions: (i) The sequence w is regular in H(A).
(ii) The canonical map ι: H(A) −→ H(A⟨X⟩) is an isomorphism. (w) H(A)
(iii) The canonical map H(ι): H(A) −→ H(A⟨X⟩) is surjective.
The conditions are equivalent if w = w1, or |wj| > 0 for all j, or each Hi(A) is noetherian over S = H0(A) and all wj of degree zero are in the Jacobson radical of S. In these cases, any permutation of a regular sequence is itself regular.
Proof. Homology commutes with direct limits, so we may assume that the sequence zisfinite,sayz=z1,...,zi,andinduceoni. Fori=1,setz=z1,w=w1,and d = |w|. When d is even Remark 6.1.5 readily yields (iii) =⇒ (i) =⇒ (ii), so assume that d is odd.
(i) =⇒ (ii). If w is regular on H(A), then 2Ep,q = 0 for p > 0 in the spectral sequence in Remark 6.1.6, hence
Hq(A)/w Hq−d(A) = 2E0,q = ∞E0,q = Hq(A⟨X⟩) .
(iii) =⇒ (i). If w is not regular, then by Remark 6.1.6 the sequence
H(ι) (0 : H(A) w)s Hs+d+1(A) −−→ Hs+d+1(A⟨x⟩) −→ w Hs−d(A) −→ 0
is exact, with non-trivial quotient. This contradicts the surjectivity of ι.
Let i > 1, assume that the proposition has been proved for sequences of length i−1, set X′ = x1,...,xi−1, X = X′ ∪{xi}, and consider the semi-free Γ-extensions
ι′ : A −→ A⟨X′⟩ and A⟨X′⟩ −→ A⟨X′⟩⟨xi⟩ = A⟨X⟩.
(i) =⇒ (ii). If w = w1,...,wi is regular on H(A), then so is the sequence w′ =
w1, . . . , wi−1, hence H(A)/(w′) H(A) ∼= H(A⟨X′⟩) by the induction hypothesis. As
    
INFINITE FREE RESOLUTIONS 55
wi is regular on H(A)/(w′)H(A), the basis of the induction yields an isomorphism H(A)/(w) H(A) ∼= H(A⟨X⟩).
(iii) =⇒ (i). Since the homomorphism H(ι) factors as α ′ β H(A⟨X′⟩) γ
H(A) −→ H(A⟨X ⟩) −→ wi H(A⟨X′⟩) −→ H(A⟨X⟩) ,
where α = H(ι′), we see that γ is onto. The basis of our induction shows that wi
 is regular on H(A⟨X′⟩), and that γ is bijective. Thus, βα is onto, so Hn(A⟨X′⟩) = α(Hn(A)) + wi Hn−d(A⟨X′⟩) for n ∈ Z and d = |wi| .
When d > 0, induction on n shows that α is surjective; when d = 0, the same conclusion comes from Nakayama’s Lemma, which applies since Hn(A⟨X′⟩) is a finite H0(A⟨X′⟩)–module. The surjectivity of α and the induction hypothesis imply that w′ is regular on H(A); thus, w is regular on H(A). 􏰏
Theorem 6.1.8. Let Q be a ring, let B be a DG algebra resolution of S = Q/(s1,...,se), and choose x1,...,xe ∈ B1 such that ∂(xi) = si for i = 1,...,e. For f = f1,...,fr ∈ Q with fj = 􏰆ei=1 aijsi for j = 1,...,r, set zj = 􏰆ei=1 aijxi, where overlines denote images in R = Q/(f).
If f is Q–regular, then C = B⟨xe+1,...,xe+r |∂(xe+j) = zj⟩ resolves S over R. Proof. With A = Q⟨Y |∂(yj) = fj⟩, we have quasi-isomorphisms of DG algebras
  α: A −→ R and β: B −→ S, and hence induced quasi-isomorphisms B⊗Qα β⊗QA
 B = B ⊗ Q R ←−−−− B ⊗ Q A −−−−→ S ⊗ Q A = S ⟨ y 1 , . . . , y r | ∂ ( y j ) = 0 ⟩ .
As zj = (B ⊗Q α)􏰁􏰆ei=1 aijxi − yj􏰂 and (β ⊗Q A)􏰁􏰆ei=1 aijxi − yj􏰂 = −yj, we see that H1(B) is a free module on w1,...,wr, where wj = cls(zj), and H(B) is the exterior algebra 􏰣H1(B). Thus, the sequence w1,...,wr is regular on H(B), so H(C) = H(B)/(w1,...,wr) = S by the preceding proposition. 􏰏
ForB=Q⟨x1,...,xe|∂(xi)=si⟩andti =si ∈R,thetheoremyields Corollary 6.1.9. If both f and s are Q–regular sequences, then the DG algebra
C = R⟨x1,...,xe+r |∂(xi) = ti for i = 1,...,e; ∂(xe+j) = zj for j = 1,...,r⟩ resolves S over R. 􏰏
Remark. A result of Blanco, Majadas, and Rodicio [43] rounds off this circle of ideas: Hn(R⟨X1,X2⟩) = 0 for n ≥ 1 if and only if {cls(∂(x)) | x ∈ X2} is a basis of H = H1(R⟨X1⟩) over S = H0(R⟨X1⟩), and the canonical map of graded algebras 􏰣S H −→ H(R⟨X1⟩) is bijective.
In characteristic 0, the corollary holds with R⟨X⟩ replaced by R[X], cf. Remark 6.1.3; in general, the use of divided powers is essential:
Example 6.1.10. Let Q = k[[s]], where k is a field of characteristic p > 0, set R = Q/(sm+1) for some m ≥ 1, and let t be the image of s.
For each i ≥ 0, the DG algebra G = R[y1,y2 |∂(y1) = t; ∂(y2) = tmy1] has G2i = Ry2i and G2i+1 = Ry1y2i , with ∂(y2i ) = itmy1yi−1 and ∂(y1y2i ) = ty2i . Thus, H2ip(G) ∼= H2ip−1(G) ∼= k for i ≥ 0. If R[Y ] is a resolvent of k, then it contains a subalgebra isomorphic to G, and so cannot be minimal.
      
56 L. L. AVRAMOV
6.2. Derivations. Throughout this section, A 􏰐→ A⟨X⟩ is a semi-free Γ-extension. First, we describe a convenient basis.
Remark 6.2.1. The following conventions are in force: x(i) = 0 and x(0) = 1 for allx∈X andalli<0;when|x|isodd,x(i) isdefinedonlyfori≤1,andx(1) =x; when |x| = 0, x(i) stands for xi.
Order X = {xλ}λ∈Λ, first by xλ < xμ if |xλ| < |xμ|, then by well-ordering each Xn . For every sequence of Γ-variables xμ < · · · < xν , and every sequence of integers
(iμ) (iν)
iμ ≥ 1,...,iν ≥ 1, the product xμ ···xν is called a normal Γ-monomial on X;
its degree is iμ|xμ| + · · · + iν |xν |; by convention, 1 is a normal monomial. The normal monomials form the standard basis of A⟨X⟩♮ over A♮.
To contain a proliferation of signs, we use the canonical bimodule structure car- ried by each DG module V over a graded commutative DG algebra B. Namely, BoperatesonV ontherightbyvb=(−1)|v||b|bvforallv∈V andb∈B. This operation is right associative (that is, v(bb′) = (vb)b′), distributive, unitary, and commutes with the original action: (bv)b′ = b(vb′).
Remark 6.2.2. Let U be a module over A⟨X⟩♮. A map of k–modules θ: A⟨X⟩ −→ U, such that
and
θ(a)=0
θ(bb′) = θ(b)b′ + (−1)|b||θ|bθ(b′)
λ1 λq
λ1 λj λq
θ(x(i)) =
forall a∈A;
for all b, b′ ∈ A⟨X⟩ ;
for all x ∈ Xeven and all i ∈ N ,
􏰞iθ(x)x(i−1) if |x| = 0 ; θ(x)x(i−1) if |x| ≥ 1 ,
θ(x(i)) = θ(x)x(i−1)
is called an A–linear Γ-derivation; it is a homomorphism of A♮–modules.
It is easy to see by induction that
q
θ 􏰃x(iλ1 ) · · · x(iλq )􏰄 = 􏰈(−1)sj−1 x(iλ1 ) · · · θ 􏰃x(iλj )􏰄 · · · x(iλq )
j=1
where sj =|θ|􏰁iλ1|xλ1|+···+iλj|xλj|􏰂.
In particular, θ is determined by its value on X. Conversely, each homogeneous
map X −→ U extends to a (necessarily unique) A–linear Γ-derivation θ: A⟨X⟩ −→ U. Indeed, define the action of θ on the standard basis by the formulas above, and extend it by A–linearity; it suffices to check the Leibniz rule on products of normal monomials, and this is straightforward.
Let DerγA (A⟨X⟩,U) be the set of all A–linear Γ-derivations from A⟨X⟩ to U. It is easy to see that DerγA (A⟨X⟩,U) is a submodule of HomA (A⟨X⟩,U), for the operation of A⟨X⟩ ♮ on the target: (bα)(b′) = bα(b′) for all b, b′ ∈ A⟨X⟩ ♮.
If U is a DG module over A⟨X⟩, and θ is an A–linear Γ-derivation, then so is ∂θ− (−1)|θ|θ∂, hence HomA (A⟨X⟩, U) contains DerγA (A⟨X⟩, U) as a DG submodule over A⟨X ⟩; we call it the DG module of A–linear Γ -derivations . If θ is a cycle in DerγA (A⟨X⟩,U), that is, if ∂θ = (−1)|θ|θ∂, then we say that θ is a chain Γ- derivation. Clearly, if β: U −→ V is a homomorphism of DG modules over A⟨X⟩,

INFINITE FREE RESOLUTIONS 57
then θ 􏰀→ β◦θ is a natural homomorphism
DerγA(A⟨X⟩,β): DerγA(A⟨X⟩,U)−→DerγA(A⟨X⟩,V),
of DG modules over A⟨X⟩, which is a chain map if β is one.
Over a commutative ring, the derivation functor is representable by module of K ̈ahler differentials. The next proposition establishes the representability of the functor of Γ-derivations of semi-free Γ-extensions.
Proposition 6.2.3. There exist a semi-free DG module DiffγA A⟨X⟩ over A⟨X⟩ and a degree zero chain Γ-derivation d: A⟨X⟩ −→ DiffγA A⟨X⟩ such that
(1) 􏰁DiffγA A⟨X⟩􏰂♮ has a basis dX = {dx : |dx| = |x|}x∈X over A⟨X⟩♮ .
(2) d(x)=dx for all x∈X.
(3) ∂(b(dx)) = ∂(b)(dx) + (−1)|b|b d(∂(x)) for all b ∈ A⟨X⟩.
(4) The map β 􏰀→ β◦d is a natural in U isomorphism
HomA⟨X⟩ (DiffγA A⟨X⟩, U) −→ DerγA (A⟨X⟩, U)
of DG modules over A⟨X⟩, with inverse given by 􏰚􏰛
􏰦
θ 􏰈 axdx = 􏰈(−1)|θ||ax|axθ(x).
x∈X x∈X
Remark. We call DiffγA A⟨X⟩ the DG module of Γ-differentials of A⟨X⟩ over A,
and d the universal chain Γ-derivation of A⟨X⟩ over A.
Proof. Let D be a module with basis dX = {dx : |dx| = |x|}x∈X over A⟨X⟩♮. By Remark 6.2.2, there is a unique degree zero Γ-derivation d: A⟨X⟩ −→ D, such that d(x)=dxforallx∈X. Ashortcomputationshowsthat∂◦d−d◦∂:A⟨X⟩−→D is an A–linear Γ-derivation. It is trivial on X, hence ∂◦d = d◦∂. In particular, ∂2(dx))=d(∂2(x))=0forallx∈X,so∂2 =0.
The DG module DiffγA A⟨X⟩ = (D, ∂) has the first three properties by construc- tion. The last one is verified by inspection. 􏰏
In combination with Proposition 1.3.2, the preceding result yields:
Corollary 6.2.4. If U −→ V is a (surjective) quasi-isomorphism of DG modules
over A⟨X ⟩, then so is DerγA (A⟨X ⟩, U ) −→ DerγA (A⟨X ⟩, V ). 􏰏 Construction 6.2.5. Indecomposables. Let J denote the kernel of the mor-
phism A −→ S = H0(A⟨X⟩), and let X(􏰶 2) be the set of normal Γ-monomials (iμ) (iν)
xμ ···xν that are decomposable, that is, satisfy iμ + ··· + iν ≥ 2. It is clear that A + JX + AX(􏰶 2) is a DG submodule of A⟨X⟩ over A, hence the projection π: A⟨X⟩ −→ A⟨X⟩/􏰁A + JX + AX(􏰶 2)􏰂 defines a complex of free S–modules
γ δn+1
IndA A⟨X⟩: ... −→ SXn+1 −−−→ SXn −→ ... .
We call it the complex of Γ-indecomposables of the extension A 􏰐→ A⟨X⟩. It is used to construct DG Γ-derivations, by means of the next lemma.

58 L. L. AVRAMOV
Lemma 6.2.6. Let V be a complex of S–modules, let U a DG module over A with Ui = 0 for i < 0, and let β : U −→ V a surjective quasi-isomorphism.
For each chain map ξ: IndγA A⟨X⟩ −→ V of degree −n there exists a degree −n chain Γ-derivation θ: A⟨X⟩ −→ U such that βθ = ξπ; any two such derivations are homotopic by a homotopy that is itself an A–linear Γ-derivation.
Furthermore, for each family {ux ∈ U0 | β(ux) = ξ(x) for x ∈ Xn} ⊆ U there is a chain Γ -derivation θ, satisfying θ(x) = ux for all x ∈ Xn.
Proof. The canonical projection A⟨X⟩ −→ IndγA A⟨X⟩ is an A–linear chain Γ- derivation, so Proposition 6.2.3.4 yields a morphism D −→ IndγA A⟨X⟩ of DG mod- ules over A⟨X⟩, that maps dx to x for each x ∈ X. It induces a morphism of complexes of free S–modules S ⊗A⟨X⟩ D −→ IndγA A⟨X⟩ that is bijective on the bases, and hence is an isomorphism. Thus, we have isomorphisms
HomA⟨X⟩ (D, V ) ∼= HomS 􏰁S⊗A⟨X⟩D, V 􏰂 ∼= HomS (IndγA A⟨X⟩, V )
On the other hand, for the semi-free module D = DiffγA A⟨X⟩ over A⟨X⟩, Corol- lary 6.2.4 gives the surjective quasi-isomorphism below
γ≃γ∼
DerA (A⟨X⟩, U) −→ DerA (A⟨X⟩, V ) = HomA⟨X⟩ (D, V )
while the isomorphism comes from Proposition 6.2.3.4.
Concatenating these two sequences of morphisms, we get a surjective quasi-so-
morphism α: DerγA (A⟨X⟩,U) −→ HomS (IndγA A⟨X⟩,V), so we can choose a cycle θ ∈ DerγA(A⟨X⟩,U) with α(θ) = ξ: this is the desired chain Γ-derivation. Any two choices differ by the boundary of some υ ∈ DerγA (A⟨X⟩,U), that is, of a Γ- derivation. Finally, observe that the θi = 0 for i < n, and the choice of θn is only subject to the condition β0θn = ξ0πn, so θn(x) = ux for x ∈ Xn is a possible choice. 􏰏
In these notes, applications of the lemma go through the following
Proposition 6.2.7. Assume that A⟨X⟩ −→ S is a quasi-isomorphism.
If x ∈ Xn ⊂ IndγAA⟨X⟩ is such that x = x ∈ Xn +δn+1(Xn+1) generates a free direct summand of Cokerδn+1, then there is an A-linear chain Γ-derivation
θ: A⟨X⟩ −→ A⟨X⟩ of degree −n, with θ(x) = 1 and θ(Xn 􏰒 {x}) = 0.
Proof. Since Sx ∩ Im δn+1 = 0, the homomorphism of S–modules ξn : SXn −→ S defined by ξn(x) = 1 and ξn(Xn 􏰒 {x}) = 0 extends to a morphisms of complexes IndγAA⟨X⟩−→S;applythelemmawithU=A⟨X⟩andV =S. 􏰏
6.3. Acyclic closures. The notion is introduced by Gulliksen in [83], where the main results below may be found. Our approach is somewhat different, as it is based on techniques from the preceding section.
Construction 6.3.1. Acyclic closures. Let A be a DG algebra, such that A0 is a local ring (R,m,k), and each R–module Hn(A) is finitely generated, let A −→ S be a surjective augmentation, and set J = Ker(A −→ S).
Successively adjoining finite packages of Γ-variables in degrees 1, 2, 3, etc., one arrives at a semi-free Γ-extension A 􏰐→ A⟨X⟩, such that H0(A⟨X⟩) = S, and Hn(A⟨X⟩) = 0 for n ̸= 0 (recall the argument for Proposition 2.1.10).
The Third Commandment imposes the following decisions:
(1) X=X􏰶1;
(2) ∂(X1) minimally generates J0 mod ∂1(A1) ;
 
INFINITE FREE RESOLUTIONS 59 (3) {cls(∂(x)) | x ∈ Xn+1} minimally generates Hn(A⟨X􏰵 n⟩) for n ≥ 1 .
Extensions obtained in that way are called acyclic closures of S over A.
The set Xn is finite for each n, so we number the Γ-variables X by the natural
numbers, in such a way that |xi| ≤ |xj| for i < j. The standard basis of Remark
6.2.1 is then indexed by infinite sequences I = (i1,...,ij,...), such that ij is a
non-negative integer, ij ≤ 1 when |xj| is odd, and ij = 0 for j > q = q(I); we call (I) (i1) (iq)
such an I an indexing sequence, and set x = x1 ···xq .
We set |I| = 􏰆∞j=0 ij|xj|. For an indexing sequence H = (h1,...,hj,...), we set
I > H if |I| > |H|; when |I| = |H|, we set I > H if there is an l ≥ 0, such that il > hl, and ij = hj for j > l. We now have a linear order on all indexing sequences, and we linearly order the basis accordingly. Since |x(I)| = |I|, it refines the order on the variables, and is just (an extension of) the usual degree-lexicographic order.
To recognize an acyclic closure when we see one, we prove:
Lemma 6.3.2. A semi-free Γ-extension A 􏰐→ A⟨X⟩ is an acyclic closure of S if and only if X = X􏰶 1, H(A⟨X⟩) = S, and the complex of free S–modules IndγA A⟨X⟩ of Construction 6.2.5 is minimal.
Proof. As X0 = ∅, the complex IndγA A⟨X⟩ is trivial in degrees ≤ 0.
Assume that A⟨X⟩ is an acyclic closure. For x′ ∈ Xn+1, write z = ∂(x′) as 􏰆xaxx+wwithx∈Xn,ax ∈R,andw∈A⟨X<n⟩. Ifn=1,then∂(z)=0 means􏰆xax∂(x)∈∂1(A1),soax ∈mby(2). Ifn≥2,then􏰆xaxcls(∂(x))=0,
so ax ∈ m by (3); thus, IndγA A⟨X⟩ is minimal.
Assume that IndγAA⟨X⟩ is minimal. If (2) or (3) fails, then there are
xi1,...,xis ∈ Xn+1; ai2,...,ais ∈ R; y ∈ A⟨X􏰵n⟩, such that xi1 −ai2xi2 −···− ais xis −y is a cycle. In A⟨X⟩, it is equal to ∂(u+􏰆v∈Xn+1 cvv+w), with u ∈ RXn+2, cv ∈A1 =J1,andw∈A⟨X􏰵n⟩. As∂(cvv)=∂(cv)v−cv∂(v)∈JXn+1+JXn+ AX(􏰶 2) and ∂(w) ∈ AX(􏰶 2), where X(􏰶 2) is the set of decomposable Γ-monomials from Construction 6.2.5, we get ∂(u) = xi1 − a2xi2 − · · · − asxis ∈/ m IndγA A⟨X⟩. This contradicts the minimality of IndγA A⟨X⟩. 􏰏
We are now ready to prove a key technical fact.
Lemma 6.3.3. If A⟨X⟩ is an acyclic closure of k over A, then there exist A–linear chain Γ-derivations θi : A⟨X⟩ −→ A⟨X⟩ for i ≥ 1, such that:
􏰞0 for |xh|≤|xi| and h̸=i; (1) θi(xh)= 1 forh=i.
(2) Each θi is unique up to an A–linear Γ-derivation homotopy. (3)WhenIisanindexingsequence,qissuchthatij =0forj>q,θI =
iq i
θq · · · θ11 , and H is an indexing sequence, then
Proof. By Lemma 6.3.2, IndγA A⟨X⟩ is a complex of k–vector spaces with trivial differential, so derivations θi satisfying (1) and (2) are provided by Proposition 6.2.7. As the θi are Γ-derivations, (3) follows by induction on 􏰆j ij. 􏰏
􏰞0 forH<I; 1 forH=I.
θI􏰁x(H)􏰂 =
Remark. In the composition θI, the indices of θij appear in decreasing order.

60 L. L. AVRAMOV
The next result is due to Gulliksen [83].
Theorem 6.3.4. Let A be a DG algebra, such that A0 is a local ring (R, m, k), and each R–module Hn(A) is finitely generated. If A⟨X⟩ is an acyclic closure of k over A, then ∂(A⟨X⟩)⊆JA⟨X⟩, where J0 =m, and Jn =An for n>0.
Proof. Take an arbitrary b ∈ A⟨X⟩, and write its boundary in the standard basis: ∂(b) = 􏰆H aHx(H). We have to prove that if |H| = |b|−1, then aH ∈ m. Assuming the contrary, we can find an indexing sequence I with aI ∈/ m and aH ∈ m for H > I. Using the preceding lemma, we get
±∂1(θI(b)) = θI(∂(b)) = aI + 􏰈 aHθI􏰁x(H)􏰂 ≡ aI mod mA⟨X⟩ . H>I
This is a contradiction, because ∂1(A⟨X⟩1) = m.
The important special case when A = A0 is proved independently by Gulliksen
[77] (using derivations) and Schoeller [140] (using Hopf algebras):
Theorem 6.3.5. If (R,m,k) is a local ring and R⟨X⟩ is an acyclic closure of the
R–algebra k, then R⟨X⟩ is a minimal resolution of the R–module k. 􏰏 As a first application we prove a result of Levin [111], where HRN (t) denotes the
Hilbert series 􏰆∞n=0 rankk(mnN/mn+1N)tn of a finite R–module N. Theorem 6.3.6. For each finite R–module M there is an integer s such that
PR (t) = HR (−t)PR(t) for each i ≥ s. miM miM k
Proof. By Theorem 6.3.5, there is a minimal resolution U = R⟨X⟩ of k over R that is a semi-free DG module over the Koszul complex K = R⟨X1⟩. Choose s as in Lemma 4.1.6.3, so that for i ≥ s the complexes
Ci: 0−→mi−eM⊗RKe−→...−→mi−1M⊗RK1−→miM⊗RK0−→0
areexact(heree=edimR). Fixsuchani,setN=miM,andforeachp≥0set Fp=􏰅|eλ|􏰵p(mN⊗RK)eλ,where{eλ}λ∈Λ isaK♮–basisofU♮.
Take z ∈ Zn(mN ⊗R U) ∩ Fp. When p = 0 we have
Zn(mN ⊗R K) = Zn(mi+1M ⊗R K) = ∂(miM ⊗R Kn+1) = ∂(N ⊗R Kn+1)
with the second equality due to the exactness of Ci+1+n. When p > 0, assume by induction that Z(mN ⊗R U) ∩ Fp−1 ⊆ ∂(N ⊗R U), and write z = 􏰆λ∈Λp aλeλ + v
with v ∈ Fp−1. Now
0=∂(z)= 􏰈 ∂(aλ)eλ ± 􏰈 aλ∂(eλ)+∂(v)
λ∈Λp λ∈Λp
implies ∂(aλ) = 0 for λ ∈ Λp, hence aλ = ∂(bλ) with bλ ∈ N ⊗R K, and
􏰚􏰛 z=􏰈∂(bλ)eλ+v=∂ 􏰈bλeλ ∓􏰈bλ∂(eλ)+v.
λ∈Λp λ∈Λp λ∈Λp
Since u = 􏰆λ∈Λp bλ∂(eλ) ∈ N ⊗R mU = mN ⊗R U, we see that u + v lies in Z(mN ⊗R U) ∩ Fp−1 ⊆ ∂(N ⊗R U), and hence z ∈ ∂(N ⊗R U).
􏰏

INFINITE FREE RESOLUTIONS 61
We have Z(mN ⊗R U) ⊆ ∂(N ⊗R U), so mN ⊗R U ⊆ N ⊗R U induces the zero map in homology, that is, TorR 􏰁mi+1M, k􏰂 −→ TorR 􏰁miM, k􏰂 is trivial. Thus, for each n ∈ Z we get an exact sequence
0−→TorRn 􏰁miM,k􏰂 −→TorRn 􏰁miM/mi+1M,k􏰂 −→TorRn−1􏰁mi+1M,k􏰂 −→0 of k–vector spaces. They yield an equality of Poincar ́e series
PRmjM(t)+tPRmj+1M(t) = rankk(mjM/mj+1M)PRk (t) (∗j) for each j ≥ i. Multiplying (∗j) by (−t)j−i, and summing the resulting equalities
in Z[[t]] over j ≥ i, we obtain PR (t) = HR (−t)PR(t), as desired. 􏰏 miM miM k
The25 reader will note that the argument above may be used to yield a new proof of Theorem 4.1.8. By that result, PR (t) = PR (t) − t PR (t); by
M M/miM miM Hilbert theory we know that HR (t)(1 − t)dim M ∈ Z[t] (for each i), hence
miM
Corollary 6.3.7. If all R–modules of finite length have rational Poincar ́e series,
then PRM(t) is rational for all R–modules M. 􏰏 A second application, from Gulliksen [78], treats partial acyclic closures.
Proposition 6.3.8. If e = edim R, then H􏰶 1(R⟨X􏰵 n⟩)e+1 = 0 for each n ≥ 1. Proof. By Theorem 6.3.5, Zi(R⟨X⟩) = (∂(R⟨X⟩))i ⊆ m(R⟨X⟩)i for i ≥ 1, so
Zi(R⟨X􏰵 n⟩) = Z(R⟨X⟩) ∩ R⟨X􏰵 n⟩i ⊆ m(R⟨X⟩) ∩ R⟨X􏰵 n⟩i = m(R⟨X􏰵 n⟩ i) .
Thus, every cycle z ∈ Zi(R⟨X􏰵 n⟩) can be written in the form eee􏰚e􏰛
z=􏰈tjvj =􏰈∂(xj)vj =􏰈xj∂(vj)+∂ 􏰈xjvj , j=1 j=1 j=1 j=1
so each element of H􏰶 1 (R⟨X􏰵 n ⟩) is represented by a cycle in X1 R⟨X􏰵 n ⟩. As
(X1R⟨X􏰵 n⟩)e+1 = (X1)e+1R⟨X􏰵 n⟩ = 0, we get H􏰶 1(R⟨X􏰵 n⟩)e+1 = 0.
􏰏
Remark 6.3.9. To study ‘uniqueness’ of acyclic closures, one needs the category of DG algebras with divided powers: these are DG algebras, whose elements of positive even degree are equipped with a family of operations {a 􏰀→ a(i)}i 􏰶 0 that satisfy (among other things) the conditions imposed on the Γ-variables in Construction 6.1.1; they are also known as DG Γ -algebras26, due to the use by Eilenberg-MacLane [56] and Cartan [50] of γi(a) to denote a(i).
It is proved in [83] that R⟨X⟩ has a unique structure of DG Γ-algebra, that extends the natural divided powers of the Γ-variables in X, and if R⟨X′⟩ is an acyclic closure of S, then R⟨X⟩ ∼= R⟨X′⟩ as DG Γ-algebras over R.
25Attentive.
26This accounts for the Γ’s appearing from Section 6.1 onward.
 
62 L. L. AVRAMOV
7. Deviations of a local ring In this chapter (R, m, k) is a local ring.
We describe a sequence of homological invariants of the R–module k, that are ‘logarithmically’ related to its Betti numbers. They are introduced formalistically in Section 1, and shown to measure the deviation of R from being regular or a complete intersection in Section 3. In Section 2 we develop tools for their study, that reduce some problems over the singular ring R to problems over a regular ring, by means of minimal models for R.
7.1. Deviations and Betti numbers. We need an elementary observation.
Remark 7.1.1. For each formal power series P(t) = 1 + 􏰆∞j=1 bjtj with bj ∈ Z, there exist uniquely defined en ∈ Z, such that
∞
􏰤(1 + t2i−1)e2i−1
P(t) = i=1 ∞
􏰤(1 − t2i)e2i
i=1
where the product converges in the (t)-adic topology of the ring Z[[t]].
 Indeed, let pj (t) = (1 − (−t)j )(−1)j +1 . Setting P0 (t) = 1, assume by induction that Pn−1(t) = 􏰢n−1 ph(t)eh satisfies P(t) ≡ Pn−1(t) (mod tn) with uniquely de-
h=1
fined eh. If P (t) − Pn−1(t) ≡ entn (mod tn+1), then set Pn(t) = Pn−1(t) · pn(t)en .
The binomial expansion of pn(t)en shows that P(t) ≡ Pn(t) (mod tn+1), and that en is the only integer with that property.
The exponent en defined by the product decomposition of the Poincar ́e series PRk (t) is denoted27 εn(R) and called the n’th deviation of R (for reasons to be clarified in Section 3); we set εn(R) = 0 for n ≤ 0. Here are the first few relations between Betti numbers βn = βnR(k) and deviations εn = εn(R):
􏰚ε1 􏰛 β1 = ε1 ; β3 = ε3 + ε2ε1 + ;
􏰚􏰛3 β2 = ε2 + ε1 ; 􏰚ε2􏰛
􏰚ε1􏰛 􏰚ε1􏰛 2 β4=ε4+ε3ε1+ 2 +ε2 2 + 4 .
Remark 7.1.2. The equality PR(t) = PRb(t) and the uniqueness of the product kk
decomposition show that εn(R) = εn(R􏰊) for all n.
A first algebraic description of the deviations is given by
Theorem 7.1.3. If R⟨X⟩ is an acyclic closure of k over R, then cardXn =εn(R) for n∈Z.
Proof. By the minimality of R⟨X⟩ established in Theorem 6.3.5, we have equalities TorR (k, k) = H(R⟨X⟩ ⊗Rk) = k⟨X⟩ = 􏰡x∈X k⟨x⟩. Furthermore,
∞
n=0 1/(1−t2i) if x∈X2i, 27This numbering is at odds with [83], where εn stands for εn+1(R).
􏰞
􏰈 rankk(k⟨x⟩n)tn = 1 + t2i−1 if x ∈ X2i−1 ;
 
INFINITE FREE RESOLUTIONS
by Constructions 2.1.7 and 6.1.1, so we get
∞
􏰤(1 + t2i−1)card(X2i−1)
PR(t) = i=1 k∞
􏰤(1 − t2i)card(X2i)
63
Proposition 7.1.6. If g ∈ R is regular, then
􏰞ε1(R)−1 if g∈/m2;
ε1(R/(g)) = ε1(R) if g∈m2; 􏰞ε2(R) if g∈/m2;
ε2(R/(g))= ε2(R)+1 if g∈m2; εn(R/(g)) = εn(R) for n ≥ 3 .
Proof. For R′ = R/(g), Proposition 3.3.5 yields PR(t) = (1 − t2) PR′ (t) if g ∈ m2 kk
and PR(t) = (1 + t) PR′ (t) if g ∈/ m2; now apply Remark 7.1.1. 􏰏 kk
7.2. Minimal models. In this section (Q, n, k) is a local ring.
A minimal DG algebra over Q is a semi-free extension Q 􏰐→ Q[Y ] such that
Y = Y􏰶 1 and the differential ∂ is decomposable in the sense that n−1
∂(Y1) ⊆ QY02 and ∂(Yn) ⊆ 􏰈 QYi−1Yn−i for n ≥ 2 i=1
where Y0 denotes a minimal set of generators of n; the minimality condition can be rewritten in the handy format ∂(Q[Y ]) ⊆ (Y )2Q[Y ].
Remark 7.2.1. Along with a minimal DG algebra Q[Y ], we consider the residue DG algebras Q[Y ]/(Y< n)Q[Y ] = k[Y􏰶 n] for n ≥ 1. Their initial homology is easy to compute: for degree reasons, the decomposability of ∂ implies that ∂(k[Y􏰶 n]i) = 0 when i ≤ 2n, hence
k ifi=0; 
Hi(k[Y􏰶n])= 0 if 0<i<n; kYi if n≤i<2n.
.
 i=1
The coefficient of tn depends only on the first n factors, so the product converges
in the t-adic topology, and the desired equalities follow from Remark 7.1.1. 􏰏 We record a couple of easy consequences.
Corollary 7.1.4. εn(R) ≥ 0 for all n ∈ Z. 􏰏 Corollary 7.1.5. If R􏰊 = Q/I is a minimal regular presentation, then ε1(R) =
νQ(n) and ε2(R) = νQ(I) .
Proof. By Remark 7.1.2, we may assume that R = Q/I. Condition (6.3.1.0) for acyclic closures then yields the first equality, and implies that R⟨X1⟩ is the Koszul complex KR. The second equality now comes from Lemma 4.1.3.3. 􏰏
A most important property of deviations is their behavior under change of rings: it is additive, as opposed to the multiplicative nature of Betti numbers. The loga- rithmic nature of the deviations will reappear in Theorem 7.4.2.

64 L. L. AVRAMOV
Mimicking the proof of Lemma 6.3.2, we get a criterion for minimality:
Lemma 7.2.2. A semi-free extension Q 􏰐→ Q[Y ] with Y = Y􏰶 1 is minimal if and only if ∂(Y1) minimally generates Ker 􏰁Q −→ H0(Q[Y ])􏰂 ⊆ n2 and ∂(Yn) minimally generates Hn−1(Q[Y􏰵 n−1]) for n ≥ 2. 􏰏
Minimal DG algebras are ‘as unique as’ minimal complexes.
Lemma 7.2.3. Each quasi-isomorphism φ: Q[Y ] −→ Q[Y ′] of minimal DG algebras
over Q is an isomorphism.
Proof. Consider the restrictions φ􏰵 n : Q[Y􏰵 n] −→ Q[Y􏰵′ n] and the morphisms φ> n = (k ⊗Q[Y􏰵 n] φ): k[Y> n] −→ k[Y>′ n] induced by φ. By the preceding lemma, ∂(Y1) and ∂(Y1′) are minimal sets of generators of Ker(Q −→ H0(Q[Y ])), so by Nakayama φ1 : QY1 −→ QY1′ is an isomorphism of Q–modules, and hence φ􏰵 1 is an isomorphism of DG algebras over Q.
Assume by induction that φ􏰵 n is bijective for some n ≥ 1. By Proposition 1.3.3 then φ> n is a quasi-isomorphism, hence Hn+1(φ> n) is an isomorphism. By Remark
φ􏰵n+1):k[Y ]−→ 􏰵 n+1
􏰏
7.2.1,thisissimplyφ>n :kY −→kY′ ,hence(k⊗
n+1 n+1 n+1
k[Y􏰵′ n+1] is bijective; by Nakayama, so is φ􏰵 n+1.
Q[Y􏰵 n]
If R = Q/I, then a minimal model of R over Q is a quasi-isomorphism Q[Y ] −→ R, where Q[Y ] is a minimal DG algebra.
Proposition 7.2.4. Each residue ring R = Q/I has a minimal model over Q. Any two minimal models are isomorphic DG algebras over Q.
Proof. Going through the construction in 2.1.10 of a resolvent of R over Q and strictly observing the Third Commandment, one gets a quasi-isomorphism Q[Y ] −→ R; the DG algebra Q[Y ] is minimal by Lemma 7.2.2. If Q[Y ′] −→ R is a quasi- isomorphism from a minimal DG algebra, then by the lifting property of Proposition 2.1.9 there is a quasi-isomorphism Q[Y ] −→ Q[Y ′] of DG algebras over Q; it is an isomorphism by Lemma 7.2.3. 􏰏
Remark. The proposition is from Wolffhardt [159], where minimal models are called ‘special algebra resolutions’. The ‘model’ terminology is introduced in [23] so as to reflect the similarity with the DG algebras (over Q) used by Sullivan [148] to encode the rational homotopy type of finite CW complexes. This parallel will bear fruits in Section 8.2.
Minimal models are not to be confused with acyclic closures: If R = Q/I, then the minimal model and acyclic closure of R over Q coincide in two cases only—when I is generated by a regular sequence, or when R ⊇ Q.
It is proved in [159] when R contains a field (by using bar constructions) and in [18] in general (by using Hopf algebras) that the deviations of R can be read off a minimal model. More generally, we have:
Proposition 7.2.5. Let (Q, n, k) be a regular local ring.
If Q[Y ] is a semi-free extension with Y = Y􏰶 1 and H(Q[Y ]) = R, then for each
n ∈ Z there is an inequality card Yn ≥ εn+1(R); equalities hold for all n if and only if ∂(Y1) ⊆ n2 and Q[Y ] is a minimal DG algebra.
Recall that two DG algebras A and A′ are quasi-isomorphic if there exists a sequence of quasi-isomorphisms of DG algebras A ≃ A1 ≃ · · · ≃ Am ≃ A′, pointing in either direction. The next result is from Avramov [23].

INFINITE FREE RESOLUTIONS 65
Theorem 7.2.6. Let R⟨X⟩ be an acyclic closure of k over R, let R􏰊 ∼= Q/I be a minimal Cohen presentation, and let Q[Y ] be a minimal model of R􏰊 over Q.
For each n ≥ 1 the DG algebras R⟨X􏰵 n⟩ and k[Y􏰶 n] = Q[Y ]/(Y< n) are quasi- isomorphic, and card Yn = card Xn+1 = εn+1(R) for n ≥ 0 .
Thus, a minimal model of R over Q contains essentially the same information as an acyclic closure of k over R; the model has an advantage: it is defined over a regular ring, where relations are easier to compute than over R.
In view of Proposition 6.3.8, minimal models are homologically nilpotent: Corollary 7.2.7. If e = edim R and Q[Y ] is a minimal model of R􏰊, then for each
n≥1 the product of any (e+1) elements of H􏰶1(k[Y􏰶n]) is equal to 0. 􏰏 Wiebe [158] proves the next result through a lengthy computation.
Corollary 7.2.8. If R􏰊 = Q/I is a minimal regular presentation and E is the Koszul complex on a minimal generating set of I, then ε3(R) = νQ(H1(E)) .
Proof. Remark 7.1.2, the theorem, and Lemma 7.2.2 yield ε3(R) = ε3(R􏰊) = card Y2 = νQ(H1(E)). 􏰏
Part of Theorem 7.2.6 is generalized in
Proposition 7.2.9. If Q[Y ] is a minimal DG algebra over a regular local ring Q, then there exists an acyclic closure Q[Y ]⟨X⟩ of k over Q[Y ], such that X = {xy : y∈Y,|xy|=|y|+1}andforeachy∈Y thereisaninclusion
n−1
∂(xy)−y∈􏰈(Yj)Q[Y<n]⟨X􏰵n⟩ wheren=|y|.
j=0
We start the proofs of the theorems with a couple of general lemmas.
Lemma 7.2.10. For a (surjective) morphism of DG algebras φ: A −→ A′ and a set {zλ}λ∈Λ ⊆ Z(A) there is a unique (surjective) morphism of DG algebras
φ⟨X⟩: A􏰕{xλ}λ∈Λ |∂(xλ) = zλ􏰖 −→ A′􏰕{xλ}λ∈Λ |∂(xλ) = φ(zλ)􏰖 with φ⟨X⟩|A = φ and φ⟨X⟩(xλ) = xλ for all λ ∈ Λ.
If φ is a quasi-isomorphism, then so is φ⟨X⟩.
Proof. The first assertion is clear. Since homology commutes with direct limits, for the second one we may assume that X is finite. By induction, it suffices to treat the case X = {x}. The result then follows from the homology exact sequences of Remarks 6.1.5 and 6.1.6, and the Five-Lemma. 􏰏
Lemma 7.2.11. Let A = k[Y ′] be a minimal DG algebra over k, and let kY ′ ⊂ A denote the span of the variables. For a linearly independent set Z = {zλ}λ∈Λ ⊂ kY ′ ∩ Z(A) the canonical morphism of DG algebras
ξ: B = A⟨{xλ}λ∈Λ |∂(xλ) = zλ⟩ −→ A/(Z) with ξ(x(i))=0 for all λ∈Λ and i>0
λ
is a surjective quasi-isomorphism.

66 L. L. AVRAMOV
Proof. Consider the subalgebra C = k[Z]⟨{xλ}λ∈Λ | ∂(xλ) = zλ⟩ ⊆ B. By (an easy special case of) Proposition 6.1.7, the canonical projection ε: C −→ k is a quasi- isomorphism. Since B is a semi-free DG module over C, Proposition 1.3.2 shows that π = B ⊗C ε: B −→ A/(Z) is a quasi-isomorphism. 􏰏
Proof of Theorem 7.2.6. The canonical map R⟨X⟩ −→ R􏰊 ⊗R R⟨X⟩ = R􏰊⟨X⟩ is a quasi-isomorphism, and induces quasi-isomorphisms R⟨X􏰵 n⟩ −→ R􏰊⟨X􏰵 n⟩ for n ≥ 1, so we assume that R = Q/I and take a minimal model ρ: Q[Y ] −→ R.
Choose a minimal generating set Y0 = {t1,...,te} of m and pick s1,...,se ∈ Q with ρ(si) = ti. Lemma 7.2.10 yelds a quasi-isomorphism
ρ⟨X1 ⟩
R⟨X1 | ∂(xi) = ti⟩ ←−−− Q[Y ]⟨X1 | ∂(xi) = si⟩
for a set of Γ-variables X1 = {x1,...,xe}. On the other hand, as s1,...,se is a Q–regular sequence, so Q⟨X1⟩ −→ k is a quasi-isomorphism, and then Proposition 1.3.2 yields a quasi-isomorphism π1 : Q[Y ]⟨X1⟩ −→ k[Y ].
Let n ≥ 1, and assume by induction that we have constructed surjective quasi- isomorphisms of DG algebras
ρn πn
R⟨X􏰵 n⟩ ←− Q[Y ]⟨X􏰵 n⟩ −→ k[Y􏰶 n]
The classes of {∂(x) | x ∈ Xn+1} form a basis of Hn(R⟨X􏰵 n⟩) by (6.3.1.2). Since ρn is a surjective quasi-isomorphism, these cycles are images of cycles in Q[Y ]⟨X􏰵 n⟩, so by Lemma 7.2.10 we get a surjective quasi-isomorphism
ρn ⟨Xn+1 ⟩
R⟨X􏰵 n+1⟩ = R⟨X􏰵 n⟩⟨Xn+1⟩ ←−−−−−− Q[Y ]⟨X􏰵 n⟩⟨Xn+1⟩ = Q[Y ]⟨X􏰵 n+1⟩ .
The same lemma yields a surjective quasi-isomorphism
πn ⟨Xn+1 ⟩
Q[Y ]⟨X􏰵 n+1⟩ = Q[Y ]⟨X􏰵 n⟩⟨Xn+1⟩ −−−−−−→ k[Y􏰶 n]⟨Xn+1⟩ .
As Hn(k[Y􏰶 n]) = kYn by Remark 7.2.1, the differential ∂n+1 induces an iso- morphism kXn+1 −→ kYn. Lemma 7.2.11 yields a surjective quasi-isomorphism ξn+1 : k[Y􏰶 n]⟨Xn+1⟩ −→ k[Y􏰶 n+1]. We set πn+1 = ξn+1◦π⟨Xn+1⟩, and note that card(Xn+1) = εn+1(R) by Theorem 7.1.3. To complete the induction step, set ρn+1 = ρn⟨Xn+1⟩.
To complete the induction step set ρn+1 = ρn⟨Xn+1⟩. 􏰏
Proof of Proposition 7.2.5. Choose g = g1,...,gs ∈ I and f = f1,...,fr ∈ I such that f ∪g is a minimal set of generators of I, and g maps to a basis of I/(I ∩n2). The sequence g is then Q–regular, and R = Q′/I′ is a minimal regular presentation, with Q′ = Q/(g) and I′ = I/(g); set n′ = n/(g).
After a linear change of the variables of degree 1, we may assume that there is a sequence of variables y = y1,...,ys in Y1, such that ∂(yi) = gi for 1 ≤ i ≤ s The Koszul complex Q[y | ∂(yi) = gi] is then a resolvent of Q′, so Q[Y ] −→ Q[Y ]/(g, y) = Q′[Y ′] is a quasi-isomorphism by Proposition 1.3.2. As card(Yn′ ) = card(Yn) − s for n = 0,1, and card(Yn′) = card(Yn) otherwise, we may assume that R = Q/I is a minimal presentation, and Q[Y ] is a semi-free extension with H(Q[Y ]) = R; we then have card(Y0) = ε1(R).
Let Q[Y′] be a minimal model of R over Q, so that card(Yn′) = εn+1(R) by Theorem 7.2.6. Proposition 2.1.9 yields morphisms γ : Q[Y ′] −→ Q[Y ] and β : Q[Y ] −→ Q[Y ′] of DG algebras over Q, such that H(β) = idR. By Lemma 7.2.3, βγ is an automorphism of Q[Y′], so for each n ≥ 1, the composition of

INFINITE FREE RESOLUTIONS 67
γ􏰶 n : k[Y􏰶′ n] −→ k[Y􏰶 n] with β􏰶 n : k[Y􏰶 n] −→ k[Y􏰶′ n] is then bijective. In particu- lar, β􏰶 n is onto, so card(Yn) ≥ card(Yn′) = εn+1(R) for n ≥ 1.
Assume that card(Yn) = εn+1(R) for all n. The equalities for n ≤ 1 mean that I ⊆ n2 and ∂(Y1) minimally generates I; equality for n ≥ 2 implies that Hn(β􏰶 n) is bijective, hence in k[Y􏰶 n] the differential ∂n+1 is trivial; this is equivalent to saying that in Q[X] the differential ∂n+1 is decomposable. 􏰏
Proof of Proposition 7.2.9. We first construct surjective quasi-isomorphisms πn:Q[Y]⟨X􏰵n⟩−→k[Y􏰶n] withXn ={xy :y∈Yn−1}.
Let Y0 = {s1,...,se} be a system of generators of n, set X1 = {x1,...,xe}, and Q[Y ]⟨X1 | ∂(xi) = si⟩. As in the proof of Theorem 7.2.6 we have a quasi- isomorphism π1 : Q[Y ]⟨X1⟩ −→ k[Y ].
Assume that πn has been constructed for some n ≥ 1. Now each y ∈ Yn is a cycle in k[Y􏰶 n], so y = πn(zy) for some cycle zy; write zy in the form y + 􏰆y′∈Yn′ ay′y′+v,withay′ ∈nfory′ ∈Yn′ =Yn􏰒{y},andv∈Q[Y<n]⟨X􏰵n⟩. Since ay′ = ∂(by′) for appropriate by′ ∈ QX1, after replacing zy with the homologous cyclezy −∂􏰁􏰆y′∈Yn′ by′y′􏰂,wecanassumethatzy −y∈Q[Y<n]⟨X􏰵n⟩. Foreach y ∈ Yn set ∂(xy) = zy. Lemma 7.2.10 then yields a surjective quasi-isomorphism
πn ⟨Xn+1 ⟩
Q[Y ]⟨X􏰵 n+1⟩ = Q[Y ]⟨X􏰵 n⟩⟨Xn+1⟩ −−−−−−→ k[Y􏰶 n]⟨Xn+1⟩ .
Lemma 7.2.11 yields a surjective quasi-isomorphism ξn : k[Y􏰶 n]⟨Xn+1⟩ −→ k[Y􏰶 n+1]. In the limit, we get a quasi-isomorphism π : Q[Y ]⟨X⟩ −→ k. As ∂(X1) = Y0 minimally generates n, and ∂(Xn) minimally generates Hn(Q[Y ]⟨X􏰵 n⟩) for n ≥ 2, the DG algebra Q[Y ]⟨X⟩ is an acyclic closure of k over Q[Y ]. By the choice of zy
above, and Theorem 6.3.4, we see that ∂(xy) − y lies in n−1
􏰁Q[Y<n]⟨X􏰵n⟩􏰂n ∩􏰁(Y)Q[Y]⟨X⟩􏰂n =􏰈􏰁(Yj)Q[Y<n]⟨X􏰵n⟩􏰂n. j=0
This is the desired condition on the differential. 􏰏 7.3. Complete intersections. Now we can ‘explain’ the term deviation.
Remark 7.3.1. By Corollary 7.1.5 ε1(R) = edimR, so the following conditions are equivalent: (i) R is a field; (ii) ε1(R) = 0; (iii) εi(R) = 0 for i ≥ 1.
More generally, the regularity of a ring is detected by its deviations.
Theorem 7.3.2. The following conditions are equivalent.
(i) R is regular. (ii) ε2(R)=0.
(iii) εn(R)=0 for n≥2.
Proof. When R is regular, the Koszul complex KR is exact, yielding PRk (t) = (1 + t)dim R; thus, (i) =⇒ (iii) by the uniqueness of the product decomposition (7.1.1). On the other hand, (ii) =⇒ (i) by Corollary 7.1.5. 􏰏
Recall that R is a complete intersection if R􏰊 has a minimal Cohen presentation Q/I, with I generated by a regular sequence; in that case, ε2(R) = codimR by Corollary 7.2.8. Complete intersections of codimension 0 (respectively, ≤ 1) are precisely the regular (respectively, hypersurface) rings.

68 L. L. AVRAMOV
The next result gives characterizations of complete intersections in terms of vanishing of deviations, due to Assmus [15] for (iii) and to Gulliksen [78] for (iv) and [82] for (v). The use of minimal models in their proofs is new.
Theorem 7.3.3. The following conditions are equivalent.
(i) R is a complete intersection. (ii) ε3(R)=0.
(iii) εn(R)=0 for n≥3. (iv) εn(R)=0 for n≫0. (v) ε2i(R)=0 for i≫0.
Proof. We may take R ∼= Q/I with (Q,n,k) regular, g = f1,...,fc minimally generating I, and g ⊆ n2, cf. Remark 7.1.2; let E be the Koszul complex on g.
(i) =⇒ (iii). If g is a Q–regular sequence, then c = codim R, so the deviations of R are computed by Theorem 7.3.2 and Proposition 7.1.6.
(ii) =⇒ (i). By Corollary 7.2.8 we have H1(E) = 0, so g is Q–regular.
(v) =⇒ (iv) Take n big enough, so that ε2i(R) = 0 for 2i ≥ n. By Theorem 7.2.6, the DG algebra k[Y􏰶 n] is a polynomial ring with variables of even degree. Their boundaries have odd degree, so are trivial, and thus H(k[Y􏰶 n]) = k[Y􏰶 n] is a polynomial ring. Each element of H􏰶 1(k[Y􏰶 n]) is nilpotent by Corollary 7.2.7, so we conclude that Y􏰶 n = ∅.
(iv) =⇒ (i) Taking, as we may, f = f1, . . . , fc to be a maximal regular sequence in I, we set R′ = Q/(f). By Corollary 6.1.9, the R′–algebra k has a minimal free resolution of the form C = R′⟨x1, . . . , xe+c⟩. By the choice of f, the DG algebra C0 = C ⊗R′ R can be extended to an acyclic closure R⟨X⟩ of k by adjunction of Γ-variables of degree ≥ 2. We order them in such a way that |xi| ≤ |xj| for i < j, set Ci = C0⟨xe+c+1, . . . , xe+c+i⟩, and si = sup{n | Hn(Ci) ̸= 0}. Assuming that R is not a complete intersection, we prove that X is infinite by showing that si = ∞ for each i ≥ 0.
Each element of I is a zero-divisor modulo (f), so pdR′(R′/IR′) = ∞ by Proposition 1.2.7.2; as H(C0) = TorR′ (R,k), we get s0 = ∞. For the induc- tion step, set A = Ci−1, x = xe+c+i, z = ∂(x), and u = cls(z), and assume that si = s < ∞. When |x| is even, the homology exact sequence in Remark 6.1.6 yields si−1 ≤ s + |x|, contradicting the induction hypothesis. When |x| is odd the sequence in Remark 6.1.5 shows that H(A) = H􏰵 s (A) + u H(A). A simple iteration yields H(A) = H􏰵 s+e|u|(A) + ue+1 H(A). But ue+1 = 0 by Proposition 6.3.8, hence si−1 ≤ s + e|u|; this contradiction proves that si = ∞. 􏰏
The last result is vastly generalized in Halperin’s [84] rigidity theorem:
Theorem 7.3.4. If εn(R) = 0 and n > 0 then R is a complete intersection. 􏰱
A proof that uses techniques developed in Section 6.2, and extends the theorem to a relative situation, is given in [30].
7.4. Localization. The theme of the preceding section may be summarized as follows: The deviations of a local ring reflect the character of its singularity. Thus, one would expect that they do not go up under localization, and in particular that the complete intersection property localizes.
It is instructive to generalize the discussion by considering the number cid(R) = ε2(R) − ε1(R) + dim R

INFINITE FREE RESOLUTIONS 69
that in view of the next lemma we28 call the complete intersection defect of R. The lemma also shows that in the definition of complete intersection the restriction to minimal presentations is spurious.
Lemma 7.4.1. If R􏰊 ∼= Q/I is a regular presentation, then cid R = νQ(I) − height(I) ≥ 0 .
Furthermore, the following conditions are equivalent: (i) cid R = 0 ; (ii) I is gener- ated by a regular sequence; (iii) R is a complete intersection,
Proof. Choose a regular sequence g = g1, . . . , gs as in the proof of Proposition 7.2.5. With Q′ = Q/(g) and I′ = I/(g) we have a minimal Cohen presentation R􏰊 ∼= Q′/I′. Corollary 7.1.5 provides the first equality below, the catenarity of Q′ yields the last one, and Krull’s Principal Ideal Theorem gives the inequality:
cid R = νQ′ (I′) − νQ′ (n′) + dim R = νQ(I) − νQ(n) + dim R = νQ(I) − (dim Q − dim R) = νQ(I) − height(I) ≥ 0 .
The equivalence (i) ⇐⇒ (ii) now follows from the Cohen-Macaulay Theorem. Applied to the minimal presentation R􏰊 ∼= Q′/I′, it yields (ii) ⇐⇒ (iii). 􏰏
For the study of complete intersection defects and even deviations, the first part of the next theorem29 suffices; it is due to Avramov [20]. For odd deviations one needs the second part, due to Andr ́e [9].
Theorem 7.4.2. If R −→ S is a faithfully flat homomorphism of local rings, then for each i ≥ 1 there is an integer δi ≥ 0, such that
ε2i(R) ≤ ε2i(S) = ε2i(R) + ε2i(S/mS) − δi ; ε2i−1(S/mS) ≤ ε2i−1(S) = ε2i−1(R) + ε2i−1(S/mS) − δi .
Furthermore, δi = 0 for i ≫ 0, and 􏰆∞i=0 δi ≤ codepth(S/mS). 􏰱 As in [20], we deduce:
Theorem 7.4.3. If R −→ S is a flat local homomorphism, then cid S = cid R + cid(S/mS) .
In particular, S is a complete intersection if and only if both R and S/mS are. Proof. The first two equalities of Theorem 7.4.2 yield
ε2(S) − ε1(S) = ε2(R) − ε1(R) + ε2(S/mS) − ε1(S/mS) .
Classically, dim S = dim R + dim(S/mS), so we have the desired result. 􏰏 Corollary 7.4.4. For each prime ideal p of R, cid(Rp) ≤ cid R.
Proof. As dimR = dimR􏰊, we have cidR = cidR􏰊 by Remark 7.1.2. Let R􏰊 ∼= Q/I be a regular presentation, and pick prime ideals p′ ⊆ R􏰊 and q ⊆ Q, such that p′ ∩ R = p and p′ = qR􏰊. As R􏰊p′ ∼= Qq/Iq is a regular presentation,
cid R􏰊 = νQ(I) − height(I) ≥ νQq (Iq) − height(Iq) = cid(R􏰊p′ ) ,
28Kiehl and Kunz introduced it in [96] by the expression in Lemma 7.4.1, and called it the deviation of R; that was before an infinite supply of deviations appeared on the scene.
29For a more natural statement, cf. Remark 10.2.4.
 
70 L. L. AVRAMOV
with equalities coming from Lemma 7.4.1, and inequality from the obvious relations νQ(I) ≥ νQq (Iq) and height(I) ≤ height(Iq). Finally, the theorem applied to the
flat homomorphism Rp −→ R􏰊p′ yields cid(R􏰊p′ ) ≥ cid(Rp). 􏰏
It is now clear that complete intersections localize, a fact initially proved in [19]. This is sharpened in the corollary of the next theorem from [20], [9], which repre- sents a quantitative extension to arbitrary local rings of the classical localization of regularity, cf. Corollary 4.1.2.
Theorem 7.4.5. If p is a prime ideal of R, then an inequality εn(Rp) ≤ εn(R) holds for all even n and for almost all odd n. When R is a residue ring of a regular local ring the inequalities hold for all n.
Proof. If R is a residue ring of a regular local ring Q, let Q[Y ] be a minimal model of R. If q is the inverse image of p in Q, then Qq[Y ] is a semi-free extension of Qq with H(Qq[Y ]) ∼= Rp. Applying Proposition 7.2.5 first to Q[Y ], then to Qq[Y ], we get εn+1(R) = card(Yn) ≥ εn+1(Rp) .
In general, pick (by faithful flatness) a prime ideal p′ in R􏰊, such that p = p′ ∩ R. By Remark 7.1.2 and the preceding case we then have εn(R) = εn(R􏰊) ≥ εn(R􏰊p′ ) for all n. On the other hand, Theorem 7.4.2 yields an inequality εn(R􏰊p′ ) ≥ εn(Rp) for all even n, and almost all odd n. 􏰏
Corollary 7.4.6. If R is a complete intersection, then for each prime ideal p of R the ring Rp is a complete intersection with codim(Rp) ≤ codim R. 􏰏
Proof. In view of Theorem 7.3.3, the inequalities of deviations for n = 2i ≫ 0 prove that Rp is a complete intersection. Since codimR = ε2(R) by Corollary 7.1.5, the inequality for n = 2 shows that codim(Rp) ≤ codim R. 􏰏
For the first deviation, there is a more precise result of Lech [104]; a simpler proof is given by Vasconcelos [154].
Theorem 7.4.7. For each prime ideal p of R, ε1(Rp) + dim(R/p) ≤ ε1(R). 􏰱 We spell out the obvious remaining problems. The first one has a positive solu-
tion when char(k) = 2, due to Andr ́e [8].
Problem 7.4.8. Let R −→ S be a faithfully flat homomorphism of local rings. Does
an equality εn(S) = εn(R) + εn(S/mS) hold for each n ≥ 3 ? Note that by Corollary 7.1.5 we have
ε1(R) − ε1(S) + ε1(S/mS) = edim(R) − edim(S) + edim(S/mS) ≥ 0 .
The inequality is strict unless a minimal generating set of m extends to one of n,
so additivity may fail for n = 1 and hence, by Theorem 7.4.2, also for n = 2. Problem 7.4.9. Does εn(Rp) ≤ εn(R) hold for all p ∈ Spec R and odd n ≥ 3 ?
It is easily seen from the proof of Theorem 7.4.5 that a positive solution of the first problem implies one for the second. Larfeldt and Lech [103] prove that the two problems are, in fact, equivalent.

INFINITE FREE RESOLUTIONS 71
8. Test modules
Ring are ‘non-linear’ objects, so some of their properties are easier to verify after
translation into conditions on some canonically defined modules.
The Auslander-Buchsbaum-Serre Theorem provides a model: the regularity of a local ring (R,m,k) is tested by checking the finiteness of the projective dimension of k. In terms of asymptotic invariants, this is stated as
cxRk=0 ⇐⇒ Risregular ⇐⇒ curvRk=0.
The first two sections establish similar descriptions of complete intersections:
cxR k < ∞ ⇐⇒ R is a complete intersection ⇐⇒ curvR k ≤ 1.
For algebras essentially of finite type, another classical test for regularity is given by the Jacobian criterion. Section 3 discusses extensions to complete intersections, in terms of the homology of K ̈ahler differentials. The results there are partly mo- tivated by (still open in general) conjectures of Vasconcelos.
8.1. Residue field. In this section (R, m, k) is a local ring.
We start with a few general observations on the Betti numbers of k. They show that an extremal property of Poincar ́e series characterizes complete intersections— and places across the spectrum from Golod rings.
Remarks 8.1.1. Set e = edim R, r = rankk H1(KR), and εn = εn(R). (1) There is an inequality of formal power series
R (1+t)e Pk(t)􏰴(1−t2)r .
Indeed, Corollary 7.1.5 yields PRk (t) = (1+t)e(1−t2)−rQ(t), with Q(t) = 􏰢∞i=2(1+ t2i−1)ε2i−1 􏰙 􏰢∞i=2(1 − t2i)ε2i ; also, Q(t) 􏰴 1 by Corollary 7.1.4.
(2) Theorem 7.3.3 shows that equality holds in (1) if and only if R is a complete intersection. In that case, cxR k = r = codim R, and
for n≥0. (k) for n ≥ 1.
 􏰈∞
􏰁βR(k)−βR
(1 + t)e−1 1 Q(t)􏰴 .
βnR(k)=􏰈 i=0
n n−1
(k)􏰂tn =(1−t)PR(t)=
k (1−t2)r−1 (1−t)
e−r 􏰚e − r􏰛􏰚n + r − 1 − i􏰛
i r−1
(3) If R is not a hypersurface, then βR(k) > βR
n n−1
Indeed, then e ≥ 1 and r ≥ 2, so we have coefficientwise (in)equalities
  n=0
Gulliksen [78], [82] extends the Auslander-Buchsbaum-Serre Theorem in
Theorem 8.1.2. The following conditions are equivalent.
(i) R is a complete intersection (respectively, of codimension ≤ c).
(ii) cxR M < ∞ (respectively, cxR M ≤ c) for each finite R–module M .
(iii) cxR k < ∞ (respectively, cxR k ≤ c).

72 L. L. AVRAMOV
Proof. By Proposition 4.2.4 we have cxR M ≤ cxR k, and the complexity of k is equal to codim R by Remark 8.1.1.2, so (i) implies (ii).
When R is not a complete intersection Theorem 7.3.3 gives infinitely many in- dices id with ε2id (R) > 0. Remark 7.1.1 then yields an inequality
R 1 1 􏰈∞ 􏰚n+d−1􏰛(2i)n
d−1 t
Remark 8.1.3. We get a new proof of Corollary 7.4.6 by recycling the classical
Pk(t)􏰴 (1−t2i1)···(1−t2id) 􏰴 (1−t2i)d = withi=i1···id. Thus,cxRk≥dforeachd≥1,so(iii)implies(i).
  argument for regularity. Proposition 4.2.4.1 and Remark 8.1.1.2 yield cx 􏰁R /pR 􏰂≤cx (R/p)≤cx k=codimR,
RpppR R
so Rp is a complete intersection of codimension ≤ codim R by the theorem.
We finish this section by a computation of the curvature of k in terms of the deviations of R; the purely analytical argument is from Babenko [38].
Proposition 8.1.4. If R is not a complete intersection, then curvRk=limsup􏰩n εn(R).
n
n=0
􏰏
 Proof. Note that lim sup 􏰩n ε (R) = 1/η, where η is the radius of convergence of nn
 the series E(t) = 􏰆∞n=1 εn(R)tn. By the definition of curvR k, we have to show that η = ρ, where ρ is the radius of convergence of the Poincar ́e series P (t) = PRk (t); note
that ρ > 0 by Remark 4.2.3.5. By Corollary 7.1.4, we have εn(R) = εn ≥ 0, so by the product formula of Remark 7.1.1 we get a coefficientwise inequality P (t) 􏰴 E(t), hence η ≥ ρ > 0.
To prove that ρ ≥ η, we show that if 0 < γ < η, then P(t) converges at t = γ. We have η < 1, because E(t) has integer coefficients and εn > 0 for infinitely many n by Theorem 7.3.3. For j ≥ 1 we then get
􏰈∞γjh􏰈∞ γj γj 0<−ln(1−γj)= h < γjh=1−γj <1−η.
h=1 h=1
By a similar computation, 0 < ln(1 + γj) < (1 − η)−1γj, so
0≤L(γ)=
The numerical series with non-negative coefficients L(γ) converges, so the product
8.2. Residue domains. In this section (R, m, k) is a local ring. The results that follow are from Avramov [23].
Theorem 8.2.1. If p is a prime ideal of R such that Rp is not a complete inter- section, then there is a real number β > 1 with the property that
βnR(R/p)≥βn for n≥0.
The converse may fail: the ring Rp in Example 5.2.6 is a complete intersec- tion, but curvR(R/p) > 1 by Theorem 5.3.3.2. Finite modules over a complete intersection have curvature ≤ 1 by Proposition 4.2.4 and Remark 8.1.1.2, so
   􏰈∞ E ( γ )
􏰁ε2i−1ln(1+γ2i−1)−ε2iln(1−γ2i)􏰂≤ (1−η) <∞.
in 7.1.1 converges at t = γ, as desired. 􏰏
 i=1

INFINITE FREE RESOLUTIONS 73
Corollary 8.2.2. The following conditions are equivalent:
(i) R is a complete intersection.
(ii) curvR M ≤ 1 for each finite R–module M .
(iii) curvRk≤1. 􏰏 The key to the proof of the theorem is to look at deviations.
Theorem 8.2.3. When R is not a complete intersection there exist a sequence of integers0<s1 <···<sj <... andarealnumberγ>1,suchthat
εsj(R)≥γsj for j≥1
and sj+1 =ij(sj −1)+2 with integers 2≤ij ≤edimR+1.
Remark. The last result and its proof are ‘looking glass images’—in the sense of [49], [33]—of a theorem of F ́elix, Halperin, and Thomas [66] on the rational homotopy groups πn(X) ⊗Z Q of a finite CW complex X; it relies heavily on F ́elix and Halperin’s [64] theory of rational Ljusternik-Schnirelmann category.
That theorem was used by F ́elix and Thomas [67] to prove Corollary 8.2.2 for graded rings over fields of characteristic 0, but the L.-S. category arguments do not extend to local rings or to positive characteristic. This is typical of a larger picture: a theorem in rational homotopy or local algebra raises a conjecture in the other field, but a proof usually requires new tools.
The arguments below use the properties of minimal models already established in Section 7.2, and the additional information contained in the next lemma, proved at the end of the section.
Lemma 8.2.4. Let k[Y] be a minimal DG algebra, such that Hn(k[Y]) = 0 for n ≥ m. If φ: k[Y ] −→ k[U] is a surjective morphism of DG algebras, such that U is a set of exterior variables and ∂(U) = 0, then card(U) < m.
As the proof of the theorem for rational homotopy groups, the one of the theorem on deviations proceeds in three steps. The lemma is needed for the first claim, which (now) can be obtained directly from Theorem 7.3.4, or from its precursor in [34]: If R is not a complete intersection, then εn(R) ̸= 0 for n ≫ 0. We present the original argument in order to keep the notes self-contained, and because of its intrinsic interest. The exposition of the arguments for Claims 2 and 3 follows [30].
Proof of Theorem 8.2.3. As may assume that R is complete, we take a minimal regular presentation R ∼= Q/I and a minimal model Q[Y ] of R over Q.
Note that the DG algebra k[Y ] = Q[Y ]/nQ[Y ] is minimal by Remark 7.2.1, that card Yn = εn+1(R) for n ≥ 1 by Theorem 7.2.6, and that
Hn(k[Y])∼=TorQn (k,R) =0 for n≥m=edimR+1. (∗)
Assuming that R is not a complete intersection, we show that the numbers 2n
a(n) = card Yn and s(n) = 􏰈 a(j) j=n
satisfy the following list of increasingly stronger properties: Claim 1. The sequence s(n) is unbounded.
Claim 2. The sequence a(n) is unbounded.

74 L. L. AVRAMOV
Claim 3. There exist positive integers r1,r2,... with rj+1 = ijrj +1 and 2 ≤ ij ≤ m,andarealnumberυ>1,suchthata(n)>υrj foreachj≥0.
√
The last claim yields the theorem: with γ = υ and sj = rj + 1 we have εsj(R)=a(rj)>υrj =γ2rj ≥γrj+1 =γsj for j ≥1.
For the rest of the proof, we write Y for the span of 􏰇2n Yj, and abuse [n] j=n
notation by letting Yn stand also for the k–linear span of the variables y ∈ Yn; thus, Y i is the k–linear span of all products involving i elements of Y .
Proof of Claim 1. Assume that there is a c ∈ N such that s(n) ≤ c for all n ≥ 1. We are going to construct for all r ≥ 1 and h ≥ 0 surjective morphisms of DG algebras φrh: k[Y] −→ k[Uhr], where each Uhr is a set {urhr+1,...,urhr+r} of exterior
variables subject to the restrictions
|urn+1| > |urn| + 1 for n ≥ 1 ;
|urhr+i| > |urhr+1| + · · · + |urhr+i−1| + 1 for i = 2, . . . , r .
The second condition forces ∂(Uhr) = 0, so in view of (∗) Lemma 8.2.4 implies that r < m. This contradiction establishes the unboundedness of s(n).
By Theorems 7.2.6 and 7.3.3, there is an infinite sequence y1, y2, · · · ∈ Yodd with |yh+1|>|yh|+1. Settingnh =|yh|,notethatthecompositionsk[Y]−→k[Y􏰶nh]−→ k[Y􏰶 nh ]/􏰁Y􏰶 nh \ {yh}􏰂 have the desired properties for r = 1.
 [n] [n]
Assume by induction that morphisms φrh have been constructed for some r ≥ 1. Wefixn≥0,simplifythenotationbysettingu =ur ,U =Ur ,andφ =
ij (n+i)r+j i n+i i φrn+i, for i = 0,...,c and j = 1,...,r, and embark on an auxilliary construction.
Chooseanindexq>|uc1|+···+|ucr|+1suchthatYq ̸=∅,andpicky∈Yq. For i = 0,...,c the intervals
Ii =􏰓(q+|ui1|+1),(q+|ui1|+···+|uir|+1)􏰔
are disjoint and contained in the interval [q, 2q]. Sinces(q)≤c,wecanchooseanindexisuchthatYs =∅foralls∈Ii.
The restriction of φi to B = k[Y< q] yields a surjective morphism of DG algebras B −→ k[Ui]. Tensoring it with k[Y ] over B, we get a surjective morphism k[Y ] −→ C = k[Ui] ⊗B k[Y ]. Note that C♮ = k[Ui] ⊗k k[Y􏰶 q]♮ is equal to k[Ui] in degrees ≤ q−1, to kYq in degree q, and has no algebra generators in degrees from Ii. As the differential ∂C is decomposable, the ideal of C generated by the variables Y􏰶 q 􏰒{y} is closed under the differential of C.
We have now constructed a surjective morphism of DG algebras k[Y]−→C−→C/(Y􏰶q 􏰒{y})C=k[u1...,ur+1]
where uj = uij for j = 1,...,r and ur+1 is the image of y; clearly, the condition |uj| > |u1| + ··· + |uj−1| + 1 holds for j = 2,...,r + 1. To end the auxilliary construction, choose an integer n′ such that rn′ > (n + c + 1)r. Setting n1 = 1 and nh = n′h−1 for h ≥ 2, and applying the construction to nh for h = 1,2,..., we get a sequence of surjective morphisms φr+1 with the desired properties.
h+1
Proof of Claim 2. We assume that there exists a number c such that rankk Yn ≤ c for all n, and work out a contradiction.

INFINITE FREE RESOLUTIONS 75
Fix for the moment an integer n ≥ 1. For every y ∈ Y􏰶 n there are uniquely defined αi(y) ∈ Y i ⊆ k[Y􏰶 n], such that
[n]
∂(y) ≡ 􏰈 αi(y) mod 􏰁(Y> 2n)k[Y􏰶 n]􏰂 .
i􏰶2
Clearly, the maps αi : Y􏰶 n −→ Y i , where y 􏰀→ αi(y), are k-linear. The minimality
[n]
of k[Y ] is inherited by k[Y􏰶 n], so there we have ∂(Y i ) = 0 for all i. Recalling from
[n]
[n]
􏰈 Y m−iαi(Y􏰶 n) ⊇ Y m . (‡) [n] [n]
i=2
For degree reasons, αi(Yj) = 0 when j < in + 1 or j > i(2n) + 1, so
2in+2 i(2n)+1
s(in+1)= 􏰈 rankkYj ≥ 􏰈 rankkαi(Yj)=rankkαi(Y􏰶n). (§)
j =in+1 j =in+1
Set d = (2m)m and choose by Claim 1 an integer n0 such that s(n0) > (md)2.
Assumebyinductiononjthatwehaveintegersn0,n1,...,nj suchthat
m(nh−1+1)≥nh+1ands(nh)≥(md)s(nh−1) for1≤h≤j. (¶)
Choose nj+1 = lnj +1 such that s(nj+1) = max{s(inj +1) | 2 ≤ i ≤ m}. It is then clear that m(nj + 1) ≥ nj+1 + 1. Using (§) and (‡), we get
m (m−1)s(nj)m−2s(nj+1)≥􏰈s(nj)m−is(inj +1)
i=2 m
≥ 􏰈 􏰁 rankk Y[nj ]􏰂m−i rankk αi(Y􏰶 nj ) i=2
Corollary 7.2.7 that
we see that Y m consists of boundaries, so we get an inclusion
􏰁H􏰶 1(k[Y􏰶 n])􏰂m = 0 for every n ≥ 1 (†) m
􏰚m􏰛
≥rank 􏰈Ym−iα(Y ) ≥rank Ym
k [nj ] i 􏰶 nj k [nj ] i=2
􏰚s(nj )􏰛 s(nj )m s(nj ) m−1 ≥ m ≥(2m)m=ds(nj)
≥ (m2d)s(nj)m−1
so s(nj+1) ≥ (md)s(nj), completing the induction step. Clearly, (¶) implies that mj(n0 +1) ≥ nj +1 and s(nj) ≥ mjs(n0)dj hold for j ≥ 1. Thus, we get c(nj +1) ≥ s(nj), and hence c(n0 + 1) ≥ s(n0)dj for all j. This is absurd.
Proof of Claim 3. Set b = (2m)m+1, choose r1 so that a(r1) = a > b, and assume byinductionthatr1,...,rj havebeenfoundwiththepropertythat
rh = ih−1rh−1 + 1 with 2 ≤ ih−1 ≤ m and a(rh) ≥ a(rh−1)ih−1 b
   for 1 ≤ h ≤ j. The condition β(y) ≡ ∂(y) mod􏰁(Y>rj)k[Y􏰶rj]􏰂 defines a k– linear homomorphism β : Y􏰶 rj −→ 􏰆 Yri . Noting that β(y) = 0 unless |y| ≡ 1
i􏰶2 j
(mod rj ), and using the fact that k[Y ] is minimal and satisfies condition (†), we

76
obtain 􏰆m Y m−iβ(Y
i=2 rj irj+1
L. L. AVRAMOV
) ⊇ Y m as in the the proof of the preceding claim. It rj
follows that
􏰈m i=2
a(rj)m−ia(irj +1)≥
􏰚a(r)􏰛 a(r)m j ≥ j
m (2m)m
a(r)m =(2m) j .
b
  The assumtion that a(irj +1) < a(rj)i/b for 2 ≤ i ≤ m, leads to the impossible inequality (m − 1)a(rj )m > (2m)a(rj )m. Thus, a(irj + 1) ≥ (rj )i/b for some i = ij , so the induction step is complete with rj+1 = ij rj + 1.
The quantities Pj = (ij · · · i1) and Sj = 􏰆jh=2(ij · · · ih) satisfy 􏰚1 1􏰛􏰚1 1􏰛
Pj >Pj 2+···+2j ≥Pj i +···+i ···i =Sj. 11j
Thus, Pj(r1 +1) > Pjr1 +Sj = rj+1, and hence Pj > rj+1/(r1 +1). Since a > b, we have
    rj +1 a(rj)ij a(rj−1)(ijij−1) aPj 􏰚a􏰛Pj 􏰚a􏰛r1+1
 a(rj+1)≥ b ≥ b1+ij ≥···≥ bSj > b > b 􏰩
.
􏰏
      Tofinishtheproofoftheclaim,notethatυ>1andsetυ= r1+1 a/b. R Rp
Proof of Theorem 8.2.1. Since βn (R/p) ≥ βn (Rp/pRp) for each n, we may assume thatp=m;setβn =βnR(R/m)ande=edimR.
As R is not a complete intersection, Theorem 8.2.3 provides an infinite sequence
s1, s2, . . . with (e+1)sj > sj+1, such that εsj (R) ≥ γsj for some real number γ > 1.
Forn≥2wehaveβn >β1 =e>1byRemark8.1.1.3,hence 􏰜􏰝
β=min e+1 γ,β1,..., s1 βs1 >1
andβn ≥βn fors1 ≥n≥0. Ifsj+1 ≥n>sj withj≥1,then
βn >βsj ≥εsj(R)≥γsj ≥β(e+1)sj >βsj+1 >βn
so the desired inequality βn ≥ βn holds for all n ≥ 0. 􏰏
Proof of Lemma 8.2.4. Since φ♮ : k[Y ]♮ −→ k[U ] is a surjective homomorphism of
graded free k–algebras, the ideal Kerφ♮ has a linearly independent generating set
Y′ = {y1′,...,yj′,...} ⊂ kY, which we can assume ordered in such a way that
|y′ |≥|y′|forj≥1. AsKerφisaDGideal,wehave∂(y′)=0and∂(y′ )∈ j+1j 1 j+1
(y1′ , . . . , yj′ ) for j ≥ 1. Assume that for some j ≥ 1 the morphism φ factors through a quasi-isomorphism
jj′′πj ′′j π :A =k[Y]⟨x1,...,xj⟩−→k[Y]/(y1,...,yj)=B
=πj(y′ )isacycle j+1
). By Lemma 7.2.10, πj⟨x′j+1⟩: Aj+1 = Aj⟨x′j+1 |∂(x′j+1) = zj+1⟩ −→ Bj⟨x′j+1 |∂(x′j+1) = y′j+1⟩ .
Lemma 7.2.11 shows that the map ξj : Bj⟨x′ ⟩ −→ Bj/(y′ ) that sends j+1 j+1
􏰆 b x′ (i) to b + (y′ ) is a quasi-isomorphism; thus, so is iij+1 0 j+1
πj+1 = ξj◦πj⟨x′ ⟩: Aj+1 = Bj⟨x′ ⟩ −→ Bj/(y′ ) = Bj+1 . j+1 j+1 j+1
􏰩􏰩
  thatmapsx′(n) tozerofor1≤i≤jandn≥1.Asthey′
 i
in Bj, there is a cycle z
j+1 ) = πj(y′
∈ Aj such that πj(z πj extends to a quasi-isomorphism
j+1
j+1
j+1
 
∞
􏰤(1 + t2i−1)card(X2i−1)
INFINITE FREE RESOLUTIONS 77
In the limit, we obtain a factorization of φ in the form ′π
k [ Y ] 􏰐 → k [ Y ] ⟨ X ⟩ −→ k [ U ]
with a surjective quasi-isomorphism π, such that Kerπ is generated by Kerφ and
x′ (i) with i, j ≥ 1. By Lemma 7.2.10, π extends to a quasi-isomorphism j
π⟨X′′⟩:k[Y]⟨X′⟩⟨X′′⟩−→k[U]⟨X′′|∂(x′′)=u ⟩. jj
where X′′ = {x′′, . . . , x′′ }. The DG algebra on the right is quasi-isomorphic to k, so 1m
we get a semi-free resolution W′ = k[Y ]⟨X′ ∪X′′⟩ of k over k[Y ]. Another semi free resolutionW=k[Y]⟨X⟩ofkoverk[Y],suchthatX={xy :|xy|=|y|+1,y∈Y}, and ∂(k[Y ]⟨X⟩) ⊆ (Y )W , is given by Proposition 7.2.9 (applied with Q = k). By Propositions 1.3.1 and 1.3.2, the vector spaces V ′ = k ⊗k[Y ] W′ = k⟨X′ ∪ X′′⟩ and V = k ⊗k[Y ] W = k⟨X⟩ are quasi-isomorphic. As ∂V = 0, we get (in)equalities of formal power series
= 􏰈 rankk Vntn = 􏰈 rankk Hn(V )tn 􏰤(1 − t2i)card(X2i) n n
i=1 ∞
 i=1
=􏰈rankkHn(V′)tn 􏰳􏰈rankkVn′tn
nn
∞∞
􏰤(1 + t2i−1)card(X′ ) 2i−1
􏰤(1 + t2i−1)card(X′′ 2i−1
)
.
· i=1 ∞∞
= i=1
􏰤(1 − t2i)card(X′ 2i
)
􏰤(1 − t2i)card(X′′ ) 2i
  i=1
On the other hand, by construction we have for each j an equality
cardX =cardY =cardY′ +cardU =cardX′ +cardX′′ . j+1 j j j j+1 j+1
It follows that H(V ′) = V ′, that is, that ∂(W′) ⊆ (Y )W′.
AsW′♮ isafreemoduleoverk[Y]⟨X′⟩♮,andH􏰶1(W)=0,weseethat
Z􏰶 1(k[Y ]⟨X′⟩) = Z􏰶 1(W′) ∩ (k[Y ]⟨X′⟩) = ∂(W′) ∩ (k[Y ]⟨X′⟩) ⊆ (Y )W′ ∩ k[Y ]⟨X′⟩ = (Y )k[Y ]⟨X′⟩ .
Since π: k[Y ]⟨X′⟩ −→ k[U] is a surjective quasi-isomorphism, we can find z1,...,zm ∈Z(k[Y]⟨X′⟩)withπ(zi)=ui. Forthemwehave
z1 · · · zm ∈ 􏰁Z􏰶 1(k[Y ]⟨X′⟩)􏰂m ⊆ Z􏰁(Y )mk[Y ]⟨X′⟩ 􏰂 ⊆ Z(Jk[Y ]⟨X′⟩) where J ⊂ k[Y ] is defined by
0 for n < m ; 
Jn= ∂(k[Y]m+1) forn=m; k[Y ]n for n > m .
For degree reasons, J is a DG ideal of k[Y]. By hypothesis Hn(k[Y]) = 0 for n≥m,soH(J)∼=H(k[Y])=0. Thus,theprojectionτ:k[Y]−→k[Y]/J isaquasi- isomorphism; Proposition 1.3.2 then shows that the induced map k[Y]⟨X′⟩ −→
i=1

78 L. L. AVRAMOV
k[Y ]⟨X′⟩ /Jk[Y ]⟨X′⟩ is one, hence
Z(Jk[Y ]⟨X′⟩) = ∂(Jk[Y ]⟨X′⟩) ⊆ ∂(k[Y ]⟨X′⟩)
hence cls(z) = 0. The computation 0 = H(π)(cls(z1) · · · cls(zm)) = u1 . . . um ̸= 0 now yields the desired contradiction. 􏰏
8.3. Conormal modules. In this section we fix a presentation R = Q/I, where (Q,n,k) is a local or graded ring, and I ⊆ n2 is minimally generated by f. The R–module I/I2 is called the conormal module of the presentation30.
If f is a regular sequence, then it is well known and easy to see that the image of f modulo I2 is a basis of the conormal module, and the projective dimension pdQ R is finite. The starting point of the present discussion is a well known converse, due to Ferrand [68] and Vasconcelos [154]:
Theorem 8.3.1. If pdQ R < ∞ and the R–module I/I2 is free, then f is a regular sequence. 􏰱
Later, Vasconcelos [155] conjectured a considerably stronger statement: If pdQ R < ∞ and pdR(I/I2) < ∞, then f is a regular sequence. Various known cases of small projective dimension are surveyed in [156]; the one below is proved by Vasconcelos and Gulliksen.
Theorem 8.3.2. The conjecture holds if pdR(I/I2) ≤ 1.
Proof. In view of the preceding theorem, it suffices to assume that pdR(I/I2) = 1, and draw a contradiction.
For the Koszul complex E = Q⟨X1 |∂(X1) = f⟩, set Z = Z1(E) and H = H1(E). Tensoring the exact sequence 0 −→ Z −→ Qr −→ I −→ 0 with R over Q, we get an exact sequence of R–modules Z/IZ −→ Rr −→ I/I2 −→ 0. As ∂(E2) ⊆ IE1, we have an induced exact sequence H −→ Rr −→ I/I2 −→ 0. The assumption pdR(I/I2) = 1 then implies that H contains a free direct summand Rcls(z) ∼= R; note that z ∈ nE1, because f minimally generates I.
Let E⟨X􏰶 2⟩ = Q⟨X⟩ be an acyclic closure of R = H0(E) over E, such that ∂(x) = z for some x ∈ X2. The cokernel of the differential δ2 : RX2 −→ RX1 of the complex of indecomposables IndγQ Q⟨X⟩ is equal to H, so Proposition 6.2.7 yields a Q–linear Γ-derivation θ: Q⟨X⟩ −→ Q⟨X⟩ of degree −2, with θ(x) = 1.
The Γ-derivation θ = H(θ⊗Q k) of Q⟨X⟩⊗Qk = k⟨X⟩ has θ(x) = 1. As ∂(x) = z ⊗ 1 = 0 ∈ E1/nE1, each x(i) is a cycle. Assuming that x(i) = ∂(v), we get 1 = θi(x(i)) = θi∂(v) = 0, which is absurd. Thus, 0 ̸= H2i(k⟨X⟩) = TorQ2i (R, k) for all i ≥ 0, contradicting the hypothesis that pdQ R is finite. 􏰏
Next we present the results of Avramov and Herzog [35] on graded ring.
Theorem 8.3.3. Let Q = k[s1, . . . , se] be a graded polynomial ring over a field k of characteristic 0, with variables of positive degree, let I be a homogeneous ideal of Q, and set R = Q/I. The following conditions are equivalent.
(i) R is a complete intersection. (ii) pdR(I/I2) < ∞ .
(iii) cxR(I/I2) < ∞ . (iv) curvR(I/I2) ≤ 1 .
If R is not a complete intersection, then curvR I/I2 = curvR k. 30Or: of the embedding Spec(R) ⊆ Spec(Q).
 
INFINITE FREE RESOLUTIONS 79
The result is proved together with the next one:
Theorem 8.3.4. If R is as in the preceding theorem, and ΩR|k is its module of
K ̈ahler differentials over k, then the following conditions are equivalent.
(i) R is a complete intersection. (ii) cxR(ΩR|k) < ∞ .
(iii) curvR(ΩR|k) ≤ 1.
If R is not a complete intersection, then curvR ΩR|k = curvR k.
Remark. If pdR ΩR|k < ∞, then the theorem implies that R is a complete intersection—another conjecture of Vasconcelos—but there is more.
If p is a minimal prime ideal, then ΩRp|k ∼= 􏰁ΩR|k􏰂p has finite projective di- mension over Rp. Thus, it is free, hence Rp is regular by the Jacobian criterion, and so R is reduced by Serre’s criterion. Conversely, if R is a reduced complete intersection, then Ferrand [68] and Vasconcelos [154] prove that pdR ΩR|k ≤ 1.
The asymptotic results are easy consequences of more precise inequalities31 for the graded invariants described in Remark 1.2.10.
Theorem 8.3.5. In the notation of Theorem 8.3.3, for all n ≥ 0 and j ∈ Z there is an inequality between graded Betti numbers and deviations:
(R) and βR (I/I2)≥ε (R). nj n+2,j
βR (Ω )≥ε nj R|k
n+1,j
Our proof proceeds through a structural result on the resolution of I/I2, that
depends on the grading and on the characteristic; the following is open:
Problem 8.3.6. When R is a local ring and R ∼= Q/I is a regular presentation,
does an inequality βnR(I/I2) ≥ εn+2(R) hold for each n ≥ 0 ?
In the arguments, we use graded versions of some basic constructions.
Remark 8.3.7. The first step in the construction of a minimal model of R over Q is a Koszul complex on the set f of minimal generators of I; we choose f to consist of homogeneous elements, so the first Koszul homology is a finite graded Q–module. Assume by induction that Hn(Q[Y􏰵 n]) has the same property for some n ≥ 1; to kill it we adjoin a minimal set of homogeneous generators, and assign to each variable y ∈ Yn+1 an internal degree, equal to that of ∂(y).
Thus, we get a graded minimal model Q[Y􏰶 1] = k[Y ] of R over Q. Similar considerations yield a graded acyclic closure R⟨X⟩ of k over R. The arguments in Sections 6.3 and 7.2 are compatible with the internal gradings, so the ‘obvious’ graded versions of the results proved there are available.
Remark 8.3.8. Proposition 6.2.3 can be repeated for ordinary (that is, not subject to a condition involving divided powers) k–linear derivations of the DG algebra k[Y ] over k, to produce a DG module of differentials Diffk k[Y ] over k[Y ]. It is semi-free with basis {dy : |dy| = |y| ; deg(dy) = deg(y)}y∈Y , where deg(a) is the internal degree of a; the map y 􏰀→ dy extends to a universal derivation d: k[Y ] −→ Diffk k[Y ]; the differential is determined by ∂(dy) = d(∂(y)); each k–linear derivation of k[Y ] into a DG module U over k[Y ] factors uniquely as the composition of d with a homomorphism of DG modules Diffk k[Y ] −→ U.
31Equalities hold for n = 0 by Corollary 7.1.5, but it appears that the other inequalities are strict unless R is a (reduced) complete intersection.
 
80 L. L. AVRAMOV
Consider the complex of free R–modules L = R ⊗k[Y ] Diffk k[Y ]. (Using Lemma 7.2.3 on the uniqueness of minimal models and a functorial construction of Diffk k[Y ], it can be shown that this complex is defined uniquely up to isomor- phism by the k–algebra R; we do not use that here, and refer to [35] for details.) For g ∈ QY1, an easy computation shows that the differential
∂1:L1 −→L0 actsby ∂1(1⊗g)=1⊗􏰈e ∂fdyi where ∂1(g)=f∈Q. i=1 ∂yi
On the other hand, the ‘second fundamental exact sequence’ for the module ΩR|k of K ̈ahler differentials of the k–algebra R has the form
 e
2δ 2 􏰈∂f
I/I −→R⊗QΩQ|k−→ΩR|k−→0 with δ(f+I)=1⊗ ∂ydyi. i=1 i
 As ΩQ|k is free with basis {dy1, . . . , dye}, we conclude that H0(L) = ΩR|k.
Recall from Remark 4.1.7, that an augmentation ε: F −→ N of a complex of free R–modules F is essential, if for some lifting α: F −→ G to a minimal resolution G of N, the map k ⊗R α is injective. In that case, α maps F isomorphically onto a subcomplex of G, that splits off as a graded R–module.
Theorem 8.3.9. The augmentation εL : L −→ H0(L) = ΩR|k is essential. A special morphism is at the heart of the arguments to follow.
Construction 8.3.10. Euler morphisms. The graded algebra R has an Euler derivation R −→ m, that multiplies each homogeneous element a ∈ R by its (inter- nal) degree. By Proposition 1.3.1, the R–linear map γ : ΩR|k −→ m that it defines liftstoamorphismω: Diffkk[Y]−→V ofDGmodulesoverk[Y],whereεV :V −→m is a semi-free resolution of m over k[Y ]. We call such a lifting an Euler morphism; it is unique up to k[Y ]–linear homotopy.
Lemma 8.3.11. Let k[Y ] be a graded minimal model of R over k, and let U = k[Y ]⟨X⟩ be a graded acyclic closure of k over k[Y ], as in Remark 8.3.7.
The DG module V = Σ−1(U/k[Y ]) is a semi-free resolution of m over k[Y ], and there is an Euler morphism ω : Diffk k[Y ] −→ V , such that
ω(dy) ≡ − deg(y)xy mod nXn+1 + 􏰁k[Y􏰵 n+1]⟨X􏰵 n⟩]􏰂n+1 for y ∈ Yn .
Proof. SetDn =􏰥|y|􏰵nk[Y]dy⊆Diffkk[Y]=D.
The map a 􏰀→ deg(a)a is a k–linear chain Γ-derivation k[Y ] −→ U . In degree zero
homology it induces the zero map R −→ k, so it is homotopic to 0. If ξ: D −→ U is the k[Y ]–linear morphism that corresponds to it by Proposition 6.2.3, then ξ is homotopic to 0. We set ξn = ξ|Dn and by induction on n construct k[Y ]–linear homotopies σn : Dn −→ U between ξn and 0, such that
σn|Dn−1 = σn−1 ;
σn(dy) ≡ deg(y)xy mod nXn + 􏰁k[Y􏰵 n]⟨X< n⟩]􏰂n . (∗)
If |y| = 0, then set σ0(dy) = deg(y)xy: clearly, the formula above holds. Let n ≥ 1, and assume by induction that σn−1 has been found. It is easy to check that ξ(dy) − deg(y)∂(xy) − σn−1∂(dy) is a cycle; as n ≥ 1, it is a boundary, that we

INFINITE FREE RESOLUTIONS 81 write as ∂(uy + vy) with uy ∈ QXn+1, and vy ∈ k[Y􏰵 n+1]⟨X􏰵 n⟩n+1. Because d is
a derivation and ∂(Y ) ⊆ (Y )2k[Y ], we get
d(∂Y ) ⊆ d􏰁(Y )2k[Y ]􏰂 ⊆ (Y )d􏰁k[Y ]) = (Y )D
Since σn−1 is k[Y ]–linear, this implies:
σn−1∂(dy) = σn−1d(∂(y)) ∈ Wn = nYn + k[Y< n]⟨X􏰵 n⟩n .
By Proposition 7.2.9, we have ∂(vy) ∈ Wn, hence
∂(uy) = ξ(dy) − deg(y)∂(xy) − σn−1∂(dy) − ∂(vy) ∈ Wn .
By the same theorem, we conclude that uy ∈ nXn+1 . The map σn : Dn −→ U , σn(dy) = deg(y)xy + uy + vy, defines a homomorphism of DG modules over k[Y ] that satisfies (∗). As for |y| ≤ n we have
∂σn(dy)+σn∂(dy)=deg(y)∂(xy)+∂(uy +vy)+σn−1∂(dy)=ξ(dy),
the induction step of the construction is complete.
In the limit, the maps σn define a homotopy σ: D −→ U between ξ and 0. Let
ω : D −→ V be the composition of σ with the canonical k[Y ]–linear, degree −1 homomorphism U −→ U/k[Y ] −→ Σ−1(U/k[Y ]) = V . As Im ξ ⊆ k[Y ], the equality ∂σ + σ∂ = ξ implies ∂ω = ω∂, so ω is a chain map D −→ V .
The homology exact sequence of 0 −→ k[Y] −→ U −→ U/k[Y] −→ 0 yields Hn(U/k[Y]) = 0 for n ̸= 1 and H1(V) = m, so V = Σ−1(U/k[Y]) is a semi-free resolution of m. For n = 0, formula (∗) shows that H0(ω): ΩR|k −→ m is the homomorphism induced by the Euler derivation; for n ≥ 1, the formula yields a congruence ω(dy) ≡ − deg(y)xy mod nXn+1 + 􏰁k[Y􏰵 n+1]⟨X􏰵 n⟩]􏰂n+1. 􏰏
Proof of Theorem 8.3.9. Let ω : Diffk k[Y ] −→ V be the Euler morphism, con- structed in the preceding lemma, and consider the induced morphism
R⊗ω π:L=R⊗k[Y]Diffkk[Y]−−−→R⊗k[Y]V =G
of complexes of graded R–modules. The lemma yields congruences (k⊗Rπ)(1⊗dy)≡1⊗deg(y)xy mod (k⟨X􏰵n⟩n+1) fory∈Yn andn≥0,
which show32 that k ⊗R π is injective. Furthermore, H0(π) is the homomorphism γ : ΩR|k −→ m defined by the Euler derivation.
By Proposition 1.3.2, the quasi-isomorphism ρ: k[Y] −→ R induces a quasi- isomorphism ρ⊗V:V = k[Y]⊗k[Y] V −→ R⊗k[Y] V = G, so G is a minimal free resolution of m over R. Let F be a minimal free resolution of ΩR|k over R, let α:L−→F bealiftingoftheidentitymapofΩR|k,andletβ:F −→Gbealifting of γ. Since H0(βα) = γ, the morphisms π and βα are homotopic. As noted in Remark 4.1.7, this yields
k⊗R π=k⊗R (βα)=(k⊗R β)(k⊗R α),
so k ⊗R α is injective. This is the desired assertion. 􏰏
Proof of Theorem 8.3.5. By construction, Ln is a free R–module with basis Yn, and card(Yn) = εn+1(R) by Theorem 7.2.6. The inequalities for the Betti numbers of ΩR|k follow from the result that we have just proved.
The morphism π used in its proof induces a morphism π′ : L′ = Σ−1L􏰶 1 −→ Σ−1G􏰶 1 = G′, such that π′♮ is a split injection of R–modules. An easy computation
32This is the only place where the hypothesis of characteristic 0 is used.
 
82 L. L. AVRAMOV
shows that H0(L′) = I/I2, so replacing in the preceding argument F by a minimal resolution of I/I2, we conclude that εL′ : L′ −→ I/I2 is essential. That gives the second series of inequalities. 􏰏
Proof of Theorem 8.3.3 and Theorem 8.3.4. In view of Corollary 8.2.2, in each case it suffices to prove the last assertion. Using Proposition 4.2.4.1, Theorem 8.3.5, and Proposition 8.1.4, we get
curvRk≥curvR(I/I2)=limsup􏰪n βnR(I/I2)≥limsup􏰩n εn(R)=curvRk. We have Theorem 8.3.3. An identical argument yields Theorem 8.3.4. 􏰏
  
INFINITE FREE RESOLUTIONS 83
9. Modules over complete intersections
Currently, homological algebra over complete intersections is an active area of research on infinite free resolutions. This chapter describes some basic techniques and results. Most proofs depend on a remarkable higher level structure on resolu- tions, introduced in Section 1 under more general hypotheses. It is then applied to modules over complete intersections, to study Betti numbers in Section 2, and other homological problems in Section 3.
9.1. Cohomology operators. In this section R = Q/(f), where f = f1,...,fr is a regular sequence in a (not necessarily regular local) commutative ring Q. We denote E = Q[y1,...,yr |∂(yj) = fj] the Koszul complex on f, and let κ: E −→ R be its canonical augmentation.
Extending Shamash’s [143] construction of resolutions over hypersurface sections, cf. Theorem 3.1.3, Eisenbud [57] produces (in a finite number of steps, if pdQ M is finite) a free resolution of an R–module M starting from any free resolution of M over Q. Here we present a version from Avramov and Buchweitz [31]; the result is somewhat weaker, but easier to prove and sufficient for our purposes.
Theorem 9.1.1. Let M be a finite R–module, let εU : U −→ M be a DG module resolution of M over E such that Un is a free Q–module for each n.
Let G = Q⟨v1,...,vr⟩ be a Q–module with basis {v(H) = v1(h1)···vr(hr) : |v(H)| = 2(h1|v1| + · · · + hr|vr|) , H = (h1, . . . , hr) ∈ Nr}, and set
Cn(E,U) = 􏰠Gi ⊗R Un−i,; i􏰶0
r
∂(v(H) ⊗u)=−􏰈v(Hj) ⊗yju+v(H) ⊗∂(u)
j=1
where Gi =R⊗Q Gi, Uj =R⊗Q Uj, and Hj =(h1,...,hj −1,...,hr).
Then (C(E,U),∂) is a free resolution of M over R.
Remark. The Koszul complex K on a regular sequence s with (s) ⊇ f is a DG
module over E; by inspection, C(E, K) = C, the resolution of Corollary 6.1.9.
Proof. Let μ: E ⊗Q E −→ E be the morphism of DG algebras, given by the mul- tiplication of the exterior algebra. An elementary computation shows that Ker μ is generated by yj′ = yj ⊗ 1 − 1 ⊗ yj, for j = 1,...,r. Thus, μ is the composition of (E ⊗Q E) 􏰐→ D = (E ⊗Q E)⟨v1,...,vr |∂(vj) = yj′⟩ with ν: D −→ E, where ν(v(H)) = 0 if |H| > 0. By Proposition 1.3.2, the map
E ⊗ Q κ : E ⊗ Q E −→ E ⊗ Q R = R ⟨ y 1 , . . . , y r | ∂ ( y j ) = 0 ⟩
is a quasi-isomorphism. As (E ⊗Q κ)(yj′ ) = yj , we see that H(E ⊗Q E ) is the exterior algebra on H1(E ⊗Q E), itself a free R–module with basis cls(y1′ ), . . . , cls(yr′ ). Thus, Proposition 6.1.7 applied to the Γ-extension E ⊗Q E 􏰐→ D, shows that ν is a quasi- isomorphism of DG algebras.
Since ν is a morphism of semi-free DG modules over E for the action of E on the right, by Proposition 1.3.3 so is ν⊗E U:D⊗E U −→ E⊗E U = U, hence H(D ⊗E U) ∼= M. On the other hand, (D ⊗E U)♮ ∼= E♮ ⊗Q G ⊗Q U♮ is a semi-free DG module for the action of E on the left. Thus, by Proposition 1.3.2 the morphism
    
84 L. L. AVRAMOV
κ ⊗E U : D ⊗E U −→ R ⊗E D ⊗E U is a quasi-isomorphism. Comparison shows that R ⊗E D ⊗E U = C(E,U) as complexes of R–modules. 􏰏
Construction 9.1.2. Cohomology operators. Let S = R[χ1, . . . , χr] be a graded algebra with variables χ1, . . . , χr of degree33 −2. In the notation of the preceding theorem, set χj · v(H) = v(Hj ) for 1 ≤ j ≤ r. These are R–linear endo- morphisms of degree −2 of C(E,U)♮. They clearly commute with each other, and a glance at the formula for the differential ∂ of the complex C(E,U) shows that they are chain maps: χj∂ = ∂χj. Thus, C(E,U) is a DG module over the graded algebra34 of cohomology operators S of the presentation R ∼= Q/(f).
The construction above, taken from [31], is a variant of that of Eisenbud [57], cf. Construction 9.1.5. The introduction of operators of degree −2 on (co)homology is due to Gulliksen [80]; other constructions have been given by Mehta [119] and Avramov [25]. For a long time, it had been held that they coincide, but a close reading of the published arguments has revealed serious flaws. In fact, they yield the same result, but only up to sign: this is proved in [37]; ironically, that proof introduces two new constructions.
Proposition 9.1.3. For each R–module N there are S–linear homomorphisms
χj: TorRn (M,N) −→TorRn−2(M,N) χj: ExtnR(M,N) −→Extn+2(M,N)
R
for 1≤j≤r andall n,
which turn TorR (M,N) and ExtR (M,N) into modules over S.
These structures depend only on f, are natural in both module arguments, and
commute with the connecting maps induced by short exact sequences.
Proof. For the first statement, observe that for each R–module N, the complexes C(E,U)⊗RN and HomR (C(E,U),N) have an induced structure of DG S–module. Naturality in N is clear, as is linearity of the connecting homomorphisms induced byanexactsequence0−→N′ −→N−→N′′ −→0.
If β : M ′ −→ M is a homomorphism of R–modules, and U ′ is a resolution of M′ given by Construction 2.2.7, then by the lifting property of Proposition 1.3.1 there is a morphism α: U′ −→ U of DG modules over E such that H(α) = β. The expressions for the differential in Theorem 9.1.1, and for the action of χj in Construction 9.1.2 show that v(H) ⊗ u′ 􏰀→ v(H) ⊗ α(u′) defines a morphism of DG S–modules C(E,α): C(E,U′) −→ C(E,U). All choices of α are homotopic, so the degree 0 maps of S–modules H(C(E, α) ⊗R N) and H HomR (C(E, α), N) are uniquely defined, and equal respectively to TorR (β,N) and ExtR (β,N). This proves naturality in M, and independence from the choice of U.
Let 0 −→ M′ −→ M −→ M′′ −→ 0 be a short exact sequence of R–modules, and choose a semi-free resolution U′′ of M′′ over E, such that U′′♮ is a free module over E♮. By the usual ‘Horseshoe Lemma’ argument, there exists a differential on U♮ = U′♮ ⊕ U′′♮, such that U becomes a DG module resolution of M over E, and the canonical exact sequence 0 −→ U′ −→ U −→ U′′ −→ 0 is one of DG modules over
33This will not be surprising, once the χj’s reveal their cohomological nature.
34The algebra S itself has a trivial differential; this nicely illustrates the fact that DG module structures are to be found in all walks of life.
 
INFINITE FREE RESOLUTIONS 85
E. Due to the expression for the differential in Theorem 9.1.1, it gives rise to an exact sequence of DG modules over S:
0 −→ C(E,U′) −→ C(E,U) −→ C(E,U′′) −→ 0
that splits over R. It induces short exact sequences of DG modules over S
0 −→ C(E,U′)⊗R N −→ C(E,U)⊗R N −→ C(E,U′′)⊗R N −→ 0
0 −→ HomR (C(E,U′′),N) −→HomR (C(E,U),N) −→HomR (C(E,U′),N) −→ 0 Their connecting maps commute with the action of the operators χj. 􏰏
The importance of the algebra of cohomology operators stems from
Theorem 9.1.4. If M and N are finite modules over a noetherian ring R, such that R = Q/(f) for some Q–regular sequence f, then the S–module ExtR (M,N) isfiniteifandonlyifExtnQ(M,N) =0forn≫0.
Remark. Most of the remaining results in this chapter are based on this theorem. Section 2 uses the ‘if’ part; different proofs for it are given in each one of the papers quoted in Construction 9.1.2; here we use an elementary argument to establish a special case, that suffices for many applications. Section 3 is based on the converse statement in the special case N = k, proved in [25]; the general result is established in [32].
Partial proof of Theorem 9.1.4. Assume that Q is noetherian, finite projective Q– modules are free, and pdR M is finite. Proposition 2.2.8 then yields a DG module resolution U of M over E, which is a finite complex of free Q–modules. By the preceding result, we may use U to compute the action of S. As HomR (C(E,U),R) is a semi-free DG module over S with underlying module S ⊗R HomQ (U, R) , we see that it suffices to prove the
Claim. If F is a semi-free S–module of finite rank, then for each finite R–module N the S–module H(F ⊗R N) is noetherian.
Theadvantageisthatnowwecaninduceonn=rankS F. Ifn=1,thenF isa shift of S, so H(F ⊗R N) ∼= ΣrS ⊗R N is a finite S–module. If n > 0, then choose a basis element u ∈ F of minimal degree. As ∂(u) = 0 for degree reasons, Su is a DG submodule of F, and G = F/Su is semi-free of rank n − 1. The homology exact sequence now yields an exact sequence of degree zero homomorphisms of S– modules Su ⊗R N −→ H(F ⊗R N) −→ H(G ⊗R N), where the two outer ones are noetherian by induction. The claim follows. 􏰏
Eisenbud [57] shows how to compute the operators from any resolution. Construction 9.1.5. Eisenbud operators. A lifting to Q of a free resolution
(F,∂) of M over R is a pair (F,∂) consisting of a free Q–module F and a degree −1 endomorphism ∂􏰦 of F􏰦, such that (F, ∂) = (F􏰦 ⊗Q R, ∂􏰦 ⊗Q R).
Liftings always exist—just take arbitrary inverse images in Q of the elements of the matrices of the differentials ∂n. The relation ∂2 = 0 yields ∂􏰦2(F􏰦) ⊆ (f)F􏰦, hence
j􏰦􏰦
for j = 1,...,r there are degree −2 endomorphisms of Q–modules τ􏰦 : F −→ F, such
􏰦2 􏰆r j that∂ = j=1fjτ􏰦.
Each lifting produces a family of Eisenbud operators
jj
τ = { τ = τ􏰦 ⊗ Q R : F −→ F } 1 􏰵 j 􏰵 r .
􏰦􏰦􏰦

86 L. L. AVRAMOV
Proposition 9.1.6. Let τ be a family of Eisenbud operators defined by f.
For 1 ≤ j ≤ r the maps τj are chain maps of degree −2, that are defined uniquely up to homotopy, commute with each other up to homotopy, commute up to homotopy with any comparison of resolutions F ′ −→ F constructed over a homomorphism of
R–modules β: M′ −→ M, and satisfy
H(HomR 􏰁τj,N􏰂) = −χj .
Proof. Let (F􏰦′,∂􏰦′) be a lifting of a free resolution (F′,∂′) of an R–module M′, ′ ′j ′ ′ ′ ′j
choseeafamilyofmapsτ􏰦 ={τ􏰦 }:F −→F asabove,andsetτ ={τ = ′j′ 􏰦′􏰦
τ􏰦 ⊗QR}. Ifα:F −→F isachainmapandα􏰦:F −→F isamapofQ–modules such that α􏰦 ⊗Q R = α, then the equality ∂α = (−1)|α|α∂′ implies that for 1 ≤ j ≤ r there exist Q–linear homomorphisms σj : F􏰦′ −→ F􏰦 with |σj | = |α| − 1 and ∂􏰦α􏰦 − (−1)|α|α􏰦∂􏰦′ = 􏰆rj=1 fjσj. Thus, we have
r
􏰈
􏰁j ′j􏰂 2 ′2
j=1
f j
τ􏰦 α􏰦 − α􏰦 τ􏰦 = ∂􏰦 α􏰦 − α􏰦 ∂􏰦 􏰚r􏰛􏰚r􏰛
=
􏰦􏰦􏰦􏰦􏰦􏰦 􏰈∂fjσj +(−1)|α|∂α􏰦∂′ +(−1)|α| 􏰈fjσj∂′ −∂α􏰦∂′
j=1
j=1 r
􏰦􏰦 =􏰈fj􏰁∂σj −(−1)|σj|σj∂′􏰂.
j=1
Since the elements of f are linearly independent modulo I2, we get
τjα−ατ′j=∂(σj⊗QR)−(−1)|σj|(σj⊗QR)∂′ for 1≤j≤r,
that is, σj ⊗Q R: F′ −→ F is a homotopy from τjα to ατ′j. We can now get most of the desired assertions by suitably specializing the maps chosen above.
First,lettingα=∂′ =∂andα􏰦=∂􏰦′ =∂􏰦,wecansetσj =0for1≤j≤r,and so conclude that each τj is a chain map. Next, taking α = idF and varying τ′, we see that τ1,...,τr are defined uniquely up to homotopy. Then, keeping α = τj and τ′ = τ, we see that τj commutes up to homotopy with each τi. Finally, choosing α to be a lifting of a homomorphism of R–modules β: M′ −→ M, we obtain that τjα and ατ′j are homotopic for each j.
The resolution F = (C(E,U),∂) of Theorem 9.1.1 has an obvious lifting: r
􏰦􏰦
F =U♮ ⊗Q G with ∂(v(H) ⊗u)=−􏰈v(Hj) ⊗yju+v(H) ⊗∂(u).
j=1
From it we get ∂􏰦2(v(H) ⊗ u) = −􏰆rj=1 v(Hj) ⊗ fju = −􏰆rj=1 fjχj(v(H) ⊗ u) and
henceH(HomR􏰁τj,N􏰂)=−χj for1􏰵j􏰵r. 􏰏
Remark 9.1.7. For any integer d with 1 ≤ d ≤ r, the operators χ1,...,χd act on Ext∗R (M,k) in two ways: the initial one, from R = Q/(f), and a new one, from the presentation R = P/(f1,...,fd) with P = Q/(fd+1,...,fr).
These actions coincide. Indeed, if (F,∂) is a lifting to Q of a free resolution (F,∂) of M over R, then it is clear that (F􏰦⊗Q P,∂􏰦⊗Q P) is a lifting of (F,∂) to P.
􏰦 2 􏰆d j j Inthiscasewehave(∂⊗QP) = j=1fj(τ􏰦 ⊗QP). Thus,wemayuseτ􏰦 ⊗QP
􏰦􏰦

observethat(τ􏰦 ⊗QP)⊗P R=τ ⊗QR.
(1)
(2) (3)
(4)
(5.1)
(5.2)
There is a polynomial p(t) ∈ Z[t] with p(±1) ̸= 0, such that PRM(t)= p(t) with c<d.
INFINITE FREE RESOLUTIONS 87
to compute the operation of χj coming from the new presentation. It remains to jj
9.2. Betti numbers. Our method for studying homology over complete intersec- tions is to use the action of the algebra of cohomology operators, in order to replace ‘degree by degree’ computations by ‘global’ considerations.
At that level, we are essentially dealing with finite graded modules over poly- nomial rings. This converts homological algebra back into commutative algebra, and opens the door to the use geometric methods to study cohomology. Such an approach was pioneered by Quillen [132] for cohomology of groups, and has evolved into a powerful tool of modular representation theory, cf. Benson [41] and Evens [62] for monographic expositions. Geometric methods are used in [25] to study resolutions over commutative rings.
For reference and comparison, the next theorem is presented along the lines of Theorem 5.3.3. It is compiled from four papers: the fact that PRM (t) is rational with denominator (1 − t2)codim R is from Gulliksen [80]; the comparison of the orders of the poles, and (3), are from Avramov [25]; the first part of (5) comes from Eisenbud [57], the second from Avramov, Gasharov, and Peeva [32].
Theorem 9.2.1. Let R be a complete intersection with edim R = e and codim R = r. ForafiniteR–moduleM̸=0withdepthR−depthM=mandpdRM=∞, the following hold.
 (1+t)c(1−t)d cxRM=d≤codimRandcurvRM=1.
βnR(M)∼ b nd−1 2c(d − 1)!
βR (M)
lim n+1 =1.
n→∞ βnR(M)
whereb=p(1)>0.
∼
  βR (M) n+1
=1andSyzRn+2(M)=SyzRn (M)forn>mifcxRM=1. >1andSyzRn+2(M)􏰲SyzRn (M)forn≫0ifcxRM≥2.
 β nR ( M ) βR (M)
n+1
β nR ( M )
 Remark. A more precise version of the last inequality is proved in [32]: there are
polynomials h±(t) of degree d − 2 with leading terms a± > 0, such that for n ≫ 0
the difference βR (M)−βR(M) is equal to h (n) if n is even, and to h (n) if n n+1n + −
is odd; however, it is possible that a+ ̸= a−, cf. Example 9.2.4.
Example 9.2.2. By Remark 8.1.1.2, we have βnR(k) ∼ 2e−rnr−1/(r − 1)!, so c =
−dimR, d = codimR, b = 1, and pk(t) = 1.
Recall that if R is a complete intersection, then mult R ≥ 2codim R.
Example 9.2.3. If mult(R) = 2r, then for each M there is an integer valued polynomial b(t) ∈ Q[t] such that βnR(M) = b(n) for n ≫ 0, cf. [28]. This generalizes a well known property of complete intersections of quadrics.

88 L. L. AVRAMOV
Not all Betti sequences are eventually given by some polynomial in n. Example 9.2.4. Let q = 􏰁e+1􏰂 − rankk m2/m3 be the number of ‘quadratic rela-
2
tions’ of R. It is proved in [28] that
PR (t) = (1−t)q +(1+t)e−q−1 ·(et−1) .
R/m2 (1−t)r ·(1+t)r−q−1 ·t
Thus, when q ≤ r−2 the Poincar ́e series has poles at t = 1 and at t = −1,
so the even and odd Betti numbers are each given by a different polynomial. For
instance, if R = k[s ,s ]/(sa1,sa2), with a ≥ 3, then βR(R/m2) is equal to 3n+1 1212in2
ifniseven,andto 3n+3 ifnisodd. 22
As (5.1) shows, if a Betti sequence is bounded, then it stabilizes after at most depth R steps. However, if cxR M ≥ 2, then there exist modules whose Betti sequence strictly decreases over an initial interval of any given length. This shows that no bound on the degree of the polynomial p(t) can be expressed as a function only of invariants of the ring R:
Example 9.2.5. Let R be a complete intersection of codimension c ≥ 2. Fix N = SyzRn (k), with n > dimR, and let F be its minimal free resolution. The module N is maximal Cohen-Macaulay, cf. 1.2.8, hence the complex
∗ ∗∂0∗ ∗∂1∗ ∗
0 −→ N −→ F 0 − → F 1 − → F 2 −→ . . . ,
where −∗ = HomR (−, R) , is exact and minimal. Splice it to the right of a minimal free resolution of N∗: now you are holding a ‘doubly infinite’ exact complex of finite free R–modules, that you can truncate at will. The cokernel of ∂s∗ is guaranteed to have s + 1 strictly decreasing Betti numbers at the beginning of its resolution, cf. Remark 8.1.1.3.
Before starting on the proof, we make a general observation.
Remark 9.2.6. Let Q be a regular local ring, let f be a Q–regular sequence, and set R = Q/(f). If M is a finite R–module, then ExtR (M,k) is a finite module over R[χ1, . . . , χr] by Theorem 9.1.4.
Since m annihilates ExtR (M, k) , we see that M = ExtR (M, k) is a finit module over the graded polynomial ring P = k[χ1, . . . , χr]. In particular, the Hilbert-Serre Theorem applies to the graded P–module M, and shows that PRM (t) = q(t)/(1−t2)r for some polynomial q(t) ∈ Z[t].
Proof of Theorem 9.2.1. The hypotheses of the theorem and its conclusions do not change if one replaces (R,M) by (R′,M ⊗R R′), where R′ is the completion of the local ring R[u]m[u]. Thus, we assume that R = Q/(f), where Q is regular with infinite residue field k, and f is a regular sequence.
Let F be a minimal free resolution of M over R, and set βn = βnR(M). (1) Due to Remark 9.2.6, PRM (t) can be written in the form
    d−1 m c−1 l
+ 􏰈 i
(1 + t)c−i i=0
P RM ( t ) = 􏰈 j
+ f ( t ) ,
  (1 − t)d−j j=0


(d−1)! ·n
c−1
INFINITE FREE RESOLUTIONS 89
with max{c, d} ≤ r and f (t) ∈ Q[t]. Thus, for n ≫ 0, there are equalities
m0 d−1 βn= m
l0
+ (c−1)! ·n
+g+(n)  0 ·nd−1 − 0 ·nc−1 +g−(n)
for even n;
for odd n;
(∗)
  l (d−1)! (c−1)!
  with m0 ̸= 0, and polynomials g±(t) of degree < max{c, d} − 1. As the Betti numbers of M are positive, we have d ≥ c, and d > 0.
Assume next that d = c, so that l0 ̸= 0. The positivity of Betti numbers implies thatm0±l0 >0,hencem0 >0.
Set γ(j,2s) = 􏰆ji=−j(−1)iβ2s−i. Formula (∗) shows that for all s,h ≫ 0 the function 2s 􏰀→ γ(2h,2s) is given by a polynomial in 2s of degree d with leading coefficient a0 = 􏰁(4h+1)l0 +m0􏰂/(d−1)!, and the function 2s 􏰀→ γ(2h+1,2s) by a polynomial of the same degree with leading coefficient a1 = 􏰁(4h + 3)l0 − m0􏰂/(d − 1)!. Thus: ifl0 <0,thena0 <0forh≫0,soγ(2h,2s)<0;ifl0 >0,thena1 >0 for h ≫ 0, so γ(2h + 1, 2s) > 0.
Localization of F at a minimal prime ideal p of R yields an exact sequence 0 −→ Ls,j −→ (F2s+j)p −→ ... −→ (F2s)p −→ ... −→ (F2s−j)p −→ Ns,j −→ 0.
Counting lengths over Rp, we get an equality
γ(j, 2s) · length(Rp) = (−1)j 􏰁 length(Ls,j ) + length(Ns,j )􏰂
which shows that γ(2h, 2s) > 0 and γ(2h + 1, 2s) < 0, regardless of the sign of l0. We have a contradiction, so we conclude that d > c.
(3) Since d > c, formula (∗) yields limn→∞ βn /nd−1 = m0 /(d − 1)! . On the other hand, m0 = limt→1(1 − t)d PRM (t) = p(1)/2c.
(2) and (4) are trivial consequences of (1) and (3).
(5) By Theorem 9.1.4, ExtR (M, k) is a finite graded module over the polynomial ring k[χ1, . . . , χr]. Thus, its graded submodule
{μ ∈ ExtR (M,k) | (χ1,...,χr)mμ = 0 for some m}
is finite-dimensional, and hence is trivial, say, in degrees > s. Since k is infinite,
we can find a linear combination χ of χ1,...,χr, that is a non-zero-divisor on
Ext>s (M, k) . Thus, the operator χ is injective on Ext>s (M, k) . Dualizing, we see RR
that χ: TorRn+2 (M,k) −→ TorRn (M,k) is surjective when n > s.
Changing bases, we may assume that χ = χ1, and switch attention to the pre-
sentation R = P/(f), where P = Q/(f2,...,fr) and f is the image of f1; note that 􏰦􏰦 􏰦􏰦
f is P–regular. Let (F,∂) be a lifting of the complex (F,∂) to P, and let τ􏰦: F −→ F and τ = τ􏰦⊗P R: F −→ F be the degree −2 endomorphisms from Construction 9.1.5. By Remark 9.1.7, we have χ = HomR (τ, k) .
􏰦􏰦 Since χn is surjective for n > s, so are the maps τ􏰦n+2 : Fn+2 −→ Fn
and τn+2 : Fn+2 −→ Fn by Nakayama. The chain map τ induces surjections SyzRn+2 (M) −→ SyzRn (M) for n > s. Localize the defining exact sequence
R ∂n+1 R
0 −→ Syzn+2 (M) −→ Fn+1 −−−→ Fn −→ Syzn (M) −→ 0
at a minimal prime p of R. For n > s a lengths count over Rp yields
β −β =􏰁lengthSyzRp (M )−lengthSyzRp (M )􏰂􏰙length(R )≥0, n+1 n n+2 p n p p

90 L. L. AVRAMOV
Nextweassumethatβn =βn+1 =b̸=0forsomen>s,andshowthatβn+2 =b.
􏰦
Sinceτ􏰦n+2 issurjectiveforn>s,wehaveFn+2 =E⊕GwithE=Kerτ􏰦n+2,and
􏰦􏰦
the restriction θ of τ􏰦n+2 to G is an isomorphism with Fn. Let ζ : G −→ Fn+1 be the
􏰦􏰦􏰦􏰦
restriction of ∂n+2. As ∂n+1ζ is the restriction to G of ∂n+1∂n+2 = fτ􏰦n+2, where
P/(f) = R, we have ∂n+1ζ = fθ, and hence bbbbb
􏰦
􏰣 ∂􏰦 􏰣 ζ = 􏰣 ( ∂􏰦 ζ ) = 􏰣 ( f θ ) = f b 􏰣 θ . n+1 n+1
􏰦􏰦
Note that G, Fn+1, and Fn have rank b and fix isomorphisms of P with 􏰣b(G),
􏰦􏰦􏰦
􏰣b(Fn+1), and 􏰣b(Fn). The maps 􏰣b ∂n+1, 􏰣b ζ, and 􏰣b θ are then given by
multiplication with elements of P, say y, z, and u, respectively. The equality above becomesyz=fbu. Asθisbijectivesois􏰣b(θ),henceuisaunitinP. Asfis
􏰦􏰦􏰦
P-regular, so is y, hence ∂n+1 is injective. From ∂n+1∂n+2(E) = fτ􏰦n+2(E) = 0 we
now see that E ⊆ Ker∂􏰦n+2, so Im∂􏰦n+2 is a homomorphic image of F􏰦n+2/E ∼= G. Remarking that
(Coker∂􏰦n+3)⊗P R∼=Coker∂n+3 =SyzRn+2(M)
we conclude that SyzRn+2 (M) is a homomorphic image of the free R–module G⊗P R ∼= Rb. It follows that βn+2 ≤ b = βn. On the other hand, we already know that βn+2 ≥ βn+1 ≥ βn, hence all three are equal to b. Thus, the sequence {βn}n>s is either strictly increasing or constant: we have proved (5.2).
If βn+2 = βn, then rankP Fn+2 = rankP Fn, so E = 0 and the surjective ho- momorphism τn+2 is bijective. To finish the proof of (5.1), we show that for m = depth R − depth M the complex F> m is periodic of period 2. It is a minimal resolution of N = SyzRm+1 (M), and N is maximal Cohen-Macaulay by Proposition 1.2.8. Thus, F>∗ m = HomR (F> m, R) is acyclic, with H0(F>∗ m) = N∗. Since F>∗ m is minimal, N∗ is a syzygy of Cn = Coker∂n∗ for each n ≥ m. For n ≫ 0 the minimal resolution of Cn is periodic of period 2, hence so is F>∗ m. 􏰏
9.3. Complexity and Tor. Let (R, m, k) be a local ring.
If R = Q/I is a complete intersection and Q is regular, then the finite global di-
mension of Q implies that all R–modules have finite complexity. However, to study a specific R–module, it often pays off to use an intermediate (singular) complete intersection P , that retains the crucial property pdP M < ∞. With this approach, the following factorization theorem is proved in [25].
Theorem 9.3.1. Let R ∼= Q/I be a regular presentation with I generated by a regular sequence. If k is infinite, then for each finite R–module M the surjection Q −→ R factors as Q −→ P −→ R, with the kernels of both maps generated by regular sequences, pdP M < ∞, and cxR M = pdP R.
Proof. As in Remark 9.2.6, consider the finite graded module M = Ext∗R (M, k) over the ring P defined by the presentation R = Q/I. Elementary dimension theory shows that the Krull dimension of M over P is equal to cxR M = d. As k is infinite, we may choose a homogeneous system of parameters χ1, . . . , χd for M, and extend it to a basis χ1,...,χr of P2, the degree 2 component of P.
It is not hard to see that I can be generated by a Q–regular sequence f = f1 . . . , fr that defines the operators χ1, . . . , χr. Remark 9.1.7 identifies k[χ1, . . . , χd] ⊆ P with the ring P′ of cohomology operators of a presentation
􏰦􏰦

INFINITE FREE RESOLUTIONS 91 R = P/(f1,...,fd), where P = Q/(fd+1,...,fr). As M is finite over P′, The-
orem 9.1.4 shows that ExtnP (M, k) = 0 for n ≫ 0, that is, pdP M < ∞. 􏰏 To deal with intrinsic properties of the R–module M, a concept of virtual pro-
jective dimension is introduced in [25] by the formula35
􏰜 􏰗􏰗 Q′ is a local ring such that R􏰊 ∼= Q′/(f′)􏰝 vpdM=inf pd′M􏰋􏰗 .
R Q 􏰗 for some Q′–regular sequence f′
Clearly, vpdR M < ∞ whenever R is a complete intersection.
RecallthatpdRM isfiniteifandonlyifcxRM =0. Itiseasytoseethatin
that case, vpdR M = pdR M. Thus, the following result extends the Auslander- Buchsbaum Equality.
Theorem 9.3.2. If M is a finite R–module and vpdR M is finite, then vpdR M = depth R − depthR M + cxR M .
Proof. We may assume that R is complete with infinite residue field. Choosing Q′ with pdQ′ M = vpdR M, we have
vpdRM =pdQ′ M =depthQ′ −depthM
=pdQ′ R+depthR−depthM≥cxRM+depthR−depthM
where the inequality comes from Corollary 4.2.5.4. On the other hand, the preceding theorem provides a ring P from which R is obtained by factoring out a regular sequence, and that satisfies pdP R = cxR M, so we get
vpdR M ≤ pdP M = depth P − depth M
= pdP R + depth R − depth M = cxR M + depth R − depth M
where the inequality holds by definition. 􏰏 Next we study the vanishing of Tor functors over a local ring. The subject starts
with a famous rigidity theorem of Auslander [16] and Lichtenbaum [112]:
Theorem 9.3.3. If M and N are finite modules over a regular ring R and TorRi (M,N)=0 forsome i>0,
then TorRn (M,N) = 0 for all n ≥ i. 􏰱
Heitmann [85] proves that rigidity may fail, even with R Cohen-Macaulay and pdR M finite. On the other hand, there are partial extensions of the theorem to complete intersections. The first one is due to Murthy [123].
Theorem 9.3.4. If M and N are finite modules over a complete intersection R of codimension r, and for some i > 0 there are equalities
TorRi (M,N)=···=TorRi+r(M,N)=0 then TorRn (M,N) = 0 for all n ≥ i.
In codimension 1, this is complemented by Huneke and Wiegand [91]:
35If k is infinite; otherwise, R and M are replaced by Re = R[u]m[u] and Mf = M ⊗R Re.
 
92 L. L. AVRAMOV
Theorem 9.3.5. If M and N are finite modules over a hypersurface R, and TorRi (M,N)=TorRi+1(M,N)=0 forsome i>0,
then either M or N has finite projective dimension.
When the vanishing occurs outside of an initial interval, Jorgensen [95] draws
the conclusion from the vanishing of fewer Tor’s.
Theorem 9.3.6. Let M be a finite module over a complete intersection R, such that cxR M = d and depthR − depthM = m. For a finite R–module N, the following are equivalent.
(i) TorRn (M,N) = 0 for n > m. (ii) TorRn (M,N) = 0 for n ≫ 0.
(iii) TorRi (M,N) = ··· = TorRi+d (M,N) = 0 for some i > m.
The number of vanishing Tor’s in (iii) cannot be reduced further; the next ex-
ample elaborates on a construction from [95].
Example 9.3.7. For i ≥ 1, R = k[[s1,...,s2r]/(s1sr+1,...,srs2r), and N = R/(sr+1,...,s2r) there is a module Mi, such that cxR Mi = r, TorRn (Mi,N) = 0 fori<n≤i+r,butTorRn (Mi,N) ̸=0forinfinitelymanyn.
Corollary 6.1.9 yields a minimal resolution
F = R⟨x1,...,x2r |∂(xj) = sj ,∂(xr+j) = sr+jxj for 1 ≤ j ≤ r⟩
of M = R/(s1,...,sr) ∼= k[[sr+1,...,s2r]]. As M is maximal Cohen-Macaulay, F ∗ = HomR (F, R) is exact in degrees ̸= 0. It is easy to see that the sequence
∂1 σ∗−∂1∗∗
F1 −→F0 −→F0 −−→F1 with σ(x)=sr+1···s2rx
is exact. The splice of F with Σ−1F∗ along σ is a doubly infinite complex (G,∂)
of free R–modules. By construction, Hn(G ⊗R N) = TornR (M, N) for n ≥ 1 and
Hn(G⊗RN)=Ext1−n(M,N) forn≤−2;asσ⊗RN=0trivial,theseequalities R
extend to n = 0 and n = −1, respectively.
For 1 ≤ j ≤ r, consider Nj = N/(sj+1,...,sr)N ∼= k[[s1,...,sj]], note that
TorR (M,Nj) and ExtR (M,Nj) are annihilated by (s1,...,s2r), and set ∞∞
Tj(t) = 􏰈rankk TorRn (M,Nj)tn and Ej(t) = 􏰈rankk ExtnR (M,Nj)tn .
          n=0
The exact sequences 0 −→ Nj −→ Nj −→ Nj−1 −→ 0 induce (co)homology sequences
sj
in which multiplication by sj is the zero map, so
Tj−1(t)=Tj(t)+tTj(t) and Ej−1(t)=Ej(t)+ 1Ej(t). t
Tr(t) = (1+t)r = (1−t2)r and Er(t) = (1+t)r = (1−t2)r .
Now set Mi = Im∂−r−i−1; as TorRn (Mi,N) ∼= Hn−r−i(G⊗R N) for n ≥ 1, these
n=0
 Since and N0 ∼= k, we have T0(t) = E0(t) = PRM (t) = 1/(1 − t)r, and hence T0(t) 1 trE0(t) tr
    equalities establish the desired property.
We start the proofs with a couple of easy lemmas.

INFINITE FREE RESOLUTIONS 93 Lemma 9.3.8. Let f1 , . . . , fd be a regular sequence in a commutative ring Q, and
set R = Q/(f1,...,fd). If
TorRs (M,N) = ··· = TorRt (M,N) = 0
for integers s and t with s + d ≤ t, then there are isomorphisms TorQs+d−1 (M,N) ∼= TorRs−1 (M,N) ;
TorQs+d (M,N) = ··· = TorQt (M,N) = 0; TorQt+1 (M,N) ∼= TorRt+1 (M,N) .
Proof. The Cartan-Eilenberg change of rings spectral sequence 3.2.1 has 2Ep,q =TorRp 􏰁TorQq (M,R),N􏰂 =⇒ TorQp+q(M,N).
If E is the Koszul complex resolving R over Q, then
TorQq (M,R)=Hq(M⊗QE)=M⊗QEq=M(dq),
hence 2Ep,q = TorRp (M,N)(dq). Thus, 2Ep,q = 0 for s ≤ p ≤ t. It follows that the only possibly non-zero module in total degree s + d − 1 is 2Es−1 , d = TorRs+d−1 (M,N), that all modules in total degree n for s + d ≤ n ≤ t are trivial, and that the only possibly non-zero module in total degree t + 1 is 2Et+1,0 = TorRt+1 (M,N). For degree reasons, no non-trivial differential can enter or quit these modules. This gives the desired isomorphisms. 􏰏
ProofofTheorem9.3.4. Bythelemma,TorQi+r(M,N) =0andTorQi+r+1(M,N) ∼= TorRi+r+1 (M,N), so Theorem 9.3.3 yields TorQi+r+1 (M,N) = 0, and we conclude thatTorRi+r+1(M,N) =0. IterationyieldsTorRn (M,N) =0forn>i+r. 􏰏
C. Miller [120] provides a simple proof of Theorem 9.3.5, based on
Lemma 9.3.9. Let M,N be finite modules over a complete intersection R. If TorRn (M, N) = 0 for n ≥ 1, then cxR M + cxR N = cxR(M ⊗R N). IfTorRn (M,N) =0forn≫0,thencxRM+cxRN≤codimR.
Proof. As PRM ⊗Q N (t) = PRM (t) · PRN (t), cf. the proof of Proposition 4.2.4.6, com- parison of orders of poles at t = 1 and Theorem 9.2.1.2 yield the first assertion. For the second one, replace M by a high syzygy M′; then cxR M′ + cxR N = cxR(M′ ⊗R N) ≤ codimR, the inequality coming from loc. cit. 􏰏
Proof of Theorem 9.3.5. By Theorem 9.3.4, TorRn (M,N) = 0 for n ≥ i; thus, cxR M + cxR N ≤ 1 by lemma 9.3.9, so pdR M or pdR N is finite. 􏰏
We use the factorization theorem to give a short
Proof of Theorem 9.3.6. Only (iii) =⇒ (i) needs a proof. We may assume that R is complete with infinite residue field. By hypothesis, there are s, t ∈ N, such that m<s<s+d≤tandTorRj (M,N) =0fors≤j≤t. Forthesmallestsuchs, choose P as in Theorem 9.3.1; as pdP M is finite,
pdP M =depthP −depthM =depthR+d−depthM =m+d.
We see that if s > m + 1, then TorPs+d−1 (M,N) = 0; the first isomorphism in Lemma 9.3.8 yields TorRs−1 (M,N) = 0, contradicting the minimality of s. Thus,

94 L. L. AVRAMOV
s = m+1; it follows that t+1 > pdP M, and so TorPt+1(M,N) = 0. The last isomorphism of the lemma yields TorRt+1 (M,N) = 0. Iterate... 􏰏

INFINITE FREE RESOLUTIONS 95
10. Homotopy Lie algebra of a local ring
It is a remarkable phenomenon that very sensitive homological information on a local ring is encrypted in a non-commutative object—a graded Lie algebra. We construct it, and show that its very existence affects the size of free resolutions, while its structure influences their form.
This chapter provides a short introduction to a huge area of research: the use of non-commutative algebra for the construction and study of free resolutions. We start by providing a self-contained construction of a graded Lie algebra, whose universal enveloping algebra is the Ext-algebra of the local ring.
10.1. Products in cohomology. We revert to a commutative ring k, and con- sider graded associative36 algebras over k. The primitive example of an associative algebra is a matrix ring. The graded version is the k–module of homogeneous ho- momorphisms Homk (C,C), with composition as product and the identity map as unit. If C is a complex, then the derivation on Homk (C, C) , used since Section 1.1, turns it into an associative DG algebra. It appears in
Construction 10.1.1. Ext algebras. When ε: F −→ L is a free resolution of a k–module L, Proposition 1.3.2 yields an isomorphism
HHomk (F,ε) : HHomk (F,F) ∼= HHomk (F,L) = Extk (L,L) .
Thus, F defines a structure of graded k–algebra on Extk (L, L) .
In degree zero, it is the usual product of Homk (L, L) , an invariant of the k– module L. To see that all of it is invariant, take a resolution F′ of L, and choose morphisms α: F −→ F′ and α′ : F′ −→ F, lifting the identity of L. As α′α also is such a morphism, there is a homotopy σ with α′α = idF +∂σ + σ∂. Define φ: Homk (F,F) −→ Homk (F′,F′) by φ(β) = αβα′. If β and γ: F −→ F are chain
maps, then
φ(βγ) = αβγα′ = αβ(α′α)γα′ − αβ(∂σ)γα′ − αβ(σ∂)γα′
= (αβα′)(αγα′) − (−1)|β|∂(αβσγα′) − (−1)|γ|(αβσγα′)∂ = φ(β)φ(γ) + ∂τ + (−1)|τ|τ∂
with τ = −(−1)|β|φ(βσγ). In homology, this shows that H(φ) is an homomorphism of algebras. As φ is a quasi-isomorphism by Propositions 1.3.2 and 1.3.3, H(φ) is an isomorphism. It is also unique: all choices for α and α′ are homotopic to the original ones, producing homotopic maps φ, and hence the same H(φ).
We have finished the construction of the Ext algebra of the k–module L, with the composition product37.
The next structure38 might at first seem complicated.
36That is, not assumed positively graded or graded commutative.
37Another pairing is the Yoneda product, that splices exact sequences representing elements of Ext; they differ by a subtle sign, treated with care by Bourbaki [45].
38An early appearance is in the form gn+1 = πn(X), the n’th homotopy group of a topological space X, with bracket given by the Whitehead product; the proof by Uehara and Massey [152] of the Jacobi identity for the Whitehead product was the first major application of the (then) newly discovered Massey triple product.
 
96 L. L. AVRAMOV
Remark 10.1.2. A graded Lie algebra 39 over k is a graded k–module g = {gn}n∈Z equipped with a k–bilinear pairing, called the Lie bracket
[,]:gi×gj−→gi+j for i,j∈Z, (θ,ξ)􏰀→[θ,ξ], such that for all θ , ξ , ζ ∈ g signed versions of the classical conditions hold:
(1) [θ,ξ]=−(−1)|θ||ξ|[ξ,θ] (anti-commutativity) (2) [θ, [ξ, ζ]] = [[θ, ξ], ζ] + (−1)|θ||ξ|[ξ, [θ, ζ]] (Jacobi identity)
To deal with deviant behavior over rings without 1 , we extend the definition by
 requiring, in addition40, that (11) [θ,θ]=0forθ∈geven.
2
(21) [υ,[υ,υ]] = 0 for υ ∈ godd . 3
and that g be endowed with a reduced square41 g2h+1−→g4h+2 for h∈Z,
6
  such that the following conditions are satisfied:
(3) (υ+ω)[2] =υ[2]+ω[2]+[υ,ω]forυ,ω∈godd with|υ|=|ω|;
(4) (aυ)[2] =a2υ[2] fora∈kandυ∈godd;
(5) [υ[2],θ] = [υ,[υ,θ]] for υ ∈ godd and θ ∈ g.
A Lie subalgebra is a subset of g closed under brackets and squares; with the induced operations, it is a graded Lie algebra in its own right. A homomorphism β : h −→ g of graded Lie algebras is a degree zero k–linear map of the underlying graded k–modules, such that β[θ, ξ] = [β(θ), β(ξ)] and β􏰁θ[2]􏰂 = β(θ)[2].
One way to get a Lie structure is to partly forget an associative one. Let B be a graded associative algebra over k. The underlying module of B, with bracket [x,y] = xy−(−1)|x||y|yx (the graded commutator) and reduced square v[2] = v2 for v ∈ Bodd, is a graded Lie algebra, denoted Lie(B): the axioms are readily verified by direct computations. The non-triviality of the operations measures how far the algebra B is from being graded commutative.
There is also a vehicle to go from Lie to associative algebras. A universal en- veloping algebra of g is a graded associative k–algebra U together with a degree 0 homomorphism of graded Lie algebras ι: g −→ Lie(U) with the following property: for each associative algebra B and each Lie algebra homomorphism β : g −→ Lie(B), there is a unique homomorphism of associative algebras β′ : U −→ B, such that β = β′ι; we call β′ the universal extension of β.
Remark 10.1.3. For the first few statements on enveloping algebras, one just needs to exercise plain abstract nonsense:
(1) Any two universal enveloping algebras of g are isomorphic by a unique iso- morphism, hence a notation Uk(g) is warranted.
(2) Each homomorphism h −→ g of graded Lie algebras induces a natural homo- morphism Uk(h) −→ Uk(g) of graded (associative) algebras.
39In postmodern parlance, a super Lie algebra.
40Anticommutativity implies 2[θ,θ] = 0 for θ ∈ geven, so (11) is superfluous when k ∋ 1.
υ􏰀→υ[2],
   Jacobi yields 3[θ,[θ,θ]] = 0 for all θ, so (21) is redundant when k ∋ 1. 33
22
  41Only needed if 1 ∈/ k: conditions (3) and (4) imply that 2υ[2] = [υ, υ]; when 2 is invertible, 2
 υ[2] = 1 [υ, υ] satisfies condition (5), by the Jacobi identity. 2
 
INFINITE FREE RESOLUTIONS 97
(3) The graded k–algebra Uk(g) is isomorphic to the residue of the tensor algebra Tk(g) modulo the two-sided ideal generated by
θ ⊗ ξ − (−1)|θ||ξ|ξ ⊗ θ − [θ, ξ] for all θ, ξ ∈ g ; υ⊗υ−υ[2] forall υ∈godd;
the map ι is the composition of g ⊆ T(g) with the projection T(g) −→ U.
(4)Assumethatgn =0forn≤0,andthatθ={θi}i􏰶1 isasetofgenerators
of g, linearly ordered so that |θi| ≤ |θj| for i < j. We consider indexing sequences
I=(i1,i2,...)ofintegersij ≥0,suchthatij ≤1if|θj|isoddandij =0for
j≫0. ForeachI,pickanyqsuchthatij =0forj>q,andformthe(welldefined) I iq i1
normal monomial θ = θq · · · θ1 ∈ Uk(g).
The normal monomials span42 Uk(g). Indeed, (3) shows that Uk(g) is spanned
by all product of elements of θ. If such a product contains θ2i with |θi| odd, then replaceθ2 byθ[2];ifitcontainsθθ withi<j,thenreplaceitbyθ θ ±[θ,θ ];
ii ij jiij express each θ2i and [θi , θj ] as a linear combination of generators. Applying the procedure to each of the new monomials, after a finite number of steps one ends up with a linear combination of normal monomials.
Returning to homological algebra, we show how basic constructions of Lie al- gebras create cohomological structures. A DG Lie algebra over k is a graded Lie algebra g with a degree −1 k-linear map ∂ : g −→ g, such that ∂2 = 0,
∂[θ, ξ] = [∂(θ), ξ] + (−1)|θ|[θ, ∂(ξ)] , and ∂􏰁θ[2]􏰂 = [∂(θ), θ] for θ ∈ godd .
A morphism of DG Lie algebras is a homomorphism of the underlying graded Lie algebras, that is also a morphism of complexes. Homology is a functor from DG Lie algebras to graded Lie algebras.
Lie algebras of derivations are paradigmatic throughout Lie theory. Here is a DG version, based on the Γ-free extensions of Chapter 6.
Lemma 10.1.4. Let k 􏰐→ k⟨X⟩ be a semi-free Γ-extension. The inclusion Derγk (k⟨X⟩,k⟨X⟩) ⊆ Lie(Homk (k⟨X⟩,k⟨X⟩)) is one of DG Lie algebras.
Proof. The proof is a series of exercises on the Sign Rule.
If b, c, are elements of k⟨X⟩, and υ is a derivation of odd degree, then
υ2(bc) =υ 􏰃υ(b)c + (−1)|b|bυ(c)􏰄
=υ2(b)c + (−1)|θ|(|θ|+|b|)υ(b)υ(c) + (−1)|b|υ(b)υ(c) + (−1)|b|+|b|bυ2(c)
=υ2(b)c + bυ2(c) .
If x is a Γ-variable of even degree, and θ, ξ are Γ-derivations, then
υ2(x(i)) = υ(υ(x)x(i−1)) = υ2(x)x(i−1) − (υ(x))2x(i−2) = υ2(x)x(i−1)
42In fact, if θ is a basis of g, then the normal monomials form a basis of Uk(g): this is the contents of the celebrated Poincar ́e-Birkhoff-Witt Theorem. The original proof(s) provide one of the first applications of ‘standard basis’ techniques; for an argument in the graded framework, cf. Milnor and Moore [121]; for the case needed here, cf. Theorem 10.2.1.
 
98
L. L. AVRAMOV
and
[θ, ξ](x(i)) =θξ(x(i)) − (−1)|θ||ξ|ξθ(x(i))
=θ􏰁ξ(x)x(i−1)􏰂 − (−1)|θ||ξ|ξ􏰁θ(x)x(i−1)􏰂 =θξ(x)x(i−1) + (−1)|θ||ξ|ξ(x)θ(x)x(i−2)
− (−1)|θ||ξ|ξθ(x)x(i−1) − (−1)|θ||ξ|+|ξ||θ|θ(x)ξ(x)x(i−2) = ([θ, ξ](x)) x(i−1)
A lengthier computation shows that [θ, ξ] is a derivation, completing the verification that Derγk (k⟨X⟩,k⟨X⟩) is a Lie subalgebra of Lie(Homk (k⟨X⟩,k⟨X⟩)).
It remains to prove that the differential of the derivation complex satisfies the requirements for a graded Lie algebra. This is best done by ‘interiorizing’ it: as ∂ is a DG Γ-derivation of k⟨X⟩, it may be viewed as an element δ ∈ Derγk (k⟨X⟩, k⟨X⟩), and then ∂(θ) = [δ,θ]. The conditions on ∂[θ,ξ] and ∂(υ[2]) are now seen to be transcriptions of the Jacobi identity and its complement. 􏰏
It is tempting to mimic the construction of Ext algebras: Choose a Tate reso- lution k⟨X⟩ of a commutative k–algebra P, and associate with P the graded Lie algebra HDerγk (k⟨X⟩,k⟨X⟩). If Q ⊆ P, then it is an invariant of P: this is proved by Quillen [133], as an outgrowth of his investigation of rational homotopy theory [131]. The general case is very different:
Example 10.1.5. The Tate resolution A = k⟨X⟩ of k over itself, with X = ∅, yields H Derγk (A, A) = 0. If F2 ⊆ k, then another Tate resolution of k is
B = k􏰕u, {xi, x′i}i􏰶 0 􏰗􏰗∂(u) = 0,∂(xi) = u(2i) ,∂(x′i) = u(2i)xi􏰖
with |u| = 2 (hence |xi| = 2i+1 + 1 and |x′i| = 2i+2 + 2). Using Corollary 6.2.4 and Construction 6.2.5, one gets H Derγk (B, B) ∼= Homk (Indγk B, k) , and Indγk B is the free k–module with basis {xi}i 􏰶 1 ∪ {x′i}i 􏰶 0.
10.2. Homotopy Lie algebra. In this section (R, m, k) is a local ring.
Some of the problems occurring in the last example may be circumvented, by us- ing acyclic closures. We follows the ideas of Sj ̈odin [144], and simplify the exposition
by using complexes of derivations from Section 6.2.
Theorem 10.2.1. Let R⟨X⟩ be an acyclic closure of k over R, where X = {xi}i 􏰶 1
and |xi| ≤ |xj| for i < j, and set π(R) = HDerγR (R⟨X⟩,R⟨X⟩). (1) π(R) is a graded Lie algebra over k.
(2) rankk πn(R) = εn(R) for n ∈ Z.
(3) π(R) has a k-basis
Θ = {θi = cls(θi) | θi ∈ DerγR (R⟨X⟩,R⟨X⟩), θi(xj) = δij for j ≤ i}i􏰶 1 .
(4) The normal monomials on Θ form a k–basis of Uk(π(R)).
(5) DerγR (R⟨X⟩,R⟨X⟩) ⊆ HomR (R⟨X⟩,R⟨X⟩) induces an injective homomor- phism of graded Lie algebras ι: π(R) −→ Lie(ExtR (k,k)). Its universal extension is an isomorphism of associative algebras
ι′ : Uk(π(R)) ∼= ExtR (k, k) .
Remark. By Remark 6.3.9, different choices of acyclic closures yield the same Lie algebra π(R); it is called the homotopy Lie algebra of R.

INFINITE FREE RESOLUTIONS 99
Proof. (1) and (2). Let ε denote the quasi-isomorphism R⟨X⟩ −→ k, and let k 􏰐→ k⟨X⟩ be the semi-free Γ-extension with trivial differential. Using Lemma 6.2.4, the minimality of R⟨X⟩, and Proposition 6.2.3.4, we get
π(R) = H DerγR (R⟨X⟩, R⟨X⟩) ∼= H DerγR (R⟨X⟩, k)
∼= H Derγk (k⟨X⟩, k) = Derγk (k⟨X⟩, k) ∼= Homk (kX, k) .
So π(R) is a k–module; by Theorem 7.1.3, rankk πn(R) = card(Xn) = εn(R).
(3) Lemma 6.3.3.1 provides a set of R–linear Γ-derivations {θi}i 􏰶 1, with θi(xj) = δij for j ≤ i. As {xi}i􏰶1 is a basis of kX, the isomorphisms above imply that Θ is linearly independent in π(R). Since Θn has εn(R) elements for
each n, it is a basis by (2).
(4) and (5). In the commutative diagram
DerγR (R⟨X⟩,R⟨X⟩) −−−−→ HomR (R⟨X⟩,R⟨X⟩) DerγR (R⟨X ⟩,ε)􏰬≃ ≃􏰬HomR (R⟨X ⟩,ε)
γι
DerR (R⟨X⟩, k) −−−−→ HomR (R⟨X⟩, k)
the left hand arrow is a quasi-isomorphism, as noted for (1); the right hand one is a quasi-isomorphism by Proposition 1.3.2.
Let θI ∈ Uk(π(R)) be a normal monomial on Θ. For a normal Γ-monomial x(H) on X, by Lemma 6.3.3.3 we see that ι′􏰁θI 􏰂􏰁x(H)􏰂 = cls 􏰁θI (x(H))􏰂 is equal to 0 if H < I, and to 1 if H = I. As the normal Γ-monomials on X form a basis of k⟨X⟩, the triangular form of the matrix implies that the images of the normal monomials on Θ form a basis of HomR (R⟨X⟩, k) = ExtR (k, k) . Thus, the homomorphism ι′ is surjective, and the images of the normal monomials are linearly independent. By (4) and Remark 10.1.3.4, these monomials generate Uk(π(R)), so we conclude that ι′ is an isomorphism, as desired. 􏰏
Sjo ̈din [144] shows how to compute the Lie operations on π1(R).
Example 10.2.2. Let R = Q/I, where (Q, n, k) is regular, n is minimally generated
by s1,...,se, and I is minimally generated by f1,...,fr, with
fj = 􏰈 ahi,jshsi with ahi,j ∈Q for1≤j≤r.
1􏰵h􏰵i􏰵e
Using overbars to denote images in R, and setting zj = 􏰆h 􏰵 i ahi,j sh xi , we see that
the acyclic closure R⟨X⟩ of k over R is then obtained from R􏰕x1,...,xe+r􏰗􏰗∂(xi)=si for1≤i≤e;∂(xe+j)=zj for1≤j≤r􏰖
by adjunction of Γ-variables of degree ≥ 3. Let θ1, . . . θe be the Γ-derivations of R⟨x1, . . . , xe⟩, defined by θi(xh) = δih. To extend them to Γ-derivations of R⟨x1,...,xe+r⟩, such that ∂θi = −θi∂, note that
   􏰚􏰛i􏰚i􏰛 θ∂(x )=θ 􏰈a sx =􏰈a s=∂􏰈a x ,
     i e+j i hi,j h i hi,j h hi,j h h􏰵i h=1 h=1
andsetθi(xe+j)=−􏰆hahi,jxh for1≤i≤eand1≤j≤r. Thisyields
[θh,θi](xe+j) = −ahi,j for h < i and θ[2](xe+j) = −aii,j . i
   
100 L. L. AVRAMOV
Thus, on the basis elements of Theorem 10.2.1, the Lie bracket π1(R) × π1(R) −→ π2(R) and reduced square π1(R) −→ π2(R) are given by
rr
[θh,θi] = −􏰈a′hi,jθe+j for h < i and (θi)[2] = −􏰈a′ii,jθe+j
j=1 j=1
where a′ denotes the image in k of a ∈ R.
Consider the k–subspace of π2(R), spanned by the commutators and squares of
all elements of π1(R) (in fact, the squares suffice, cf. 10.1.2). By the preceding computation, its rank q is equal to that of the 􏰁e+1􏰂 × r matrix (ahi,j ) reduced
2
modulo n, that is q = 􏰁e+1􏰂−rankk(I/I∩m3). In particular, π1(R) generates π2(R)
2􏰆
if and only if the r quadratic forms fj = h 􏰵 i ahi,j shsi are linearly independent
in grn(Q). At the other extreme, the Lie subalgebra of π(R) generated by π1(R) is reduced to π1(R) itself if and only if I ⊆ m3.
Example 10.2.3. By Theorems 10.2.1.2 and 7.3.3, if π(R) is finite dimensional, then R is a complete intersection and π(R) is concentrated in degrees 1 and 2, so the preceding example determines its structure. The Lie subalgebra π􏰶 2(R) is central in π(R), and its universal enveloping algebra is the polynomial ring P = k[θ1, . . . , θr]. An isomorphism of P–modules ExtR (k,k) ∼= P ⊗k E, where E is the vector space underlying the exterior algebra on π1(R) ∼= Homk 􏰁m/m2,k􏰂, refines the equality PRk (t) = (1 + t)e/(1 − t2)r.
Conversely, each graded Lie algebra g with rankk g1 ≥ rankk g2 and gn = 0 for n ̸= 1, 2 is of the form π (R) for an appropriate complete intersection: one starts by fixing the desired quadratic parts gj = 􏰆h 􏰵 i ahi,j sh si of the relations, and uses a ‘prime avoidance’ argument to find elements pj in a high power of m, such that the sequence g1 +p1,...,gr +pr is regular, cf. [144].
We conclude with some general remarks on the homotopy Lie algebra. A detailed study belongs to a different exposition.
Remark 10.2.4. A local homomorphism of local rings φ: R −→ S induces a ho- momorphism of graded Lie algebra π(φ): π(S) −→ π(R)⊗k l, where l is the residue field of S. This yields a contravariant functor with remarkable properties. For example, if φ is flat, then for each i there is an exact sequence
0 GG π2i−1(S/mS)   GG π2i−1(S)   GG π2i−1(R) ⊗k l
ð2i−1 GG π2i(S/mS)   GG π2i(S)   GG π2i(R) ⊗k l   GG 0
where ð2i−1 = 0 for almost all i, and 􏰆∞i=0 rank ð2i−1 ≤ codepth(S/mS): this is proved (in dual form) in [20] and [9]. The Lie algebra π(R) is a looking glass version of the Lie algebra of rational homotopy groups in algebraic topology, cf. [23] and [33] for a systematic discussion.
Remark. The original construction of π(R) proceeded in two steps.
The first, initiated by Assmus [15], and completed by Levin [108] and Schoeller [140], constructs a homomorphism ∆ : TorR (k, k) −→ TorR (k, k) ⊗k TorR (k, k) of Γ-algebras, giving TorR (k, k) a structure of Hopf algebra. The second identifies the composition product as the dual of ∆ under the isomorphism of Hopf algebras
ExtR (k,k) = Homk 􏰁TorR (k,k),k􏰂.
  
INFINITE FREE RESOLUTIONS 101
At that point, a structure theorem due to Milnor and Moore [121] in character- istic 0 and to Andr ́e in characteristic p > 0 (adjusted by Sj ̈odin [145] for p = 2) shows that such a Hopf algebra is the universal enveloping algebra of graded Lie algebra. In fact, these results prove much more: namely, an equivalence (of certain subcategories) of the categories of Γ-Hopf algebras and graded Lie algebras, given in one direction by the universal enveloping algebra functor.
Remark. A graded Lie algebra H∗(R,k,k) is attached to R by the simplicially defined tangent cohomology of Andr ́e and Quillen. There is a homomorphism of graded Lie algebras H∗(R,k,k) −→ π(R), cf. [4]. It is bijective for complete inter- sections, or when char(k) = 0, cf. [133]; when char(k) = p > 0, this holds in degrees ≤ 2p, but not always in degree 2p+1, cf. [7]. The computation of H∗(R, k, k) is very difficult in positive characteristic: for the small ring R = F2[s1, s2]/(s21, s1s2, s2) it requires the book of Goerss [73]; for comparison, π(R) is the free Lie algebra on the 2-dimensional vector space π1(R).
10.3. Applications. Once again, (R, m, k) denotes a local ring.
We relate this chapter to the bulk of the notes by discussing two kinds of ap- plications of π(R) to the study of resolutions. The structure of π(R) is reflected in the Poincar ́e series of finite R–modules. To illustrate the point, we characterize Golod rings in terms of their homotopy Lie algebras.
Example 10.3.1. Let V be a vector space over k. A graded Lie algebra g is free on V , if V ⊆ g and each degree zero k–linear map from V to a graded Lie algebra h extends uniquely to a homomorphism of Lie algebras g −→ h.
It is easy to see that free Lie algebras exist on any V : just take g to be the subspace of the tensor algebra Tk (V ), spanned by all commutators of elements of V , and all squares of elements of Vodd . Using the universal property of Tk(V ) one sees that g is a free Lie algebra on V, and comparing it with that of Uk(g) one concludes that these two algebras coincide.
Avramov [21] and L ̈ofwall [113] prove that R is Golod if and only if π􏰶 2(R) is free, and then it is the free Lie algebra on V = Homk 􏰁Σ H􏰶 1(KR), k􏰂 .
This nicely ‘explains’ the formula (5.0.1) for the Poincar ́e series of k over a Golod ring: f(t) = (1 + t)e is the Hilbert series of the vector space E under- lying the exterior algebra on π1(R) ∼= Homk 􏰁m/m2, k􏰂 ; the expression g(t) = 1/(1−􏰆i rankHi(KR)ti+1) is the Hilbert series of T , the tensor algebra on V , and PRk (t) = f (t)g(t) reflects an isomorphism ExtR (k, k) ∼= T ⊗k E of T –modules.
The bracket and the square in a free Lie algebra are as non-trivial as possible, so the cohomological descriptions of Golod rings above and of complete intersections in Example 10.2.3 put a maximal distance between them (compare Remark 8.1.1.3). However, there exists a level at which these descriptions coalesce: the Lie algebra π􏰶 3(R) is free, because it is trivial in the first case, and because freeness is inherited by Lie subalgebras, cf. [105], in the second.
Remark 10.3.2. It is proved in [28], using results from [24], that the following conditions on a local ring R are equivalent:
(i) π(R) contains a free Lie subalgebra of finite codimension; (ii) for some r ∈ Z, the Lie algebra π􏰶 r(R) is free;
(iii) for some s ∈ Z, the DG algebra R⟨X< s⟩ admits a trivial Massey operation, cf. Remark 5.2.1.

102 L. L. AVRAMOV
When they hold, the ring R is called generalized Golod (of level ≤ s). Such rings abound in small codepth: this is the case when edim R − depth R ≤ 3 (Avramov, Kustin, and Miller [36]), or when edim R − depth R = 4 and R is Gorenstein (Jacobsson, Kustin, and Miller [94]) or an almost complete intersection (Kustin and Palmer [102]). Kustin [99], [100] proves that certain determinantal relations define generalized Golod rings.
Theorem 10.3.3. Let R be a generalized Golod ring of level ≤ s.
(1) There is a polynomial den(t) ∈ Z[t], and for each finite R–module M there is a polynomial q(t) ∈ Z[t], such that PRM (t) = q(t)/den(t); the numerator for M = k divides 􏰢2i+1<s(1 + t2i+1)ε2i+1(R).
(2) If cxR M = ∞, then curvR M = β > 1 and there is a real number α such that βnR(M) ∼ αβn. 􏰱
The first part is proved by Avramov [28], the second by Sun [150]. Both use, among other things, a theorem of Gulliksen [81] that extends Remark 9.2.6.
Theorem 10.3.4. Let R⟨X⟩ be an acyclic closure of k over R. If M is a finite R–module, then for each n ≥ 1 there is a polynomial hn(t) ∈ Z[t], such that
∞ h (t) 􏰈in
rankkHi(M⊗RR⟨X􏰵n⟩)t =􏰢2j≤n(1−t2j)ε2j(R) . 􏰱 i=0
 Theorem 10.3.3, or results that it generalizes, has been used in essentially all cases when the Poincar ́e series is known to be rational for all finite modules. It is difficult to resist asking the next question; a positive answer would be unexpected and very useful; a negative one might be equally interesting, since it would most likely involve unusual constructions.
Problem 10.3.5. If PRM(t) is rational for each M, is then R generalized Golod? Next we describe applications of π(R) that do not make specific assumptions on
its form. They use the following easy consequence of Theorem 10.2.1.
Remark 10.3.6. Let h be a graded Lie subalgebra of π(R). By completing a basis of h to one of π(R), and considering the corresponding basis of normal monomials of Uk(π(R)) = ExtR (k, k) , cf. Theorem 10.2.1, one easily sees that there is an isomorphism Uk(g) ∼= Uk(h)⊗k V of left modules over Uk(h), where V is the tensor product of the exterior algebra on (g/h)odd with the symmetric algebra on (g/h)even. By a simple count of basis elements,
􏰢∞ (1 + t2i−1)l2i−1
ki=1 nn
HV (t) = 􏰢∞i=1(1 − t2i)l2i with l = rankk(g/h) .
 For each R–module M, the vector space ExtR (M,k) is a left module over the universal enveloping algebra ExtR (k, k) : it suffices to make the obvious changes in the construction of cohomology products in Section 10.1. This module structure is the essential tool in the proof of the next result. In fact, it has already been used throughout Chapter 9, in a different guise: over a complete intersection, the actions on ExtR (M, k) of the graded algebras denoted P in Remark 9.2.6 and in Remark 10.2.3 are the same, cf. [37].
Motivated by Proposition 4.2.4.1, we say that a module L over a local ring (R, m, k) is extremal , if cxR L = cxR k and curvR L = curvR k. For instance,

INFINITE FREE RESOLUTIONS 103
Theorems 8.3.3 and 8.3.4 show that (in the graded characteristic zero case) the conormal module and the module of differentials are extremal when R is not a complete intersection. Results from [29] add more instances, among them:
Theorem 10.3.7. If R is a local ring of embedding dimension e, M is a finite R–module and L is a submodule such that L ⊇ mM, then
R eR 􏰚mM􏰛 PL(t)·(1+t) 􏰴Pk(t)·rankk mL .
For miM ⊆ mi−1M, we get a quantitative version of Levin’s characterization of regularity [108]: If mM ̸= 0 and pdR(mM) < ∞, then R is regular:
Corollary 10.3.8. If miM ̸= 0 for some i ≥ 1, then miM is extremal. 􏰏
Corollary 10.3.9. Each non-zero R–module M ̸= k may be obtained as an exten- sion of an extremal R–module by another such module. In particular, the extremal R–modules generate the Grothendieck group of R. 􏰏
Here is another class of extremal modules from [29].
Remark 10.3.10. If N ̸= 0 is a homomorphic image of a finite direct sum of syzygies of k, then cxR N = cxR k and curvR N = curvR k. As a consequence, we get a result of Martsinkovsky [116]: pdR N = ∞, unless R is regular.
Proof of Theorem 10.3.7. The commutative diagram of R–modules
 0 −−−−→
L −−−−→ M −−−−→ N −−−−→ 0
􏰘 􏰘 􏰬􏰬􏰘
L −−−−→ M −−−−→ N −−−−→ 0 mL mL
0 −−−−→
induces a commutative square of homomorphisms of graded left modules
  ′
ð
ExtR (L,k) −−−−→ ExtR (N,k)
􏰫􏰘 􏰘 􏰘
􏰚L􏰛ð
ExtR mL,k −−−−→ ExtR(N,k)
over E = ExtR (k, k) , where ð′ and ð are connecting maps of degree 1. As m annihilates L/mL and N, we have isomorphisms
􏰚L􏰛∼ 􏰚L􏰛 ExtR mL,k =E⊗k Homk mL,k
ExtR (N,k) ∼= E ⊗k Homk (N,k)
of graded E–modules. By Remark 10.3.6, E ∼= U ⊗k 􏰣(π1(R)) as graded left modules over the subalgebra U = Uk(π􏰶 2R). Noting that π1(R) = E1, we can
   
104 L. L. AVRAMOV
rewrite ð as the top map of the commutative diagram 􏰚􏰛
U ⊗k
􏰣1Lð􏰣1
(E )⊗k Homk mL,k −−−−→ U ⊗k (E )⊗k Homk (N,k)
􏰫􏰫 S| S| 
􏰚L􏰛 1
U ⊗k Homk mL,k −−−−→ U ⊗k E ⊗k Homk (N,k)
􏰘􏰫 􏰘 ∼ 􏰘 =
􏰚L􏰛 U⊗kð0 1
U ⊗k Homk mL,k −−−−−→ U ⊗k ExtR (N,k) .
   of homomorphisms of graded left U–modules.
The preceding information combines to yield a commutative square
′
ð
ExtR (L,k) −−−−→ ExtR (N,k)
􏰫􏰫  
􏰚L 􏰛 U⊗kð0 1
U ⊗k Homk mL,k −−−−−→ U ⊗k ExtR (N,k)
of homomorphisms of graded U–modules, with injective right hand vertical arrow. Thus, ExtR (N,k) contains a copy of the free module Σ(U)⊗k Imð0. By the com- mutativity of the square, ExtR (L, k) contains a copy of U ⊗k Im ð0.
On the other hand, a length count in the cohomology exact sequence
􏰚M 􏰛 􏰚L 􏰛ð0 1
0 −→ HomR (N,k) −→ HomR mL,k −→ HomR mL,k −→ ExtR (N,k)
yields rankk ð0 = rankk(mM/mL). Thus, PRL(t) 􏰴 rankk(mM/mL) · HkU(t). To finish the proof, multiply this inequality by (1 + t)e, then simplify the right hand side by using the equality (1 + t)e · HkU (t) = PRk (t) from 10.3.6. 􏰏
   
INFINITE FREE RESOLUTIONS 105
References
[1] S. S. Abhyankar, Local rings of high embedding dimension, Amer. J. Math. 89 (1967), 1073–1077.
[2] J. Alperin, L. Evens, Representations, resolutions, and Quillen’s dimension theorem, J. Pure Appl. Algebra 22 (1981), 1–9.
[3] M. Andr ́e, M ́ethode simpliciale en alg`ebre homologique et alg`ebre commutative, Lecture Notes Math. 32, Springer, Berlin, 1967.
[4] M. Andr ́e, L’alg`ebre de Lie d’un anneau local, Symp. Math. 4, (INDAM, Rome, 1968/69), Academic Press, London, 1970; pp. 337–375.
[5] M. Andr ́e, Hopf algebras with divided powers, J. Algebra 18 (1971), 19–50.
[6] M. Andr ́e, Homologie des alg`ebres commutatives, Grundlehren Math. Wiss. 204, Springer,
Berlin, 1974.
[7] M. Andr ́e, La (2p + 1)`eme d ́eviation d’un anneau local, Enseignement Math. (2) 23 (1977),
239–248.
[8] M. Andr ́e, Alg`ebre homologique des anneaux locaux `a corps r ́esiduels de caract ́eristique deux,
S ́em. d’Alg`ebre P. Dubreil, Paris, 1979 (M.-P. Malliavin, ed.), Lecture Notes Math. 740,
Springer, Berlin, 1979; pp. 237–242.
[9] M. Andr ́e, Le caract`ere additif des d ́eviations des anneaux locaux, Comment. Math. Helv.
57 (1982), 648–675.
[10] D. Anick, Constructions d’espaces de lacets et d’anneaux locaux `a s ́eries de Poincar ́e-Betti
non rationnelles, C. R. Acad. Sci. Paris S ́er. A 290 (1980), 729–732.
[11] D. Anick, Counterexample to a conjecture of Serre, Ann. of Math. (2) 115 (1982), 1–33;
Comment, ibid. 116 (1982), 661.
[12] D. Anick, Recent progress in Hilbert and Poincar ́e series, Algebraic topology. Rational
homotopy, Louvain-la-Neuve, 1986 (Y. F ́elix, ed.), Lecture Notes Math. 1318, Springer,
Berlin, 1988; pp. 1–25.
[13] D. Anick, T. H. Gulliksen, Rational dependence among Hilbert and Poincar ́e series, J. Pure
Appl. Algebra 38 (1985), 135–158.
[14] A. G. Aramova, J. Herzog, Koszul cycles and Eliahou-Kervaire type resolutions, J. Algebra
181 (1996), 347–370.
[15] E. F. Assmus, Jr., On the homology of local rings, Illinois J. Math. 3 (1959), 187–199.
[16] M. Auslander, Modules over unramified regular local rings, Illinois J. Math. 5 (1961), 631–
647.
[17] M. Auslander, D. A. Buchsbaum, Codimension and multiplicity, Ann. of Math. (2) 68
(1958), 625–657; Corrections, ibid, 70 (1959), 395–397.
[18] L. L. Avramov, On the Hopf algebra of a local ring, Math USSR-Izv. 8 (1974), 259–284;
[translated from:] Izv. Akad. Nauk. SSSR, Ser. Mat. 38 (1974), 253–277 [Russian].
[19] L. L. Avramov, Flat morphisms of complete intersections, Soviet Math. Dokl. 16 (1975),
1413–1417; [translated from:] Dokl. Akad. Nauk. SSSR, 225 (1975), 11–14 [Russian].
[20] L. L. Avramov, Homology of local flat extensions and complete intersection defects, Math.
Ann. 228 (1977), 27–37.
[21] L. L. Avramov, Small homomorphisms of local rings, J. Algebra 50 (1978), 400–453.
[22] L. L. Avramov, Obstructions to the existence of multiplicative structures on minimal free
resolutions, Amer. J. Math. 103 (1981), 1–31.
[23] L. L. Avramov, Local algebra and rational homotopy, Homotopie alg ́ebrique et alg`ebre locale;
Luminy, 1982 (J.-M. Lemaire, J.-C. Thomas, eds.) Ast ́erisque 113-114, Soc. Math. France,
Paris, 1984; pp. 15–43.
[24] L. L. Avramov, Golod homomorphisms, Algebra, algebraic topology, and their interac-
tions; Stockholm, 1983 (J.-E. Roos, ed.), Lecture Notes Math. 1183, Springer, Berlin, 1986;
pp. 56–78.
[25] L. L. Avramov, Modules of finite virtual projective dimension, Invent. Math. 96 (1989),
71–101.
[26] L. L. Avramov, Homological asymptotics of modules over local rings, Commutative algebra;
Berkeley, 1987 (M. Hochster, C. Huneke, J. Sally, eds.), MSRI Publ. 15, Springer, New York 1989; pp. 33–62.

106 L. L. AVRAMOV
[27] L. L. Avramov, Problems on infinite free resolutions, Free resolutions in commutative al- gebra and algebraic geometry; Sundance, 1990 (D. Eisenbud, C. Huneke, eds.), Res. Notes Math. 2, Jones and Bartlett, Boston 1992, pp. 3–23.
[28] L. L. Avramov, Local rings over which all modules have rational Poincar ́e series, J. Pure Appl. Algebra 91 (1994), 29–48.
[29] L. L. Avramov, Modules with extremal resolutions, Math. Res. Lett. 3 (1996), 319–328.
[30] L. L. Avramov, Locally complete intersection homomorphisms, and a conjecture of Quillen
on the vanishing of cotangent homology, Ann. of Math. 150 (1999), 455–487.
[31] L. L. Avramov, R.-O. Buchweitz, Homological algebra modulo a regular sequence with special
attention to codimension two, J. Algebra, 230 (2000), 24–67.
[32] L. L. Avramov, V. N. Gasharov, I. V. Peeva, Complete intersection dimension, Publ. Math.
I.H.E.S. 86 (1997), 67–114.
[33] L. L. Avramov, S. Halperin, Through the looking glass: A dictionary between rational homo-
topy theory and local algebra, Algebra, algebraic topology, and their interactions; Stockholm,
1983 (J.-E. Roos, ed.), Lecture Notes Math. 1183, Springer, Berlin, 1986; pp. 1–27.
[34] L. L. Avramov, S. Halperin, On the non-vanishing of cotangent cohomology, Comment.
Math. Helv. 62 (1987), 169–184.
[35] L. L. Avramov, J. Herzog, Jacobian criteria for complete intersections. The graded case,
Invent. Math. 117 (1994), 75–88.
[36] L. L. Avramov, A. R. Kustin, and M. Miller, Poincar ́e series of modules over local rings of
small embedding codepth or small linking number, J. Algebra 118 (1988), 162–204.
[37] L. L. Avramov, L.-C. Sun, Cohomology operators defined by a deformation, J. Algebra 204
(1998), 684–710.
[38] I. K. Babenko, On the analytic properties of Poincar ́e series of loop spaces, Math. Notes
29 (1980), 359–366; [translated from:] Mat. Zametki 27 (1980), 751–765 [Russian].
[39] I. K. Babenko, Problems of growth and rationality in algebra and topology, Russian Math. Surv. 29 (1986F), no. 2, 95–142; [translated from:] Uspekhi Mat. Nauk 41 (1986), no. 2,
95–142 [Russian].
[40] D. Bayer, M. E. Stillman, Macaulay, A computer algebra system for computing in
Algebraic Geometry and Computer Algebra, 1990; available via anonymous ftp from
zariski.harvard.edu.
[41] D. Benson, Representations and cohomology. I; II, Cambridge Stud. Adv. Math. 31; 32,
Cambridge Univ. Press, Cambridge, 1991.
[42] A. Bigatti, Upper bounds for the Betti numbers of a given Hilbert function, Comm. Algebra
21 (1993), 2317–2334.
[43] A. Blanco, J. Majadas, A. G. Rodicio, On the acyclicity of the Tate complex, J. Pure Appl.
Algebra 131 (1998), 125–132.
[44] R. Bøgvad, Gorenstein rings with transcendental Poincar ́e series, Math. Scand. 53 (1983),
5–15.
[45] N. Bourbaki, Alg`ebre, X. Alg`ebre homologique, Masson, Paris, 1980.
[46] W. Bruns, J. Herzog, Cohen-Macaulay rings, Cambridge Stud. Adv. Math. 39, Cambridge
Univ. Press, Cambridge, 1993.
[47] D. A. Buchsbaum, D. Eisenbud, Algebra structures for finite free resolutions, and some
structure theorems for ideals of codimension 3, Amer. J. Math. 99 (1977), 447–485.
[48] R.-O. Buchweitz, G.-M. Greuel, F.-O. Schreyer, Cohen-Macaulay modules on hypersurface
singularities. II, Invent. Math. 88 (1987), 165–182.
[49] L. Carroll, Through the looking glass and what Alice found there, Macmillan, London, 1871.
[50] H. Cartan, Alg`ebres d’Eilenberg-MacLane, Expos ́es 2 `a 11, S ́em. H. Cartan, E ́c. Normale
Sup. (1954–1955), Secr ́etariat Math., Paris, 1956; [reprinted in:] Œvres, vol. III, Springer,
Berlin, 1979; pp. 1309–1394.
[51] H. Cartan, S. Eilenberg, Homological Algebra, Princeton Univ. Press, Princeton, NJ, 1956.
[52] S. Choi, Betti numbers and the integral closure of ideals, Math. Scand. 66 (1990), 173–184.
[53] S. Choi, Exponential growth of Betti numbers, J. Algebra 152 (1992), 20–29.
[54] J. A. Eagon, M. Fraser, A note on the Koszul complex, Proc. Amer. Math. Soc. 19 (1968),
251–252.
[55] S. Eilenberg, Homological dimension and syzygies, Ann. of Math. (2) 64 (1956), 328–336.
[56] S. Eilenberg, S. MacLane, On the groups H(Π, n). I, Ann. of Math. (2) 58 (1953), 55–106.

INFINITE FREE RESOLUTIONS 107
[57] D. Eisenbud, Homological algebra on a complete intersection, with an application to group representations, Trans. Amer. Math. Soc. 260 (1980), 35–64.
[58] D. Eisenbud, Commutative algebra, with a view towards algebraic geometry, Graduate Texts Math. 150, Springer, Berlin, 1995.
[59] D. Eisenbud, S. Goto, Linear free resolutions and minimal multiplicity, J. Algebra 88 (1984), 89–133.
[60] S. Eliahou, M. Kervaire, Minimal resolutions of some monomial ideals, J. Algebra 129 (1990), 1–25.
[61] E. G. Evans, P. Griffith, Syzygies, London Math. Soc. Lecture Notes Ser. 106, Cambridge Univ. Press, Cambridge, 1985.
[62] L. Evens, The cohomology of groups, Oxford Math. Monographs, Clarendon Press, Oxford, 1991.
[63] C. T. Fan, Growth of Betti numbers over noetherian local rings, Math. Scand. 75 (1994), 161–168.
[64] Y. F ́elix, S. Halperin Rational L.-S. category and its applications, Trans. Amer. Math. Soc. 273 (1982), 1–37.
[65] Y. F ́elix, S. Halperin, C. Jacobsson, C. L ̈ofwall, J.-C. Thomas, The radical of the homotopy Lie algebra, Amer. J. Math., 110 (1988), 301–322.
[66] Y. F ́elix, S. Halperin, J.-C. Thomas, The homotopy Lie algebra for finite complexes, Publ. Math. I.H.E.S. 56 (1982), 179–202.
[67] Y. F ́elix, J.-C. Thomas, The radius of convergence of the Poincar ́e series of loop spaces, Invent. Math. 68 (1982), 257–274.
[68] D. Ferrand, Suite r ́eguli`ere et intersection compl`ete, C. R. Acad. Sci. Paris S ́er. A 264 (1967), 427–428.
[69] R. Fr ̈oberg, T. H. Gulliksen, C. L ̈ofwall, Flat families of local, artinian algebras, with an in- finite number of Poincar ́e series, Algebra, algebraic topology, and their interactions; Stock- holm, 1983 (J.-E. Roos, ed.), Lecture Notes Math. 1183, Springer, Berlin, 1986; pp. 56–78.
[70] V. N. Gasharov, I. V. Peeva, Boundedness versus periodicity over commutative local rings, Trans. Amer. Math. Soc, 320 (1990), 569–580.
[71] I. M. Gelfand, A. A. Kirillov, Sur les corps li ́es aux alg`ebres enveloppantes des alg`ebres de Lie, Publ. Math. I.H.E.S., 31 (1966), 509–523.
[72] F. Ghione, T. H. Gulliksen, Some reduction formulas for Poincar ́e series of modules, Atti Accad. Naz. Lincei Mem. Cl. Sci. Fis. Mat. Nat. (8) 58 (1975), 82–91.
[73] P. G. Goerss, On the Andr ́e-Quillen cohomology of commutative F2–algebras, Ast ́erisque 186, Soc. Math. France, Paris, 1990.
[74] E. S. Golod, On the homologies of certain local rings, Soviet Math. Dokl. 3 (1962), 745–748; [translated from:] Dokl. Akad. Nauk. SSSR, 144 (1962), 479–482 [Russian].
[75] E. H. Gover, M. Ramras, Increasing sequences of Betti numbers, Pacific J. Math. 87 (1980), 65–68.
[76] V. K. A. M. Gugenheim, J. P. May, On the theory and applications of differential torsion products, Mem. Amer. Math. Soc, 142, Amer. Math. Soc., Providence, RI, 1974.
[77] T. H. Gulliksen, A proof of the existence of minimal algebra resolutions, Acta Math. 120 (1968), 53–58.
[78] T. H. Gulliksen, A homological characterization of local complete intersections, Compositio Math. 23 (1971), 251–255.
[79] T. H. Gulliksen, Massey operations and the Poincar ́e series of certain local rings, J. Algebra 22 (1972), 223–232.
[80] T. H. Gulliksen, A change of ring theorem with applications to Poincar ́e series and inter- section multiplicity, Math. Scand. 34 (1974), 167–183.
[81] T. H. Gulliksen, On the Hilbert series of the homology of differential graded algebras, Math. Scand. 46 (1980), 15–22.
[82] T. H. Gulliksen, On the deviations of a local ring, Math. Scand. 47 (1980), 5–20.
[83] T. H. Gulliksen, G. Levin, Homology of local rings, Queen’s Papers Pure Appl. Math. 20,
Queen’s Univ., Kingston, ON, 1969
[84] S. Halperin, On the non-vanishing of the deviations of a local ring, Comment. Math. Helv.
62 (1987), 646–653.
[85] R. Heitmann, A counterexample to the rigidity conjecture for rings, Bull. Amer. Math. Soc.
(New Ser.) 29 (1993), 94–97.

108 L. L. AVRAMOV
[86] J. Herzog, Komplexe, Aufl ̈osungen, und Dualit ̈at in der lokalen Algebra, Habilitationsschrift, Regensburg, 1973.
[87] J. Herzog, B. Ulrich, J. Backelin, Linear maximal Cohen-Macaulay modules over strict complete intersections, J. Pure Appl. Algebra 71 (1991), 187–201.
[88] D. Hilbert, U ̈ber die Theorie der algebraischen Formen, Math. Ann. 36 (1890) 473–534; [reprinted in:] Gesammelte Abhandlungen, Band II: Algebra, Invariantentheorie, Geometrie, Springer, Berlin, 1970; pp. 199–257.
[89] M. Hochster, Topics in the homological study of modules over commutative rings, CBMS Regional Conf. Ser. in Math. 24, Amer. Math. Soc., Providence, RI, 1975.
[90] H. Hulett, Maximum Betti numbers of homogeneous ideals with a given Hilbert function, Comm. Algebra 21 (1993), 2335–2350.
[91] C. Huneke, R. Wiegand, Tensor products of modules, rigidity and local cohomology, Math. Scand. 81 (1997), 161–183.
[92] S. Iyengar, Free resolutions and change of rings, J. Algebra, 190 (1997), 195–213.
[93] C. Jacobsson, Finitely presented graded Lie algebras and homomorphisms of local rings, J.
Pure Appl. Algebra 38 (1985), 243–253.
[94] C. Jacobsson, A. R. Kustin, and M. Miller, The Poincar ́e series of a codimension four
Gorenstein ideal is rational, J. Pure Appl. Algebra 38 (1985), 255–275.
[95] D. A. Jorgensen, Complexity and Tor on a complete intersection, J. Algebra 211 (1999),
578–598.
[96] R. Kiehl, E. Kunz, Vollst ̈andige Durchschnitte und p-Basen, Arch. Math. (Basel), 16 (1965),
348–362.
[97] A. R. Kustin, Gorenstein algebras of codimension four and characteristic two, Comm. Al-
gebra 15 (1987), 2417-2429.
[98] A. R. Kustin, The minimal resolution of a codimension four almost complete intersection
is a DG algebra, J. Algebra 168 (1994), 371–399.
[99] A. R. Kustin, The deviation two Gorenstein rings of Huneke and Ulrich, Commutative
algebra, Trieste, 1994 (A. Simis, N. V. Trung, G. Valla, eds.), World Scientific, Singapore,
1994; pp. 140-163.
[100] A. R. Kustin, Huneke-Ulrich almost complete intersections of Cohen-Macaulay type two, J.
Algebra 174 (1995), 373–429.
[101] A. R. Kustin, M. Miller, Algebra structures on minimal resolutions of Gorenstein rings of
embedding codimension four, Math. Z. 173 (1980), 171–184.
[102] A. R. Kustin, S. Palmer Slattery, The Poincar ́e series of every finitely generated module
over a codimension four almost complete intersection is a rational function, J. Pure Appl.
Algebra 95 (1994), 271–295.
[103] T. Larfeldt, C. Lech, Analytic ramification and flat couples of local rings, Acta Math. 146
(1981), 201–208.
[104] C. Lech, Inequalities related to certain couples of local rings, Acta Math. 112 (1964), 69–89.
[105] J.-M. Lemaire, Alg`ebres connexes et homologie des espaces de lacets, Lecture Notes Math.
422, Springer, Berlin, 1974.
[106] J. Lescot, Asymptotic properties of Betti numbers of modules over certain rings, J. Pure
Appl. Algebra 38 (1985), 287–298.
[107] J. Lescot, S ́eries de Poincar ́e et modules inertes, J. Algebra 132 (1990), 22–49.
[108] G. Levin, Homology of local rings, Ph. D. Thesis, Univ. of Chicago, Chicago, IL, 1965.
[109] G. Levin, Local rings and Golod homomorphisms, J. Algebra 37 (1975), 266–289.
[110] G. Levin, Lectures on Golod homomorphisms, Matematiska Istitutionen, Stockholms Uni-
versitet, Preprint 15, 1975.
[111] G. Levin, Modules and Golod homomorphisms, J. Pure Appl. Algebra 38 (1985), 299–304.
[112] S. Lichtenbaum, On the vanishing of Tor in regular local rings, Illinois J. Math. 10 (1966),
220–226.
[113] C. L ̈ofwall, On the subalgebra generated by the one-dimensional elements in the Yoneda Ext-
algebra, Algebra, algebraic topology, and their interactions; Stockholm, 1983 (J.-E. Roos,
ed.), Lecture Notes Math. 1183, Springer, Berlin, 1986; pp. 291–338.
[114] C. L ̈ofwall, J.-E. Roos, Cohomologie des alg`ebres de Lie gradu ́ees et s ́eries de Poincar ́e-Betti
non-rationnelles, C. R. Acad. Sci. Paris S ́er. A 290 (1980), 733–736.
[115] S. MacLane, Homology, Grundlehren Math. Wiss. 114 Springer, Berlin, 1967.

[116] [117]
[118] [119]
[120] [121] [122]
[123] [124] [125]
[126] [127] [128]
[129] [130] [131] [132]
[133]
[134] [135] [136]
[137]
[138]
[139] [140]
[141]
[142] [143] [144] [145] [146]
[147] [148] [149]
INFINITE FREE RESOLUTIONS 109
A. Martsinkovsky, A remarkable property of the (co)syzygy modules of the residue field of a non-regular local ring, J. Pure Appl. Algebra 111 (1996), 9–13.
H. Matsumura, Commutative ring theory, Cambridge Stud. Adv. Math. 8, Cambridge Univ. Press, Cambridge, 1986.
J. P. May, Matric Massey products, J. Algebra 12 (1969), 533–568.
V. Mehta, Endomorphisms of complexes and modules over Golod rings, Ph. D. Thesis, Univ. of California, Berkeley, CA, 1976.
C. Miller, Complexity of tensor products of modules and a theorem of Huneke-Wiegand, Proc. Amer. Math. Soc. 126 (1998), 53–60.
J. W. Milnor, J. C. Moore, On the structure of Hopf algebras, Ann. of Math. (2) 81 (1965), 211–264.
J. C. Moore Alg`ebre homologique et homologie des espaces classifiants, Expos ́e 7, S ́em. H. Cartan, E ́c. Normale Sup. (1959–1960), Sect ́etariat Math., Paris, 1957.
M. P. Murthy, Modules over regular local rings, Illinois J. Math. 7 (1963), 558–565.
M. Nagata, Local rings, Wiley, New York, 1962.
D. G. Northcott, Finite free resolutions, Tracts in Pure Math., 71, Cambridge Univ. Press, Cambridge, 1976.
S. Okiyama, A local ring is CM if and only if its residue field has a CM syzygy, Tokyo J. Math. 14 (1991), 489–500.
S. Palmer Slattery, Algebra structures on resolutions of rings defined by grade four almost complete intersections, J. Algebra 168 (1994), 371–399.
K. Pardue, Deformation classes of graded modules and maximal Betti numbers, Illinois J. Math. 40 (1996), 564–585.
I. Peeva, 0-Borel fixed ideals, J. Algebra 184 (1996), 945–984.
I. Peeva, Exponential growth of Betti numbers, J. Pure. Appl. Algebra 126 (1998), 317–323. D. Quillen, Rational homotopy theory, Ann. of Math. (2) 90 (1969), 205–295.
D. Quillen, The spectrum of an equivariant cohomology ring I; II, Ann. of Math. (2) 94 (1971), 549–572; 573–602.
D. Quillen, On the (co-)homology of commutative rings, Applications of categorical algebra; New York, 1968 (A. Heller, ed.), Proc. Symp. Pure Math. 17, Amer. Math. Soc., Providence, RI, 1970; pp. 65–87.
M. Ramras, Sequences of Betti numbers, J. Algebra 66 (1980), 193–204.
M. Ramras, Bounds on Betti numbers, Can. J. Math. 34 (1982), 589–592.
P. Roberts, Homological invariants of modules over commutative rings, S ́em. Math. Sup., 72, Presses Univ. Montr ́eal, Montr ́eal, 1980.
J.-E. Roos, Relations between the Poincar ́e-Betti series of loop spaces and local rings, S ́em. d’Alg`ebre P. Dubreil; Paris, 1977-78 (M.-P. Malliavin, ed.), Lecture Notes Math. 740, Springer, Berlin, 1979; pp. 285–322.
J.-E. Roos, Homology of loop spaces and of local rings, Proc. 18th Scand. Congr. Math.  ̊Arhus, 1980 (E. Balslev, ed.), Progress Math. 11, Birkh ̈auser, Basel, 1982; pp. 441–468.
G. Scheja, U ̈ber die Bettizahlen lokaler Ringe, Math. Ann. 155 (1964), 155–172.
C. Schoeller, Homologie des anneaux locaux noeth ́eriens, C. R. Acad. Sci. Paris S ́er. A 265 (1967), 768–771.
J.-P. Serre, Sur la dimension homologique des anneaux et des modules noeth ́eriens, Proc. Int. Symp., Tokyo-Nikko (1956), pp. 175-189.
J.-P. Serre, Alg`ebre locale. Multiplicit ́es, Lecture Notes Math. 11 Springer, Berlin, 1965.
J. Shamash, The Poincar ́e series of a local ring, J. Algebra 12 (1969), 453–470.
G. Sj ̈odin, A set of generators for ExtR (k, k) , Math. Scand. 38 (1976), 1–12.
G. Sj ̈odin, Hopf algebras and derivations, J. Algebra 64 (1980), 218–229.
H. Srinivasan, The non-existence of a minimal algebra resolutions despite the vanishing of Avramov obstructions, J. Algebra 146 (1992), 251–266.
H. Srinivasan, A grade five Gorenstein algebra with no minimal algebra resolutions, J. Algebra 179 (1996), 362–379.
D. Sullivan, Infinitesimal computations in topology, Publ. Math. I.H.E.S. 47 (1978), 269– 331.
L.-C. Sun, Growth of Betti numbers of modules over rings of small embedding codimension or small linkage number, J. Pure Appl. Algebra, 96 (1994), 57–71.

110
[150]
[151] [152]
[153]
[154] [155] [156]
[157]
[158] [159]
L. L. AVRAMOV
L.-C. Sun, Growth of Betti numbers of modules over generalized Golod rings, J. Algebra 199 (1998), 88–93.
J. Tate, Homology of noetherian rings and local rings, Illinois J. Math. 1 (1957), 14–25. H. Uehara, W. S. Massey, The Jacobi identity for Whitehead products, Algebraic geometry and topology. A symposium in honor of S. Lefschetz, Princeton Univ. Press, Princeton, NJ, 1957; pp. 361–377.
V. A. Ufnarovskij, Combinatorial and asymptotic methods in algebra, Encyclopaedia of Math. Sci. 57, Springer, Berlin, 1995; pp. 1–196; [translated from:] Current problems in mathematics. Fundamental directions, 57, Akad. Nauk SSSR, VINITI, Moscow, 1990. pp. 5– 177 [Russian].
W. V. Vasconcelos, Ideals generated by R–sequences, J. Algebra 6 (1970), 309–316.
W. V. Vasconcelos, On the homology of I/I2, Comm. Algebra 6 (1978), 1801–1809.
W. V. Vasconcelos, The complete intersection locus of certain ideals, J. Pure Appl. Algebra, 38 (1986), 367–378.
J. Watanabe, A note on Gorenstein rings of embedding codimension three, Nagoya Math. J. 50 (1973), 227–232.
H. Wiebe, U ̈ber homologische Invarianten lokaler Ringe, Math. Ann. 179 (1969), 257–274. K. Wolffhardt, Die Betti-Reihe und die Abweichungen eines lokalen Rings, Math. Z. 114 (1970), 66–78.

acyclic closure, 57 graded, 78
anti-commutativity, 94
associative DG algebra, 12 Auslander-Buchsbaum Equality, 10
generalized, 96 Auslander-Buchsbaum-Serre
Theorem, 35
bar construction, 26 Betti number, 9
graded, 11
canonical bimodule structure, 55 chain map, 6
codimension, 33
codepth, 33
Cohen Structure Theorem, 34 complex, 6
bounded below, 6
minimal, 7
complexity, 36
complete intersection defect, 68 complete intersection ring, 66 composition product, 93 conormal module, 77 curvature, 37
decomposable differential, 62, 78 decomposable Γ-monomial, 56 degree, 6
internal, 11 derivation, Γ-, 55
chain, 55
universal, 56
deviation, 61
DG algebra, 11
DG algebra resolution, 15 DG Lie algebra, 95
DG module, 12
DG module resolution 19 differentials, 78 differentials, Γ- 56
divided powers variable, 51
Eisenbud operators, 84 embedding dimension, 33 essential augmentation, 36 Euler morphism, 79
Ext algebra, 93 exterior variable, 17 extremal module, 100
free resolution, 7
Golod ring, 43 generalized, 100 Golod module, 48
graded algebra, 12 module over, 12
graded commutator, 94 graded Lie algebra, 94
free, 99
graded module, 11 graded resolution, 11 graded ring, 11
higher homotopies, 25 Hilbert series, 59 homomorphism, 6, 12 homotopy, 6, 12 homotopy class, 12 homotopy Lie algebra, 96 hypersurface ring, 42
indecomposables, Γ-, 56 indexing sequence, 57, 95 irrelevant maximal ideal, 11
Jacobi identity, 94
Koszul complex, 7 Ku ̈nneth Theorem, 14
Leibniz rule, 11
Lie bracket, 94
lifting property, 12, 17 local homomorphism, 9
mapping cone, 7 Massey operation, 44 matrix factorization, 42 minimal DG algebra, 62 minimal model, 63
graded, 78
minimal multiplicity ring, 47 minimal resolution, 8
graded, 11 morphism, 6, 12
normal monomial, 95 normal Γ-monomial, 55
obstructions, 29
Poincar ́e series, 30 two variable, 46
polynomial variable, 17 pro jective resolution, 7 pro jective dimension, 7
quasi-isomorphism, 6
rank, 31
reduced square 94 regular element, 51 regular presentation, 34
Index
111

112
regular ring, 33 regular sequence, 53 resolvent, 18
semi-free DG module, 12 semi-free extension, 17 semi-free Γ-extension, 51 shift, 7
spectral sequence Cartan-Eilenberg, 28 Eilenberg-Moore, 29 Lescot, 28
standard basis, 55
L. L. AVRAMOV
standard resolution, 26 syzygy, 9
Tate resolution, 52 tensor product, 6, 12 Tor algebra, 21
Tor module, 22 translate, 11
underlying module, 6
universal enveloping algebra, 94
variable, Γ , 51
virtual pro jective dimension , 89
  JOURNAL OF ALGEBRA 50, 400-453 (1978)
  Small Homomorphisms of Local Rings LUCIIEZAR I,. AVRAMOV
    Let 9 be a (Noetherian unitary) local ring with maximal ideal 11~and residue field k = .-I/m. It is by now a well-known and variously attributed conjecture, that the Poincarb series
represents a rational function. This has indeed been proved for several classes of local rings (cf. [3, 17-19, 23, 24, 33, 40, 43-461).
An alternate way to view these results is to interpret them as “change of rings” theorems. In fact, replacing if neccssar! .-I by its nt-adic completion, one can assume that iz is a homomorphic image of a regular local ring R ((‘ohen’s theorem). Results on the rationality of P,, arc then formulated as assertions concerning P,/P,l , since P, 7 (I -+ 2.)’I’‘rllR [431. It is natural to seek information on the relation of P, to PA , for L,l an arbitrary local ring and R a quotient ring of rl. In particular, one can ask the question: “M’hen is P,,/P, rational ?“. having in mind that the answer would bc “alwavs_” if the rationalitv conjecture turns true. However, at the present state of knowledge, such a question cles~rvcs attention for at least two reasons, apart from its possible intrinsic interest. First, having sufficient conditions ensuring the rationality of P.,/P, , one can produce new examples of local rings satisfying the rationality conjecture, starting with anv ring A, for which the conjecture is known to hold. Second, which is more important, considerations in the present more general setup lead to the discovery of new classes of rings with rational I’oincarC series.
We now list the main results of this paper. I,et (i3, nt) be an arbitrary local ring, x1 ,..., s,, and 3~~,... ,y,, be .I-sequences, u be an T Y s matrix (T :T’ s) with entries in nt. Denote by x (resp. 1)) the idcal (x1 ,..., x,,) (resp. (vl ,..., T,,,)) and by Jt(z() the ideal generated by the I x t minors of N. For an ideal n satisfying
0021-8693;78/0502-0400502.00/0
Copyright0 1978byAcademicPress,Inc. All rightsofreproductionin anyformreserved.
          400
 
  SMALL HOMOMORPHISMS OF LOCAL RIXGS 401 one of the following conditions, PA/PA ‘a is an explicitly computed polynomial:
pd,A/n < 2 (Theorem 7.1);
pd,A/a = 3 and a is generated by 3 elements (Theorem 7.2);
 (a)
(b)
(c) pdJ/a == 3 and a is Gorenstein (Theorem 8.2);
  (d) (c) (f)
(4
(I is generated by monomials of degree <2 in the s,‘s (Theorem 6.3); 1-2is Gorenstein, n == m, x C 1) and n -= (X : 11)(Corollary 6.11);
0 = XI’, or 0 = I,.(U) with depth (I = s -- Y-+ 1(Theorem 6.7);
(I :: xi’ ~1 1)” and depth (X + 1~) _= II T nz (Corollary 6.9);
  (h) (Theorem 8.9).
a = I,.+,(u), Y = s, depth n Z= 4, and the characteristic of k is not 2
\Vhen =1 is regular, (a), (c), (f), (g) are known, as are some very special casts of (d) and (e) (references are given in the text); (b) and (h) are completely new even for regular rings.
Our method of proof originated from a close inspection of the propel-ties of the surjectivc change of rings li + *J, when R is regular local of minimal dimension (equal to the embedding dimension of -4). For the study of this situation, the author developed in [2] an approach based on l’:ilenbel-g~:\Ioore spectral sequences. In particular, it was proved in [2], that P, is cc~mpletcly determined by the embedding dimension of -4, and the homology of the Koszul complex of .-1 (isomorphic to ‘To@(-d, k)), as an algebra with (matric) >Iasse! products.
In this paper we single out quotient rings B of --J, for which the algebra To@(B, /<) plays, in the change of rings .--1--f R, a role similar to the Koszul complex homology in the above situation. The existence of such quotients is a delicate problem, considered in Section 4. For technical reasons, we shall consider a larger class of homomorphisms than is provided 1~~factoriz:ltions. \I‘c \vork in the category- of local rings over k, in which the ob-jects arc local rings having residue field k, and the homomorphisms arc commutati\-c triangles k ----+:3 -* R + li; note, that a homomorphism over /i is necessarily Ioc;~l.
DEFINITION. A homomorphism ,f: il -+ B of local rings over R is called small, if the induced map:
f* A:Torf(k, 1~):‘ror-‘(lr, k) --t Tor*(k, k)
is inject& An ideal a C A is called small, if A 4 Zl,‘a is a small homomorphism. By duality, f is small if and only if f *: Ext,(k, k) --f Ext,(h, h) is surjectirc. Our choice of terminology needs a word of explanation. It is provided by
Levin’s theorem, reducing the rationality conjecture to the case of zero-dimen- sional [33]. In his proof he shows that any ideal contained in a small enough
            
  402 LUCHEZAR L. AVRAMOV
 IIt-adic neighborhood of (0) is small in the sense of the abox definition. In the alternate interpretation referred to above, this part of I,e\in’s theorem asserts that an\’ Toneda class of n-terms exact sequences of /I-modules from k to h contains an n-terms exact sequence consisting of i;l-modules of finite length. This paper consists of two parts, preceded by a zero section (preliminaries).
In the first part (Sections l--5), general properties of small homomorphisms are established, including a change of rings spectral sequence, a discussion of the Golod homomorphisms introduced 1~1.Levin (Sections 2 and 3j, and a Kiinneth spectral sequence (Section 5). In an Appendix located at the end of the paper, this material is used to establish a curious propert!, of the minimal resolutions of submodules contained in lnl‘!ll (,\I finitely generated, I big). The change of rings results listed abovc are ohtaincd in the second part (Sections 6&9), hy applying the general theory, usually via the useful Theorem 6.2, reducing man! computations to wry explicit “generic” situations.
I wish to finish this introduction b\- expressing mv gratitude to Gerson .
Ix\-in, for sending mc a preprint of [33] ,_and for several very useful discussions.
0. PRELI~IIXARIES
0.1. *All rings in this paper arc commutative, Noctherian, and unitary. --I will always denote a local ring with maximal ideal nt and residue field k; n-c shall occasionally use notations (.1, IN) and (A, in, k) to describe this situation. Escept for Section 2, all unadorned tensor products are taken over ,-I.
0.2. All modules are unitary. If Jf is a finitely generated module, dim -11 denotes its Krull dimension, and depth (a, M) is the length of a maximal .I/-regular sequence contained in the idcal 11;as usual, depth (a, -3) is abbreviated
to depth (1.and depth(m, M) to depth ;\I. An ideal generated by an .q-sequence is called a complete intersection.
0.3, Graded objects are taken in the sense of 1Ioore [37] or AIacl,ane [34], i.~., a graded .-I-module is a collection of d-modules .I[,, (H - Z). ;\Ioreo\-cr, xvc’ shall consider onI!- modules with one-side grading, i.c., .I!, 0 tither for i 0 (positive grading) or for i . I 0 (negative grading). ,4 homomorphism of graded mc~dules is ;I degree zero 2-i-linear map. ;Il,@will denote the graded dual of II: (.I/.) , IIon ,,(:lj7; , =I). In the sequel all graded modules are assumed loc,~ll~,-of tinite t!yx: .II, is finitely r(cncrated for each i.
0.4. .I graded algebra is a graded -I-module 11 \vith structure map 71:=1--> ;I and associative unitary multiplication EL:-4 @Jil ~+il. An algebra is conncctcd n-hen 7 is an isomorphism .I Y A,, ; the projection C: .1 + /z g&s k a natul-al structure of /l-module for any connected algebra il. l-nless othcrwisc stated. an algebra is assumed (strictly) commutative, that is .YJ’
                
  SMALL HOhlOIblORPHISMS OF LOCAL RINGS 403
 de!A(.~)~tleL!(~/) Jcy and x2 _ 0 if deg(s)
is odd. For F a free graded &d-module we shall denote bv I;(F) the free commutative algebra on F, i.e., the tensor product of the exterior algebra on the submodule of elements of odd degree and
the symmetric algebra on the submodule of elements of even degree.
.A graded fl-module is the usual thing [34, Chap. \‘I; 371. hlodules ox-er a commutative algebra are two sided and symmetric: snz = (-l)deg(s)‘(teg(‘Ji) MY
(s E /I, m t al). Our assumptions on local finiteness in 0.3 permit the use of Eilenberg’s results in [ 161. In particular, over a connected J-algebra 12On >\I =: 0 is equivalent to A11= 0, and Tor;i(R, 111) == 0 is tAquivalent to ;lZ being free. TVe shall use the following:
L~arnrx. Let A: ,\I + N be a fzomomorphism of graded free modules local!y of finite rank ozter tfze connected algebra A. If k @ h is injectizse, h is a split mono-
morphism.
Proof. Write fz as the composition JI +” Im h +‘; N. Since ?z(SJfz is injective, k @p is bijective and k @ I; is injective. The exact sequence 0 4 Tor,“(k, Coker h)- k@Im hjncfi k0 ATimplies Coker fz= Coker h is free. From here Im h is free, hence p is split. The exact sequence 0 --+ k ;i Kcr fz + k @ ,11 +7~(sfl k @ Im h finishes the proof.
0.5. For /l a graded A-algebra and 211a graded A-module the trivial extension of /l by M is the algebra with underlying Abelian group 11 G, .lII and multiplication (x1 , m,)(x, , WZJ r= (zci~~ , X~WZ-~1 WQ.Q). This is a functor from the category of graded modules so that of A-algebras. If /l = A and M, = 0 for i i 0, -d(M) is a local ring with maximal ideal (in, II).
0.6. Differentials always have degree 1. Z( ) and H( ) denote modules of cycles and homology classes, with whatever additional structure they happen to carry; [z] is the homology class of the cycle 2. s is the functor on the category- of L)G (differential graded) modules, defined by (sM)[ := M-i , d,?‘,r= - tl,, ; for x E S1iii , we write, by abuse of notation, S(X) for the element s E (S-U), . The forgetful functor from Z)G modules to graded modules is denoted ( )*.
12DG algebra is a graded algebra with differential satisfying the Leibnitz rule: d(.yy) = (dx)y + (-l)(teg(z) x(dy). We suppose in addition that any DG algebra is augmented by a fixed DG algebra homomorphism E: /I --t k (k is given trivial grading and differential). We set I/I =: Kcr E, l’l/l = (I/l)v; these are DG ideals of /I.
0.7. A r-algebra is an algebra with divided powers [9, Cxp. 7; 24, Sect. I .7]. The r-algebra on a free A-module is called a free r-algebra [9, exp. 81. If the r-algebra 11 is also a DG algebra, the differential satisfies the relation tl(~(‘~)) = (d.v)(x(n-l)). Let d be the ideal of all elements of positive degree of the r-algebra il; the quotient of d by the il-submodule generated by all uz (ZJEA, 7~E/T) and
C--l)
                
  404 LUCHEZAR 1.. AVRARIOV
 all ze(“) (W t .fLj , i E L, II > 2) is denoted p(A). The minima1 A-free resolution S of k has a natural structure of free ZIG I’-algebra [22; 24, Chap. I; 421. M’e always understand X has this particular structure when considered as an algebra.
0.8. Our concepts of colagebra and Hopf algebra are those of [36]; any Hopf algebra is supposed defined over k, and having a commutative multiplica- tionunlessstatedotherwise. P(JY)-:{atI,+’/Aa:=a(31;-10ujisthe subspace of primitive elements of .d. A r-algebra is called a I’-Hopf algebra [41], if it is a connected Hopf algebra and the diagonal A: d -+ d @sZ is a r-algebra homomorphism (for the divided powers structure on the tensor product SW [9, Cxp. 7, Theorem 21 or [24, Proposition 1. 7.101).
0.9. T>,(N) denotes the (graded) tensor algebra of the graded .4-module AT, j is the canonical degree one map N l T,(LY). If -J k, 7’,.(H) has a natural
structure of connected noncommutative Hopf algebra, defined by Aj(n) -=- j(n) @ 1 +m1 @j(,). Wh en N is locally finite dimensional, this defines a Hopf
algebra with commutative multiplication (T,(N*))*‘, denoted T*(N); we use here the identification of M* @N* with (M @I N)* given by the formula (2 I;;, jq(???y! 12) :r(wz) . P(n).
0.10. Pigraded .-l-modules (JZ,,,,; ( p, q 5 2) have each -If,,,, finitely generated; morcovcr M,,,, 0 if either one of p, y is negative (first quadrant grading), or one of them is positive (third quadrant grading). Rigraded algebras, Hopf algebras, and modules over them arc defined in the obvious way. Unless specified, bigraded algebras are assumed commutative in the following sense: forxE‘1),,.,yEll,,,,,, ,XJ’=:(--l)(‘ll*)(‘J’k’~‘) JX,andN?m:0ifp (-4isodd.
The condensation functor from bigradcd modules to graded modules is defined by DlLf =-- $JT=:_s~,ilf,,* . In the opposite direction we have functors:
0.11. When i14 and N are graded modules over the graded algebra fl, Tori,,(M, N) is naturally a bigraded A-module [34, Chap. X]. When fl is connected, the formal power series
PAM = 1 dim,(D TorA(k, nl)), zi E izizj is”
is called the PoincarC series of M. The symbol k will be omitted when occurring either as a sub- or a superindex. Consequently, PM denotes the “Hilbert series” of the graded vector space M, and P, denotes the PoincarC series of A, as defined in the Introduction.
                
  SMALL HOMOMORPHISMS OF LOCAL RINGS 405
 0.12. Spectral sequences always have first quadrant grading, increasing filtration, and differentials dT of bidegree (-Y, r - 1) [lo, Chap XV]. A spectral sequence of Hopf algebras is the object explained in [2, Theorem 1.11.
0.13. For the triple (M, fl, N) consisting of a DG algebra /l and DG fl-modules M, N, Eilenberg and Moore have defined in [37] a positively graded A-module Tor”(3l, N). The following spectral sequences constructed in that paper will be referred to as the first and second Eilenberg-Moore spectral sequences of the triple (M, /l, N):
\Ve quote two results from [37]:
0.14. [37, Theorem 2.31. Let f: 11+ fl’ be a homomorphism of DG algebras, g: M--f AZ’ and h: N--j. X’ be f-linear homomorphisms of DG modules. Suppose N( f ), H(g), H(h) are isomorphisms. Then the first Eilenberg- Moore spectral sequences are isomorphic from the term E*, and there is a functorial isomorphism Torf(R, h): Tor”(M, N) % Tor”‘(M’, N’).
0.15. [37, Corollary to Theorem 2.11. If M+ or Nd‘ is a free /l+-module, there is a natural isomorphism Tor”(M, N) ‘v H(M @, N).
0.16. The Eilenberg->Ioore spectral sequences have the following additional properties:
(a) if ill and ,V are commutative /l-algebras, the isomorphisms of 0.14 and 0.15 are isomorphisms of d-algebras (cf. [2, Sect. I] or [21, Proposition 1.91); (b) if/l is connected and ICI x k = N, the spectral sequences of 0.13 are
sequences of Hopf algebras [2, Theorem 1.I].
0.17. LEMMA. For the E” (resp. El) term of the first (resp. second) Eilenbey- IlToore spectral sequence of the triple (k, A, k) (A connected), there are commutative diagrams of Hopf algebras:
Tor”(k, k) 3 TorHo(“)(k, k)
TorA(k, k) A Tor”(k, k) ‘I’d’(k,k)
                
  406 LUCHEZAR L. AVRAMOV
 wheref: A + H,(A) is the augmentation and eA2, e,,l are edge homomorphism of the corresponding spectral sequences(cf. [IO, Sect. XV. 51).
I’yoof. From the definition of the Hopf algebra structures in [2, Sect. 11, Ei,O (resp. Bi,,) is a sub-Hopf algebra of E2 (resp. El) in the first (resp. second) Eilenberg-Moore sequence, and the edge homomorphisms are Hopf algebra maps. By the naturality of the edge homomorphisms, there are commutative diagrams of Hopf algebras:
      ,A1 e/l’ TorA(k, k) 2% Tor”(k,
k).
 The maps eiucn, (resp. e,i) are isomorphisms since the corresponding spectral sequence is concentrated in the line q = 0 (resp. p =: 0). The map E&(J) (resp. Ei,*(r])) is an isomorphism, since in any H(A)-(resp A#-) projective resolution X of h, X,,, is a subcomplex, which is a H,,(A)- (resp A,+-) projective resolution of k.
0.18. Sign conventions. Let L be the interval of natural numbers [1, PZ]. If i, j ,... EL, ‘Tij... denotes the sign of the permutation (i, j ,..., L\{i, j ,... }) of the integers (I,..., n). For H, K subsets of the natural numbers with the induced order, 711,A = (Pl)t, where t is the number of pairs (u, V) E H x K with
u > CL’i,f H n K := ,rj’,and 7HK:= 0if B n K =b;)1-.:.
0.19. Matrix notations. We denote by the same letter, say c, a homomor- phism of finitely generated free A-modules and its matrix in some fixed bases. i c ~~,;“~::*is the determinant of the matrix obtained from c after deleting rows with indices i, i,... and columns with indices p, q,... . We make the convention that a square matrix with empty set of rows has determinant I and I c it::::. m-10 if either i =iorp = 4.
If g is an alternating matrix, Pfij...(g) denotes the Pfaffian [5, Sect. 51 of the alternating matrix of even order obtained by deleting from g rows and columns with Indices i, j,... . If g is of even order,
Pf (g) = 1 %gxfAg)
         
  SiVALL HOMOMORPHIS~~S OF LOCAL RINGS 407
 (the formula in [5, Sect. 5, exercise 51 is incorrectly signed). We set P’( .: ) == I and P’r,j,,,(g) = 0 if i =j.
1. HOMOMORPHISMS OF (T-)HOPF ALGEBRAS
If A: .v’ - 9 is a map of (r-) Hopf algebras (see 0.8), we set:
WC recall, in the context of r-Hopf algebras, a well-known result from Hopf algebra theory 136, Propositions 4.6, 4.3, and 3.61.
LEMR'I4 1.1. Ev,!ery homomorphism h of (r-) Hopf aIpebras uniquely defines:
(a) a structure of (r-)algebra on ,-/ ‘l\ h, for zchich the canonical inclusion i: .c/ \ h ---f .c/ is a (r-)algebra map;
(b) a structure of (F-)Hopf algebra on ~3 /’ h, for which the canonical projection p: B - 3 / h is a (r-)Hopf algebra map.
Proof. (a) By definition, &\\ h == Ker(u --- u’), where u and u’ are homo- morphisms & - g @ .d of (Y-)Hopf algebras. Consequently, (u - u’)(aa’) = (u - u’)(a) u(a’) + u’(a)(u -_-u’)(a’) and u(a) = u’(a) implies u(a(?‘) = u’(aozl), which proves the assertion.
(b) By definition, .%’,/ h := Coker(w - v’), where v and ZI’ are homo- morphisms of (r-)Hopf algebras ~2 @ 9 --f 97. Im(a - TJ’), which is a right ideal from the definition, is in fact twosided because x%’is commutative. Then p: .8 ---f 9 /’ h is an algebra map, and we put a structure of divided powers on 9? ,/ h by setting (p(b))(“) =: p(b(ll)). This is correctly defined since for b’ L= b -1 (v - ~‘)a, b’(R) = bcfL)+- zI.L, b(tf--i)(w - v’)(a)ci). Finally, since o and o’ are coalgebra maps, A,(Im(v - v’)) = (((v - z)‘) @ l)(l @ a) -+ (v’ @ 1) x (1 @ (V - ~‘)))(d.~~:,(sZ @ 99)) C Im(z - 21’)@ 99 + 9? @ Im(v - u’). This shows .9 /’ h has a unique coalgebra structure for which p is a coalgebra map, and the assertion is proved.
There is a structure theorem for r-Hopf algebras, due to Schoeller:
PROPOSITION 1.2 [41, Theorem 11. (a) Any I’-Hopf algebra is a free r-algebra.
(b) If j: 3 - .uAis the canonical injection of a r-Hopf subalgebra in a r-Ifopf algebra, there is a map of r-algebras Y: LB - 8, such that rj = 1.
(c) The composition 99 -+* 99 @ 9 +r@p .c??@ (g / 8) is an isomorphism of r-algebras.
                
  408 LUCHEZAR L. AVRANOV
 COROLLARY 1.3. Let h: ,c/ -+ 9 be a homomorphism of r-Hopf algebras, kt d denote the r-Hopf algebra h(.d), and i and p be as in Lemma 1.1.
(21) There exists a r-algebra map y: -2 --t .s? such that hq = 1.
(b) The composition 2 @ (A! “N h) ~‘l:.,~ A! @ & ---fp .s? is an isonzor- phism of r-algebras, and :d \ h is a free r-algebra.
(c) There is an exact sequence of graded spaces (see 0.7):
0 ---> 8”(d ‘\ h) =% Q’(.u’) oy(h) Oy(ti) oy(II) Oy(O / h) F 0.
Proof. (a) follows from (a) in Schoeller’s theorem. To prove (b) we first note that ~(4 @) ;) is a r-algebra map, because 21 is a commutative algebra. That this is a k-linear isomorphism is seen by applying [36, Theorem 4.71. It follows that .r/ “\ h is isomorphic to the free r-algebra on the graded vector space Coker(QY(q)). Finally (c) is an immediate consequence of (b), and of (c) in the proposition.
LEMMA 1.4. Let
be a commutative diagram of (r-)TSopf algebra homomorphisms.
         (a)
The following conditions are eyuizalerrt:
 g is injective;
g / ~1: A? /j ---f .-A’ /j’ is injective;
(1)
(2)
(3) P(g ,/ ~2): P(.@ / j) + P(g’ ii/ f) is injective.
 (b) There is a natural isomorphism of (r-)Hopf algebras g’ / 9 ‘v (.gf’ ,~/“j’) ,d (gj ,/j).
 pyoof. (a) The commutativity <&f@($?“\p)
l@m\\d
of the diagram of (I’-)algebras -ix, &@J% u *s
 I1 .Q? @ (# \ p') 2% .8 (g B' L gg
SF0
cl
  is checked directly. By Corollary 1.3(b) (or a similar argument in the Hopf
 
  SMALL HOMO.MORPHISMS OF LOCXL RINGS 409
 algebra case), the compositions of the maps in both upper and lower lines are isomorphisms. Tensoring with k over ~1 one gets a commutative square of algebras:
.d ‘,,p z d /’ j ‘it,‘;-,I l!,:,.Tl
.x7:\ p’ N AT</j’.
n’ow we can write down the chain of equivalences: g is injective <> g ‘\, .d is inject& -f;-g / & is injective e P(g / cpY)is injective, the last assertion being true by [36, Proposition 3.91, which is applicable since .g /‘j and .S?’/f are Hopf algebras by Lemma 1.1(b), and g /’ .& is easily seen to be a Hopf algebra map.
(b) Consider the natural maps:
The first one is a (r-)algebra homomorphism and the second one is a (r-)Hopf algebra homomorphism. The commutative square in the proof of (a) shows that the composition is a (r-) alg eb ra isomorphism. The commutative diagram in the proof of (a) gives an isomorphism
By associativity of the tensor product, the left side is isomorphic to (8’ \~ p’) / (99 \, p).
The positively (resp. negatively) graded Hopf algebra n/ is said to have an increasing (resp. decreasing) filtration if there is given a sequence F&' (i EZ) of graded vector subspaces of ,&‘, satisfying:
(i) F,.d C Fi+,d;
(ii) F,.&’=0(resp.F+d=d)fori<0;
(iii) ~2 = (J F,,d (resp. 0 = n F,d);
(iv) (F,.d)(FpZ) CF,,.@';
(v) AF&'C -&Fi_jd @)Fj.u'.
The associated bigraded object is a Hopf algebra denoted E"d. If F,d is an increasing filtration on the positively graded Hopf algebra .&, Fid* = F._iaZ* = Im((&‘/Fi-&‘)* - AZ’*) is a decreasing filtration on the negatively graded Hopf algebra .d*. The increasing filtration defined inductively by setting F,d = q(k),
Fid = Ker(.zZ +A .d @ ~2 + d/F,d @ d/l;;-,sl) is called the primitive filtration. Its dual is the augmentation ideal filtration on .d*.
                
  410 LUCHEZAR L. AVRAXlOV
 \\‘e recall that a Hopf algebra is called coprimitive, if the natural map j’(.c/) + Q(,p/) I.rJ/I2d is injective. The Hopf algebra T*(N) defined in 0.9 is clearly coprimitive. The following criterion for a Hopf algebra to be coprimiti\c is due to 1Iilnor and AIoore:
PROPOSITION 1.5 [36, Propositions 4.17 and 4.201. 7%~ Ilopf algebra .-A is coprimitive if and only if its multiplication is (associative and) r~nmmutative, and, incasekhascharacteristic p: 0,a” 0for anyaEI&.
PROPOSITION 1.6. Let .& be a positively graded Hopf algebra zLth an increasing filtration. Suppose that there is an isomovphism of Hopf algebras IA EW - EW, where 34 = T*(N) (for some locally jinite-dimensional vector space AT) is filtered
by the primitive3(iltration.
If ~1 is copvimitive, there is an isomovphism u: ,pL - .94of Hopf algebras, such
that EQ(u) ~~ uQ.In particular, this is true if .c/ is a r-Hopf algebra.
($) “: p#/i” --f
Proof. After dualization we obtain an isomorphism z:O
EO&‘* of bigraded Hopf algebras, where&T* has the augmentation ideal filtration. For x E~1” there is a unique i -3 0 such that x EF~sJ* and x #FL -‘.d*; we denote by F the image of x under the canonical map F”c/* -+ Fi--/4/Fi-‘1.d* = E;,,J/*.
We first prove that F4d* -= P.d*. Let s EE~~JJ~. Then YE Z$ for some i :,‘--2. Since I?:,,&* ~: (Ej .&*) . (Ey-, .,T/*), there exist elements?l,,, ~Fl.d*, z,,?EFi-‘,cP such that x L z:, &,&,a , or equivalently,
Similarly, we find for each .i > 0 elements yju t F1xLA, zja t F’ :~-l.-/ __C Ix/” such that
Now notice that X~•F~i-jzL* n xY&,+, which, by (iii) of the definition of a filtration, is zero forj sufficiently large, sayj > t. From the above equations we
get
On the other hand, condition (iv) of the definition shows that I~,& = (Fr&*)” C F2&*, which proves that F2&* = I”.c-l*.
From the identifications P(sri’“) ~- (Q(.d))*, Q(,r/*) (P(&)),’ [36, Proposition 3.101 and the hypothesis that .c’/ is coprimitive, one sees that the
                
  SMALL HOMOR1ORPHISMS OF LOCAL RISGS 411
 canonical map P(Jd*) ---f Q(d*) IS sur’Jec t ive. Fix a k-linear section w of this map and consider the composition of vector space homomorphisms:
By the universal property of the tensor algebra, 0 extends to a homomorphism
of augmented algebras fromg* == T(iv*) to L/~, denoted by z’. (2(a) is surjective by construction, and since the hypotheses of the proposition imply that sJ’* is connected, the surjectivity of ‘u follows from [36, Proposition 3.81. .d* and 29” having equal PoincarC series, ZJis bijective, hence an algebra isomorphism.
To pro\-e that v is an isomorphism of Hopf algebras, one has to check that (U @ V) A,,* = il,f,z. Both maps are algebra homomorphisms, so it is sufficient to prove they agree on some system of generators of .9*. TVe fix a basis of (sN)” and denote by e, the canonical images of its elements in.@“: they form a (minimal) sy-stem of generators of the algebra J0 * . _Voreover, for any i ej is primitive in .%” and e(e,) is primitive in ,rl” by construction. This is exactly what the equality
means.
To SW that I:‘O(zs): ~‘0we remark that always lli,d* CP”.r/“, and since it is
already pro\-ed that .c/ * is a tensor algebra, a comparison of PoincarC series shows that the inclusion is in fact an equality. 1Ve have shown that the map 1, ‘i”’ : .c/ -> 29 satisfies all the required conditions. The last sentence of the proposition is an immediate corollary of the preceding, since a r-Hopf algebra obviousI!- satisfies the conditions of the RIilnor-5Ioore criterion.
In this section (B, 11,k) is a local ring over which all algebras are defined, and On will be abbrcx-iated to 0.
Xotntions 2.1. F denotes a DG subalgebra of the minimal B-free resolution I’ of k (see 0.7). i: F + Y is the canonical inclusion. TT’e suppose the following two conditions are satisfied:
in-: F’ - I-+’ is a split monomorphism of graded R-modules (hence Fx is a free B-module);
(ii) ii xix-es I-” the structure of’ a free P-module.
‘I’IIEOREAI 2.2. Under the above hypotheses there is a IIopf algebra structure 011 12 ,c *- ‘I, unique& defined by the requirement that the natural prcjection
T&(/7, k) : h @ I’- 12‘..‘,;,TF (k $1 Y) k ‘GF I- be a hommot$hisnz of Hopf a[yebras.
            (9
    
  412 LUCIIEZAH L. AVR4MOV Moreover, there is a spectral sequence of Hopf algebras
 p ‘n,n
‘rOry(k, k) ‘. (k (gjF Y),;,,, .
 Proof. Let Y be an F-projective resolution of k in the category of LX F-modules [37, Sect. l] and E: Y --+ k be the augmentation. By the comparison theorem for such resolutions [37, Proposition 2. I], there is a unique up to chain homotopy q-linear map of complexes g: Y + Y over the identity map of k
(here 7 is the structure map of the B-algebra F, H and the l’,‘s are given trivial grading and differential). It gives rise to a commutative diagram:
The maps in the top row are well known to bc isomorphisms [34, Theorem \‘. 9.31. H(DY &) C) is, by definition, TorF(k, l): ‘I’orF(k, Y) --+ Tor”(/z, Ii), and is bijective by Eilenberg and XIoore’s Theorem 0.14. H(k CT)J.) is an isomorphism by Eilenberg and RIoorc’s Theorem 0.15.
Now, since both k 63 IS and R j?F JThave zero differentials, the right r.ertical map of the diagram coincides with the canonical epimorphism h I:< I’ --f k I:,)~ I’. On the other hand, the left vertical map is, by definition, the homomorphism Torq(k, k): TorE(lz. A) -+ Tor”(k, R). By the naturality of the Hopf algebra structures (see [2, Sect. l]), this is a Hopf algebra homomorphism. Thus the first part of the theorcnr is established. ‘I‘hc second assertion follows immediately, since the first ICilcnberg -1Ioore spectral sequence of the triple (k, F’. ii) (see 0.13) has all the required properties, as is recalled in 0.16.
Renravks 2.3. X situation where the conditions of 2.1 arc obviously satisfied arises with F J-(q), vvherc I’(q) is the DG’ subalgebra of the minimal resolution gcncrated by the elements of dcgrce . ‘y. For q 1 J’(1) is called the Koszul complex of B and will be denoted by P in what follows. Thus w’c get a new and shorter proof of one of the main results of [2].
We now introduce, in our particular setup, Cartan’s construction of the suspension homomorphism [9, exp. 61. Ixt 3 F TZj(F),j $ 0. Since Y is acyclic, there is a v E P-,. i with r/y = iz. It is easily verified that [z] t+ I @J$ gives a correctly map H,(F) -+ (k !;‘iF Y)jm.1 - (k $Ji, F Tor*(k, 1~))~~i ~
DEFINITIOX 2.4. The B-linear degree one homomorphism o: IH(F) --, k ‘“),, o F ‘roP(k kj
              is called the suspension.
 
  SMALL HOMOMORPHISMS OF LOCAL RINGS 413
 Let f: (B, tt, k) + (B’, It’, k) be a homomorphism of local rings over R, I” be the minimal B’ free resolution of k, F’ a DG subalgebra of Y’, satisfying the conditions in 2.1. Suppose f: F -F’ is an f-linear homomorphism of DG algebras. The commutativity of the following diagram expresses the naturality properties of the suspension:
  IH(F) A h (&@BF TorB(k, k) -- Tors(k, k)
 IH( i,
i
f* 1I1
(2.5)
IEl(F’) --“-K&J. h@,.F ’ Tor*‘(k, k) c-- TorB’(k, k)
 (heref = k @Jko,lf.+). Indeed, by Th eorem 1 in [9, exp. 21, there is anf-linear homomorphism of DG modules g: Y + Y’, and any such homomorphism induces f; the commutativity of the left square follows from the definition of CJ. The commutativity of the right one is a consequence of the observation that R beingf-linear is automaticallyf-linear, hencef, = k a1 g: k On IV-k k sB, 1” (the definition off, will be recalled in the next section).
Gugenheim and May [21, Definition 3.71 have given a very general definition of the suspension homomorphism. In the special case we are interested in both definitions coincide, which is what we proceed to show. Let iL’ be a connected acyclic DG algebra with unit element ?z, lz: F + N a homomorphism of DG algebras. Let Y be an F-projective resolution of k with (Y),, ==I;; WCfix s E (Y)” satisfying ~(3) = 1 E k. For z E X(F) choose y’ E Z(Y,) such that pi,,y’ = XN”EZ(Y,) (ds denotes the exterior differential of the resolution Y [37, Sect. I]; the choice of y’ is possible by the definition of exact sequences in the category of 11G F-modules). Also, by the acyclicity of N, there is an y EN such that dy =m=--h(z)n. Following [21] define the degree one B-linear map
(is: IH(F) -+ TorF(k, A\T)
by the formula
CT&] = [s(y’) $J 72 +- x gy] E H(DY FF N) TorF(k, N).
A comparison with Definition 2.4 shows that the following diagram is commu- tative:
          J
“,,’
IH(F)
IL*‘, 0
Y
TorF(k, k) >H(DYBF) TorF(k, Y) xEayi
\
 H(k OF I’) = k eFy.
 
  414 LUCHEZAR L. AVRAMOV
 The horizontal maps are isomorphisms, as was seen in the proof of Theorem 2.2. Thus we have available a key result of Gugenheim and &lay’s theory:
PROPOSITION 2.6 [21, Corollary 5.131. K er u is the set of all elemerlts of H(F), decomposable as matric lllassey products.
1Ve refer the reader to AIay’s paper [35] for the definition and properties of matric &Iassey products. \Ve note, however, that no explicit use of the matric products will be made in our approach to Golod homomorphisms in the next section: Proposition 2.6 contains all the information we need. In dealing with “ordinary” RIassey products we shall find useful the following.
DEFINITION 2.7. A DG algebra E is said to have trivial Massey products if for anv n 3 3 and any set of (homogeneous) elements hi ,..., h, of M(E), the Massey product (/zl ,..., h,,: is defined.
IAVJIA 2.8. If E has triGa Massey products, then for an?) set of (homogeneous) elements h, ,..., h,, of IH(E), (:h, ,..., h,,> consists onb of the .zeYohomology class.
Proof. Our assumption implies that 0 E II(B) is an element of every >Iassey product. So we have only to show that any n-at-y 1Iassey product has zero indeterminacy [35, Definition 2.11. This is certainly so when n = 2, so we can assume it has been proved for ~1 c n. In particular, any n-ary Massey product is strictly defined [35, Definition 1.21. By a result of RIay [35, Proposition 2.41, we conclude that it has zero indeterminacy-.
Remarks 2.9. It was shnwn in [2, Proposition 2.11, as a consequence of a general result of RIay, that the Riassc!; products in Tor4(B, h) (13 being an A-algebra), can bc computed from an! rl-free algebra resolution of either first or second argument. In particular, WC: can unambiguously speak of ‘T’orl(B, Ir) having trivial >Iassey products in the sense of Definition 2.7.
Tor”(/z, k) is a r-Hopf algebra: for a detailed description of this structure we refer the reader to [24, Chap. 21 (see also [42]). Moreover, Tar-(k, h) is a functor from the category of local rings over k, defined in the Introduction, to the category of r-Hopf algebras.
Indeed, let f: (A, In) ~-+(B:, II) be a hon~omorpl~ism of local rings over k, X a minimal d-free resolution of 71,1’ a minimal R-free resolution of k. By [24, Lemma 1.8.61 there is a homomorphism -f: B fl .I- - I’ of nG T-R-algebras (cf. 0.7). Therefore the induced map:
                
  SMALL HoMOMORPHIS3ZS OF LOCAL RINGS 415
 is a homomorphism of r-k-algebras; that f* commutes with the diagonal is immediate from the definitions. It is well known that any map j’ given by the comparison theorem for resolutions, induces f,+ in homology (e.g., [IO, Sect. VIII. 31).
THEWEBZ 3.1. In the above notations, the following conditions are equivalent:
  f issmall;
TorB(k, k) is a free TorA(k, k)-module via f* ;
Qy(f*) is injective (cf.0.7);
(1) (2) (3) (4)
(5) there is a homomorphism fi B @IX --f Y of DG B-algebras, such that f# is a split monomorphism of B-modules and I’* is a free (B @I X)+-module viaf#.
Proof. (1) * (3). From (b) of Proposition 1.3 the injectivity off, is equivalent to the isomorphism To+(k, k) \ f* N k, and from (c) of the same proposition we see this last condition is equivalent to the injectivity of &(f+).
It is clear, that each one of the remaining conditions implies (1).
(I) :- (2) follows from Rlilnor and Moore’s [36, Theorem 4.41.
(1) -:- (4) is a consequence of Lemma 0.4.
(3) + (5). The existence of a DG r-algebra homomorphism has been already noted. Both B @ Sand I’ are free r-algebras, so the required properties of f will follow if we show that Qy( f +) is injective. But k @ Q(f+) == Ql(k (3 t*‘) _ QQ*), and the assertion follows from Lemma 0.4.
THEOREM 3.2. Let f: A - B be a small homomorphism of local rings over k. There exists a spectral sequence of Hopf algebras
E”
P,Q -
‘The proof is immediate from Theorems 3.1 and 2.2 (with F = B @ X), once we note that k CZJ~Y and TorB(k, k) /f.+ are isomorphic vector spaces by construction, and the Hopf algebra structure of each is uniquely determined by the requirement that it is a quotient of To+(k, k) (Lemma 1.1).
COROLLARY 3.3. Suppose that f in the theorem gives B the structure of a finitely generated A-module. If the minimal d-free resolution P of B admits a
structure of (associative) DG algebra, the spectral sequence degenerates with E” m=E”. In particular, one has the equality of Poincare’ series (see 0.1 I):
  some (resp. any) B-linear homomorphisms fi B @ 1y + I’ of complexes over B 6) E: B @ k --t k induces a split monomorphism f +';
       - Tor$(B*B)(k, k) => TorB(k, k) ,/'f.+
    481/50/z-12
PBjP.4 = &A(B I;) f
 
  416 I.I(‘HEZAR L. AVR4MOV
 \le note that by a result of Huchsbaum and Eisenbud, the hypotheses of the corollar~~ are fulfilled if B is a factor ring of .~l and pd.,B < 3 (see [7, Sect. 11).
I+w$ The homomorphisms of DG algebras
induct isomorphisms in homology. By Ililenberg and Moore’s Theorem 0.16
the!- give rise to isomorphic spectral sequences. Since P is minimal, i’ ~$1k has
trivial differential and the spectral sequence it defines degenerates with E” 1:“.
Our nest objective is to give several equivalent conditions characterizing Golod homomorphisms. In the following remark we describe a very special “distinguished resolution” of k (in the sense of Gugenheim and _1Iay [21, Definition 1.4]), which will be used in the proof. ?\Tote, that for --I regular.
f surjective, and Ker fC m2, G is the “Eagon resolution” of [24, Chap. 41.
Rc~trnlks 3.4. Let f: (A, III) -+ (11, 11) be a homomorphism of local rings owr k, such that 111TorA(B, k) xm 0 (for example,fis surjective, or B is a trivial extension of -J-1:cf. the proof of [23, Tl ic’orcm 21). With S and I; as in Theorem 3.1, let Ar be a free B-module, 8: k 13~zV-+ IH(B @ S) I Tor”(B, k) an isomorphism of k-vector spaces. In view of our assumption on f, 8 is B-linear, so 8(~ @ L\‘) can be lifted to a homomorphism of B-modules 6: X + IZ(B IT I\‘). Ily [2 1, Theorem 2.11, there is a differential d on the graded B (3 X-module G - (B 6‘1-1) OH r,(N) with the following properties:
(i) H(G) > k; hence, considered as a Z>G B-module, G is a B-free resolu- tion of k;
(ii) Ict F,,G bc the 11 y-1,Y-submodule of G, generated by the elements 1 l,~jj(,z,) I$ “. c:j;;(n,) (1 E B @ S, ?rt E X, s << p) (cf. 0.9); the spectral sequence defined by the filtration (F,,G) has El term isomorphic to the bar resolution of k,
considered as a module over the augmented k-algebra tl(B (3 S) (cf. [34, C’hap. S]);
(iii) (((1 @j(n)) = 6(n);
(iv) in case To+(B, k) is locally finite as a k-vector space, one has the equalities of Poincarb. series:
~1:: BG _ p72&4x . pmm) _ P,(l _ X(pAB _ l))-l*
THEOREXI 3.5. Letf: (A, III) - * (B, n) be a homomorphism of local rings over k. The follou+y assertions are equivalent:
               (1) .f is small and TorA(B, k) has trivial Massey products (cf. Remarks 2.9);
 
  SM.~I.I, EIO~IOhlORPHIS31S OF LOCAL RI3GS 317
 (2) ,f is small ad the suspension
0: I ‘Tar-“(B, k) + ‘TorB(k, k) p f-.
(cf.Dejiititiott 2.4) is injective;
(3) J is small and D induces att isor~rovphism:
I ‘Tor,‘(B, k) 2 I’(‘l’oF(k, k) ~ f*);
(4) f is small,It1 Tor”(B, k) m=0, and there is an isontovphisvt (4 Hopj. a&ebras :
ToP(k, k) ,;,’ f,: ‘v 7’“(1 ‘L’or’(B, k))
(lf. 0.9);
(5) 111TorA(B, k) z 0 and there ir equality of fur-ma2 power sevius:
PA PzJ -==1 - Z(PAB - 1).
Roof. (X and Y have the same meaning as in Theorem 3.1.)
(1) => (5). Denoting by (B, ii) the local ring B @ k, we remark that ii == (I To+(B, k))O . Since s is locally finitely generated as an A-algebra? Tor,A(B, k) = H,(B @ X) is a Noetherian H,(B @ S) = B-module for each i. Our hypothesis on Massey products implies that
111Tor”(B, k) = Ii1 TorA(B, k) : 0.
On the one hand, this gives ii” =- 0, hence 11 is finite dimensional as a k-vector space, and N,(B @ S) is finite dimensional over k by the above remarks; this shows P.,B is defined. On the other hand, we obtain that IH(B (;3,S) (sfI k -= IH(B @ S).
IIy Theorem 3.1, we can identify R C<;S with a ZJG subalgebra F of J-, satisfying the conditions of 2.1. It is easily seen from Lemma 2.8 that F has a trivial Massey operation in the sense of Gulliksen [23]. Hence Gulliksen’s extension of Golod’s theorem [23, Propositions 1 and 21 applies and gir-cs the formula for the PoincarC series.
(5) =:, (4). Let G be the B i$$,X-module defined in remarks 3.4. By 3.4(i) G is a B-free resolution of k, and 3.4(iv) shows it is minimal. The map i: B @ .V --t G, z(x) = x @ 1 (x E B @ S, I E T,(N)) is a homomorphism of DG B-modules, which is a split homomorphism of B-modules. By Theorem 3.1, this implies that f is small. Thus we can apply Theorem 3.2, which shows that To@(k, k) /f+ is the abutement of a spectral sequence with
               as a Hopf algebra.
 
  418 LUC'HEZAR I.. AVRARIOV
 This spectral sequence collapses: as shown in [21, Sect. 11, it can be obtained b!- filtering k BDZx G with the filtration {k (2B21,xF,G) (cf. 3.4(ii)), and k @:R,~sl G has trivial differential since G is miniaml. 1lorcover, we see that I-‘E” ii,* (ZPl~‘(B! x))“. On the other hand, I? is isomorphic, as a Hopf algebra, to the homology- of the reduced bar construction of 11(B @ S) 134, Chap. S]. It follows that PE;,+ G< (zP@:J~) ) 7, (the inequality is coefficientwise). Com- paring the two relations for the I’oincare series we set that B” L!‘” is a bigraded Hopf algebra, isomorphic to the reduced bar construction .g of the augmented /z-algebra li(B (3 S) = Tor*i(B, k). Since .2 Y R”T”(I TorA(B, k)) for the primitive filtration introduced in Section 1, we conclude the proof of (4) by applying Proposition 1.6, Tor”(k, k) /‘jJ being a I’-Hopf algebra by Lemma 1.1.
(4) =:- (S), since by nIilnor and Moore [36, Theorem 4.41, ‘I’oP(h, Iz) Y Tor”(k, k) (/ k 1’*(1 l’or”(D, Ii))
as Tor”(k, k)-modules.
(4) k (5) -:- (3). With the notations of Remarks 3.4 and of the proof that (5) implies (4), WC have for any x EIZ(R @ X): Z(Z) 7 -u’j(n) for some n E A’, such that 8(n) 7~ --Q. By the definition of (T, U[Z] -= 1 @j(x). The assertion follows from the expression of TorB(k, h) ,/’ f, in (4).
(3) .- (2) is clear, and (2) :- (1) is a consequence of Proposition 2.6. The proof of the theorem is now complete.
DEFINITION 3.6. A hon~omorphisn~ satisfying the equivalent conditions of the previous theorem is called a Golod homomorphism. An ideal a C A is called a Golod ideal, if A - A/a is a Golod homomorphism.
HenzarRs 3.7. The notion of Golod holnomorphisrn is due to Levin. His original definition, given in [33] for f sur’Jec tive, is different from the one adopted here, but he has shown (unpublished), that it is equivalent to condition (1) of the theorem. The equivalence of conditions (l), (4), and (5) has been proved independently by Levin, who also pointed out to the author the necessity of the assumption It1 Tor”(D, k) : z 0. A different proof that (4) characterizes Golod homomorphisms has been given by Liifwall [49, Corollary 2.41.
Before listing some examples we note for further reference two formal properties of small homomorphisms. Both are immediate consequences from the functoriality of Tor-(h, k) on the category of local rings over k.
LEMMA 3.5. Let f: A --f B, g: B --l C be homomorphisms of local rings ouer IL
(a) Iffandgayesmall, soisgf.
(1,) If gf is small, so is f; in particular, an ideal contained in a small ideal is itself small.
                
  S>tALL HOZlOMORPHISiClS OF LOCAL RINGS 419
 hVMA 3.9. Let f: d + B be a homomorphism of local yings over k. Denote by a and B the completions fey the respective maximal-ideal-adic topologies. f is small (yesp. Golod) ;f and only if the induced map fz A -+ B has this property.
Remarks 3.10. A necessary condition for a homomorphism f: (.-I, m) + (B, 11)of local rings over k to be small is the injectivity of the induced map
fi: tnjn? --F n/n".
For a surjective f this can be reformulated as Kcr( f) C m2. \Vc further note that when fi is injective the Koszul complex of A can be naturally mapped via the DG algebra homomorphism k’” -+ KA @ B C KB to the Koszul compler of R. The induced homomorphisms of homology algebras will be denoted H(F).
EXAMPLE 3.11. For d regular, S = R”; an immediate consequence of the minimality of Tate’s resolution [22] is the assertion that f is small if and only if
fi is injective. If f is furthermore surjective, this is just a reformulation of a well- known result of Serre [43, Chap. IV, Appendix].
1Ve recall that B is called a Golod ring if KB has trivial Massey products. Levin [33, Theorem 3.51 has proved, that for A regular and f surjective, f is Golod if and only if Ker(f) C m2 and B is a Golod ring. An alternate proof is easily obtained from Lemma 3.9 and Theorem 3.5.
EXAMPLE 3.12. If ri is a complete intersection, f is small if and only if .f, is injective and H,(k’f) is injective. This can be deduced, for example, from the existence of the minimal algebra resolution, Tate’s computation of Tor*‘(k, k) [45, Theorem 6; 24, Proposition I .5.4] and Assmus’ formula for Q,Y(Tor-(k, k)) [24, Propositions 3.3.41.
EXAMPLE 3.13. Let C = AaX 1 ,..., X,,J (power series ring), and c an ideal of C contained in (X1 ,... , S,,)C, B = C/c. Then the canonical inclusion ;Z --t C induces a homomorphism f: A ---, B, which is small. Indeed, the composition A + B --f B/(X, ,..., S,,)B = .4 is the identity map, and Lemma 3.8 applies.
EXAMPLE 3.14. A particular case of the above example is obtained with B = A(M), where M is a finitely generated A-module (see 0.5). However, in this case we have more: f: d -, B is Golod by Gulliksen’s [23, Theorem 21.
4. ExIsTFNc7z 0F SMALL IDEALS
We start with a theorem which is contained, via Lemma 3.8, in a more precise result of Levin [33, Theorem 31, asserting that 111’is a Golod ideal for Y suffi- ciently big. We have included a proof of Theorem 4.1, since it is totally indepen-
                
   dent of 1Iassey products theory. A consequence of the theorem is that every ring of positive Krull dimension contains nonzcro small ideals. Later in this section it will be shown that this may not be the case for Artinian rings.
Proof. Let h ti’ be the Koszul cornpIe\; of ~1. C‘hoose r 7 such that n(l~‘K) =. 0; this is possible by results of i\uslandet--uuchsbaum [I] and Serre [43] on the homology of the Koszul complex; a wry short proof of this assertion is given in [ 121. The projection p: Ii F K:‘l”K of IIG algebras induces isomor- phisrn in homology. Uy Eilenberg and :\Ioore’s Theorem 0.14, pX -= Tor”(k, k): Tory/s, k) + ‘I’()+ I’K(k, k) is an isomorphism.
I,et f: _1 P$11 B be the canonical projection. Since QC ttt” C nt?, K/UK can be identified with KB (Remarks 3. lo), and there is a commutative diagram:
Taking Tor’s we get a commutative diagram:
which sho\n-s that Q,. is injective. On the other hand, by [2, Theorem 5.11 (see also Remarks 2.3 above)?
Since both TorA(k, k) and To@(k, k) are k @ZK-free (from the existence of minimal algebra resolutions or from Hopf algebra theory), 1,emma 0.4 shows that Tot+, k) f* is injective.
IVe now quote a well-known result of Tate [45, Theorem 41 and Scheja [40, Satz I], in the form due to Gulliksen [24, Proposition 3.4.11.
PJ~OPOSTI~S 4.2. Let b be a completr intersection ideal in -4 (see 0.2). g: -4 - .4/I> induces isonlovphisws
               Q,Y(,P+): Q,~(Tor~(k, h)) z QiY(‘l~or.4’“(k, k)) for i . 3,
 
  SRL4LL IIOYIOMORPHISXIS OF LOCXL RINGS
421
 and an exact sequence
   PROPOSITIOX 4.3. Let b be a complete intersection ideal in (a-I. IIt). Jf nCbn nt2, then aissmall.
Proof. Denote by f: ,4 - -4/a, h: 4,‘a -+ -i/b, 0” = hf the natural maps. Since Q,“(g,) = QjY(h*) _Oj?(f+J, QIY(f*) is inject& for i > 2 by the previous proposition. On the other hand, Qr(f*) is injectire since a C m2. By Theorem 3. I
f is small.
PROPOXTIOX 4.4. Let (A, m) be a local ring, s a nonzero divisor in m, 11= .~a’ for some ideal a’ in nt. Then a is Golod.
I?1pavtirular, the conditions on a are satisfied if either
(4 Pd.4a isfinite and depth a < I ; or
(b) --I is a unique factorization domain and ht a .< 1.
Proof. a is small by the previous proposition, and the arguments of Shamash in the proof of [44, Theorem 31 show that B 0 S has trivial RIassey products, so that the conditions of Theorem 3.5(l) are satisfied.
Suppose pd a is finite. By MacRae’s theorem (see [7, Corollary 5.2]), 41=-=XII for some ideal a’ of depth 32 and some nonzero divisor x. Since depth a < 1 by assumption, .c’E m. On the other hand, if ht a < 1, a is contained in a height one prime ideal, which is principal when A is a UFD.
Remarks 4.5 (Golod). The above proposition, established by Shamash [44] for ,4 regular, was used by him to prove the rationality of Paia for two-generated ideals a. An equivalent condition to A being a UFD is pd a < 1 for such ideals. Hence depth A/a -= dim .4 -- pd A/a 2: dim A ~- 2, and Shamash’s result follows from that of Scheja [40, Satz 91. Conversely, Shamash has shown (Corollary 4 to his Theorem 3), that Scheja’s theorem can be deduced from his result.
Now let JZH(KA) denote the subset of IiT( consisting of elements express- ible as matric Massey products. May has shown, that this is an ideal in H(KA) [35, Propositions 2.7 and 2.9 and Corollary 3.21. By another result of XIay [35, Theorem 1.51, H(Kf)(MH(W)) C &JW(K”/~) for f: A --f s/a (see Remarks 3.10). We can now state a necessary condition for an ideal to be small. The author knows of no example where this condition is not sufficient.
             
  422 LUCHEZAR L. AVRABIOV
 PROPOSITION 4.6. If a is a small ideal i?z(A, in), then n C nt2 andf: A -* A/a induces an injectice homomorphism:
j? IH(K~)/MH(K~) - IzI(KA!‘a)/i~,~II(Ka!a).
The proof is immediate from the naturality of the suspension (diagram (2.5)) and Proposition 2.6.
The following two results show that some Artinian rings do not have nonzero small ideals.
PROPOSITION 4.7. If d is an Avtinialz Golod ring, its only small ideal is (0).
Proof. Let (I be a small ideal in rl. Since d is Golod, &‘H(K”) -= 0. That the triviality of ordinary A’Iassey products implies the vanishing of all matric RIassey products is presumably well known (cf. [33, Theorem 3.31 for a related result); anyway, this fact is an immediate consequence of Theorem 3.5 and Proposition 2.6. By the previous proposition, H,,(k’f): I-l,(KA) ---f H,(I;;Aj”) is injective for n = dim, m/m L. On the other hand, Ker H,(Kf) = (0: nt) n n by the definition of the Koszul complex, and since A is Artinian (0: m) n a =- 0 implies 0 0.
PROPOSITIOK 4.8. Let (A, 111)be an Artinian Gorenstein ying with
dim, m/m2 3 2.
In the zing B = A/(0: nt) the only small ideal is (0).
Proof. A being zero-dimensional Gorenstein, (0: nt) N h rv (s) for some s E A [31, Theorem 2211. Choose, by Cohen’s theorem, a surjective homo- morphism (R, p) -+ (A, nt) with R regular and p/p2 Y nt/m2, and an element t ofRmapping tos.LetbbeasmallidealofB,c’itsinverseimageinR,c=-= Ker(R + B). First note, that t E p2: assuming the contrary, we have s $ nt”; but (s) = tne for some e, and e = 1 contradicts the hypothesis that nt is not principal. b being small in B we have the inclusions c C c’ C p2, hence the commutative diagram:
HdKB).-I?- TorrR(Rlc, k) 2 c @JRk
II +
H& 2 TorIR(&c’, k) --Z- C’@Rk
in which the left vertical arrow is a monomorphism by Proposition 4.6. Since t clearly is not in pc, this shows it is not in pc’ either. This means s $ tn(c’A). But s is contained in any nonzero ideal of A, hence c’A = (0: m), that is b = 0.
                
  SMALL HOMOMORPHISMSOF LOCAL RIKGS 423
 We note that for dim, m/ma < 3 the ring B in the last proposition is Golod, but there are examples for any emnedding dimension 24, in which B is not a Golod ring, hence Proposition 4.7 does not imply Proposition 4.8. It is quite clear that neither does the reverse implication hold.
Remarks 4.9. Rings which have no nonzero small ideals are interesting in relation to the rationality conjecture for P,, . Indeed, Levin [33, Theorem 3.171 has shown that it is sufficient to prove the conjecture for A Artinian. If now a3 A is small and different from (0), so is b = a n (0: m) (Lemma 3.8). By another theorem of Levin [33, Theorem 3.91, b is Golod and f’A,b == P,.J(l - z2Pil dim, b). Of course, it is possible to continue this process until one obtains a homomorphic image of A which has no nonzero small ideals.
EXAMPLES 4.10 (Artinian rings may have nonzero small ideals).
The socle of a zero-dimensional complete intersection is small (even Golod) by [23, Theorem 11. Combined with Proposition 4.6 and Scheja’s theorem, according to which in embedding dimension <2 a local ring is either a complete intersection or a Golod ring, this result gives complete information on the existence of small ideals when dim, nt/ut2 < 2.
We next show that for any pair of integers (n, m) with n > 3, m > 1, there is and Artinian ring A with t(A) = (n, m), which is not a complete intersection and contains nonzcro small ideals (here t(A) denotes the pair (dim, nt/nt2, dim,(O: in)). Remark that t(A[T]/(T2)) = t(A) + (1, 0), and =2[T]/(T2) is complete intersection if and only if A is one. The results of the Appendix show that for any ideal a C m, aT is a small ideal of -4[T]/(T2). Hence it is sufficient to construct examples with n = 3. For m == 1 the socle is a Golod ideal [33, Theorem 3.111. If m 3 2, let C be aring with t(C) ==(2, m): e.g., C = k[T, , T,]/(T, , T,)“‘. By the above remarks ,+l = C[T]j(T2) has the required properties.
5. HOMOLOGY OF TENSOR PRODUCTSOF QUOTIEKT RINGS
In this section we establish a theorem, which for a regular ring A reduces to a statement slightly weaker than [3, Theorem I]. The basic idea is the same, but some preparation is required. We single out in the following definition a class of DG A-algebras, for which very explicit computations can be carried out in some Eilenberg-Moore spectral sequences.
DEFINITION 5.1. Let f: A --j B be a surjective homomorphism of local rings. We say that I’ is a special DG A-algebra overf, if the following conditions are satisfied:
(i) T/# Y V(F), where I’( ) is the free algebra functor (0.4), and F is a free graded A-module, locally of finite rank, with Fi = 0 for i < 0;
                
  424 LUCHEZAK L. ;\\‘KAMO\
 (ii) dVi C (I”V),-t for i ,‘- 3;
(iii) there is a homomorphism j Jy - r B of DG algebras, such that f, = f and Z,,(j): II(,( V) + R is an isomorphism.
If moreover Cf,( C-) x 0 for i : da0, C. is called a special ,-J-free resolution of B (cf. [47, Definition 21). It is noted in [47, Satz 21, that a special A-free resolution of B always exists, and is unique up to (a noncanonical) isomorphism. We also note that in such a resolution 4 induces an isomorphism k igl;; -* k (3 Kerf.
b?JhIA 5.2. Let l- be a special DG a[yebr-a ozterf, 11= Ker f,
ii = Im(u/a n III’ ‘v a + nt2/m2 C m/m2 e TorrA(k, k)).
Denote by 17 Torv(k, k) the bigraded Hopf algebra, associated to TorV(k, k) zcith respect to the jiltration defined by the second Menberg-Moore spectral sequence of the triple (k, V, k) (cf. 0.13, 0.16). If either
(a) ALIis regular, ot (1)) f is small,
there is an isomorphism of 1Iopf algebras:
B” Tor”(k, k) ‘v (C,,,,,Torl(k, k)/(ii)) d LT(ho,,F),
where ((I) is the Hopf ideal of TorA(k, k) feuerated by (1, pi == k @Fi for i > 2, FI =-=Ker(k @Fl -+ k ~3 ttt).
Proof. (E’} denotes the second Eilenberg-&‘Joore spectral sequence of the triple (k, J’, k) (cf. 0.13), which ISasequence of Hopf algebras by 0.J6. Condition 5.1(i) and [2, Proposition 3.51 imply that
I?? !Y! (z~,~,ovrorA(k k)) 0 W,,,@ OF))
as bigraded DG Hopf algebras. Condition 5.l(ii) means that d’(k @ Fi) = 0 for i > 2, and gives an esact sequence
0c Tor,A(k, k):fic Tor,“(k, k)+-k@Fl+ F,+ 0.
From [2, Corollary- 3.21, there is an isomorphism of bigraded Hopf algebras: R2 N (v,,.,, TorA(k, k)/(S)) @ U(h,,,F).
We note that P(U(h,,,i;)) = h,,,F, and that the primitives of a tensor product are the direct sum of the primitives of the factors (e.g., [36, Proposition 3.121).
                
  SATALL HOMOJlORPHIShlS OF LOC.4L RINGS 425
 In case (a) Tor”(k, A)/(-u) 1s an exterior algebra on its elements of degree 1, hence P(P) = Ei,, .In case(b) E= 0(Remarks 3.10) soE” = El and
Suppose there isanssuch that & + 0,dS 0for 2-<Y..:z.Choose an clement .Y of minimal total degree, not contained in Kcr(d”), say .I’ ii Ei,, . ObviousI\- 9 ‘-. I, so that d”x EEi-S,Y ia--l , with Q i s 1 3,; 2. A lemma of I,. Smith (quoted as [2, Lemma 3.71) shows that d”s is primitive.
1i-e ha1.c seen that if A is regular, no primitive of ES == E” can have :;econd degree greater than I, so in case (a) ct’ 0 for r 1;; 2.
In case (bj we must have d”.~ F Eg,,, %-, . From the commutative diagram of IX algebras
we obtain ‘Ior’(k, k) Torq(k. k) = Torf(k, k). The assumption that J is small implies that TorT(k, k) is injective. From Lemma 0.17 we SW that err1is injective, which means that no clement of Ei. .+ == EA, * is a boundary. We have obtained a contradiction. showing that in case (b) as well CP = 0 for r :> 2, which proves the lemma.
The next result is essentially a sharpening of Theorem 3.1.
COROLLARY 5.3. Let f: A + B be a suujective small homomorphism of local rirqs, T,- n special .q-free resolution of l3 (I,'" E V(F)). Fov eaer! i I; 1 there rvii fs nti evai f sequence:
0 -t QT. ,(To/(k, Fz))__uY+lcr’k Q’:,.,(TorB(h, Iz)) - k x; Fi - 0.
I+oc?f. The first Eilenberg-Moore spectral sequence of the triple (K, I-, k) &generates \vith trivial extensions, leaving an isomorphism of Hopf algebras TorY(k. k) 1 ToP(k, K). Giving ToP(k, k) the filtration induced by the second Eilenberg-XIoore spectral sequence of the triple (k, I-, k), we have from the lemma P To@(k, kj % (zlO,,,TorA(k, h)) (3 U(h,,,k @F). Lemma 3.9 of [2] now @\-es the isomorphisms of free r-al,gebras:
               which prow the assertion.
 
  426 LUCIIEZAH L. XVRAMOV
 JVe shall say that a DG algebra W is a special extension of the DG algebra I -, if l’ is isomorphic to a DG subalgebra of W and I&‘# N V(F) @ V# for some graded free .-l-module F, locally of finite rank, with F? 0 for i < 0.
COROLLAI~~ 5.4. Let f: -4 --+ B, g: B + C be surjective small homomorphisms of local rings. If V is a special A-free resolution of B, W is a special i2-free resolution of C, then W is a special extension of V.
Proof. Let V” N V(F), IV” Y P-(G), (-) denote the ideal of ( )+, consisting of elements of positive degree. IVe note that V/P’” = F, W/IV2 !Z G. By [48, Satz 41, there is a homomorphism i: 1;’ -+ W of IIG algebras, such that HO( 2) = g. Let g: F -+ G be the map induced by 2 under the above identifica- tions. By Lemma 3.8 12:-- gf is small, and the preceding corollary gives, for each i > I, a diagram with exact rows:
The diagram is commutative: the proof of Corollary 5.3 shows, that the horizon- tal maps are induced by edge homomorphisms of the corresponding spectral sequences. By Theorem 3.1, Qr,.l(g*) is injective, hence so is k @ ,$ By Lemma 0.4 g is a split monomorphism.
Before stating the main result of this section, we note that the Hopf algebra structure of a tensor product of Hopf algebras over a Hopf algebra is uniquely determined by the requirement that the canonical maps from the factors be Hopf algebra homomorphisms [20, Theorem 4.21*].
THEOREM 5.5. Let f: .4 + B, g: d + C be surjective homomorphisms of local rings. If f is small, there is a spectral sequence of Hopf algebras:
Ei>, = T~x$‘$,(~~~)(k, k) 3 (‘CorB(h, k) ~~~~~~~~~~T~orc(k, k)), ,r( and a commutative diagram of Hopf algebras:
Tora(k, k) r&Tor~(k,k) TorC(k, k) u((BcG7)*O(r@c)*)* TorB@AC(k, k)
               where ,u is the multiplication homomorphism and e2is the edge homomorphism (0.17).
 
  SMALL HOMO~IORPIIISMS OF LOCAL RIXGS 427
 Proof. To begin with, we note that wc can suppose a4 complete. Indeed, if
we denote maximal ideal-adic completions by A, “is small (Lemma 3.9) and
 the limit term does not change. On the other hand, the E” term does not change L^
either, since T orA(B , C’) -- ’r or-‘’(B C) 3 /f ,i 1 ‘rorA(B, t) is 3 flat Tor”(H, C)-algebra with I Tor”(fi, c\ =-=c TorA(zct’)) Tor”(8, c).
 C’hoosc, by Cohen’s theorem, a regular local ring (R, +J)such that A ==R/n with nCp”. Set b = Ker(R ----+A +f B), c= Ker(R - A --+ C); note that b C p” sincefis small. Let C, I’, W denote special R-free resolutions of A, B, C, respectively, 5” -= V(R), I,-” z I;(F), IV- = by(G). Ry Corollary 5.4 we can assume F ==F’ @ E, V# = C-(F) @ L:+. The inclusion II C I’ is denoted f, and 2: l- + IV is a map of DG algebras with N( 2) : g; the existence of g is asserted by [48, Satz 41. In the rest of the proof W is given a (left) U-module structure via g”.
Consider the Eilenberggl&‘Ioore spectral sequences of the triple (I’, U, W);
The left one is contained in the line q == 0 and degenerates with trivial extensions; the right one reduces to an isomorphism ToP( V, IV) ‘u Zi( J’ @IL/II) by Theorem 0.15. We are left with an algebra isomorphism: f1(V c3U II’) ‘v TorA(B, C) (0.16). Consequently, the first Eilenberg-Moore spectral sequence of the triple (k, Y gU IV, k) has the required E” term, and is a spectral sequence of Hopf algebras (0.16).
1Yith X;’ = I’ @K, f” ==j @ IV’, we have the usual universal diagram of DG algebras:
u ftr-
\Yhcn Tor-(k, k) is given the filtration induced by the second Eilenberg-Moore spectral sequence of the triple (k, -, k), we deduce a commutative diagram of filtered Hopf algebras:
          TorU(k, f*
k) --L ‘* Torr(k,
k)
k) L--L Tor;k,
k)
B*
 Tor$(k,
which gives rise to a homomorphism of filtered Hopf algebras:
h = ~(2~ Of-,'): Tor"(k, k) &,P(~,~) ToF(k, k) + ToF(k, k).
We note that T is a special DG R-algebra over R - R/(b + c) ==B GA C.
   
  428 LI‘C‘HFWR 1.. AVRARIOV
 Condition 5.1(i) is fulfilled since 7’. : 1‘2 &)os hi,‘- 7: I‘(],-‘) _ I.(G) e I T(F’ ‘7 (G). conditions 5.1 (ii) and 5. I (“in‘) arc immediate. Kow Ixninra 5.7 gives:
 EI”’ ‘I’or’(k, k) E F’,,,,,‘I’o+(k, k) /,, t.,‘(/r,I,,l:‘); E” ‘I’or’(k, k) rc ‘z’,,,. ‘I’o+(k, k) G$ ~~(kO,!l~‘)
? ( ‘(holF’) 4~1vo.U(‘l’dyk, k)) g; U(h,,,E), E” Torrt(k, k) ? x.o,cr(‘TorR(k, k),(C)) (4 c’(k,,,G);
E” ‘l’oF(k, k) N C’(l7J) (jc)7~(,,0(TorR(k, k),(c)) @I U(h,.,G)
J”
f7 ,::F’. _, ,
   (for the last isomorphism we note that since b C p”, (b $ c) (b -;- c) n p” z (c ~-~+,I~):‘$Y c,‘cn p2, hence (b I c) C). IVe obtain:
ho: B”(‘l’orP(k, k) (P&+(~,~,) ‘l’or’+(k, k))
,Y 1:‘” TorV(k, k) g E~Tor~(i,7c)EC1Torw(k, k)
” C’(h,,,F’) @ V”,” TorR(k, k),‘(c) @ G(h,,,G) N_ E” ToS(k, k).
The composition of the last two isomorphisms is the map induced in homology from the homomorphism:
,u(jy &f!,:‘): ‘LlorYff(k, k) ~&,,,.u~(~:,~) Tor”‘“(k, k) ---f TorT#(k, k);
this is easily seen by computing the relevant ‘I’or’s with the help of the Koszul resolutions (cf. [2, Lemma 3.41). Hence ho : E”(h) and nc see that h is an isomorphism.
      The commutative diagram:
Tor”(k,
k) @Tor~(i;,X) Tor”‘(k, k)
nrj 0 qaeu2Q/-
h
F Torl(k,
k)
 CT2 1i
 TorB(k, k) &or-~(B,L) Torc(k, k)
d(B@dr@(f@c)*), TorE@,<C(,$,
k)
finishes the proof, since e,?, ey2, e,” are isomorphisms of Hopf algebras bp 0.14, 0.16, and 0.17.
We note that taking C = k in the above theorem, we obtain a new proof of Theorem 3.2 for the case of surjectiref.
(:OKOLI.ARY 5.6. Under the hypotheses of the theorem, suppose that ‘I’or,“(B, C) == 0 for i > 0.
    
  SMALL HOMOMORPHISJIS OF I.O(‘AL RINGS
429
 Then :
(21) P((B O& 0 (f@ CM 1san isomorphism of Hopf algebras;
(b) PAO*C = PLPCIPA ;
(c) f (3 C: C + B @ C is small, and there is a?zisomwphisna of Hopf
algebras:
ToP(k, k) /‘f* N TorBsC(k, k) ,/ (f & C), ; (d) f isGolod ij and only if f (3CisGolod.
Proof. Since the spectral sequence of the theorem is concentrated in the line 2 0, e2 is an isomorphism: this proves (a). (b) and (c) are immediate consequences. To prove (d) we note that TorA(B, k) ‘v TorC(B (3 C, k) [lo, Proposition VI. 4.4.11. From this and from (b) we have that P,ljPD := 1 ~~ Z(PAB -- 1) if and only if Pc/PBg, = 1 ~ z(PE.~’ - 1); the assertion follows from Theorem 3.5.
Remarks. 5.7. Eisenbud and Herzog (unpublished) have proved (a) and (b) of the corollary under the less restrictive hypothesis that TorS~~A(~,‘;)(TorD(k, k), Torc(k, k)) = 0 for p > 0; they use a different Eilenberg-Moore spectral sequence. It is interesting to know the precise conditions under which the map in (a) is an isomorphism. The answer is known ford regular: (Kerf) n (Ker%q) = (Ker f)(Ker 6) and (Kerf $ n?) n (Ker R I m2) = m3 [3, Theorem 21.
6. REDUCTIONS TO THE GENERICCASE
The main result of this section shows that for some ideals a the computation of Pa/PA,, can be reduced to very explicit generic situations. All the “change of rings” theorems which are proved in this section and the following two make use of Theorem 6.2. Its proof, in turn, is based on Corollary 5.6 and the results of Eagon and Northcott in [15].
We start by introducing some notations, and recalling the definition of generic perfection, due to Eagon and Northcott. .Z[X] denotes the polynomial ring over the integers on the set indeterminates (X1 ,..., X,,}. For any Noetherian ring R and any set {a, ,..., a,} of elements of R, there is a unique ring homo- morphism o:Z[X] --fR,defined by @(XJ = a,(1< i< n).IfIisanideal of Z[X], the ideal a(I)R is denoted I(a, R); note that I = 1(,Y, Z[X’j).
DEFINITION 6.1 [15, Sect. 81. The ideal1 C Z[Xj i.s called generically perfect of depth d, if the equalities:
d = depth(l(X, R[X]), R[X]) = pd,l,l(R[XJ,il(X, R[X])) hold whenever R = Z or R is a field with a prime number of elements.
                
  430 LUCHEZAR I.. AVRAMOV
 By [15, Propositions 4 and 51, for any Koetherian R depth I(n, R) << d if I is generically perfect, and I(a, I?) is perfect if equality holds.
To state the theorem we find it convenient to introduce the notation k(S) for any one of the rings k[X1 ,..., -Y,,], k[JF, ,..., Xn](X1 ,,,,. x,, , or k[X, ,..., zYJ.
THEOREM 6.3. Let 1 be an ideal of Z[<Y], contained in (AY1,.,., S,J’?. Let (A, nt, k) be a local ring, a, ,..., a,, elements of m, n = I(a, iz). Suppose that either:
(a) I is generically perfect of depth d and depth (I := d; or
(b) I is generated by monomials in .lT1 ,..., X,, and a1 ,..., a, form an A- sequence.
Then a is small, and there is an isomovphism of Hopf algebras:
‘rorA’a(k’, K) / TorA(k, k) ‘v ~~or’~cx)‘r’x,~cx))(k, k) ,,/ ‘rork<x)(k, k),
zuhich gives the equation of Poincare’ series:
PA/P/j,‘a = (1 i- ““)‘11’p~(w>.I(x,7.(x;~)
ilfooyeover, a is Golod if and only if k(sj,‘I(s, k(S\) is a Golod ring. Proof. Consider the commutative diagram of ring homomorphisms:
where g is the surjective A-algebra homomorphisms defined by g(X,) ~~aj (1 < i <. TZ),h is the projection with kernel 1nr3[X], f is the projection with kernel I(X, A[X]), f’ = f @ 23, f” = f (3 /<[Xl, g’ = A[X]/I(X, A[X]) @g, h’ = -4[X]/I(X, A[X]) @ h. Note that f’ and f n are the canonical projections A + d/n and k[Xl ---+k[X]/I(X, 12[5]), respectively. Localizing at the maximal ideal m -1. (X, ,..., XJ of A[X], we obtain a commutative diagrams of local rings, in which the localized maps are denoted by the same letters, and C 7. k[S, ,...,XJ,xl....,xn,:
(I <lr- ()--.-C& A
               Z[X],/I is a flat Z-module by [1.5, Proposition 51 in case (a) and trivially in case (b),
 
  SMALL HOSlOhlORPHISMS OF LOCAL RINGS 431
 so the theory developed in the paper [ 151 is fully applicable. Since 0 is A[XJ-flat, we have:
ToriQ(R, C) rv Tor$X’(AIX]/I(X, A[S]), k[X]) BAtXl 0,
and this is zero for i > 0 by [15, formulas (7.7) and (2.7)]. On the other hand, Tor,@(R, 12) e Tor”‘xl(.~[S]:I(X, A[X]), A) @A[X~ 0
cx ‘Tor~[X1(Z[.X]~I, A) f$,lxj Q
by [15, formulas (7.8) and (1.2)]. However, Torf[“](Z[Xl/I, A) =: 0 for i 3, 0 by [15, Proposition 41 in case (a) and by [13, Theorem 31 in case (b). Since f is small by Proposition 4.3, Corollary 5.6 shows that .f’ and f” arc small, and gives the isomorphisms of Hopf algebras:
Tor”(k, k) N//f; =1 TorR(k, k) /fi -: T~rA:~(li, k) /f,‘.
Moreover, it gives the equivalences: f’ is Golod o f is Golod -.>f” is Golod, and the last assertion is, by Example 3.11, equivalent to C,‘I(S, C) being a Golod ring. To finish the proof it is sufficient to note that the horizontal homomorphisms in the commutative diagram of rings:
induce isomorphisms of the Hopf algebras Tor-(k, k).
Ideals generated by monomials in the elements of an A-sequence are not
perfect in the general case; for an example of perfect ideals belonging to this class we refer to [30, Theorem 21. The theorems of Tate and Scheja (Proposition 4.2) give complete information on the change of Poincark series for quotient rings modulo ideals generated by elements (i.e., degree one monomials) in an A- sequence. For monomials of degree two in the indeterminates XI ,..., 8-, , the relevant result has been recently obtained by Frijberg [17]. By combining his theorem with Theorem 6.2 and Proposition 4.2, we obtain:
THEOREM 6.3. Let a, ,..., arr be an A-regular sequence. If a is an idealgenevated by monomials in the a,‘s o/ degree -<2, PA/PA ln is a polynomial.
We now turn to determinantal ideals. As proved by Hochster and Eagon [28, Corollary 4 to Theorem I], Theorem 6.2 is applicable in this case.
PROPOSITION 6.4. Let (A, III) be a local ring, u be an Y x smatrix (2 < Y < s)
               481/50/z-13
 
  432 LUCHEZAR L. AVRAMOV
 with entries in nt, and It(u) :=. a be the ideal generated by the t .X t minors of u (t < T :.< s). If depth I,(u) :-: (Y ~- t l)(s ~~ t I), then (I is small.
The actual computation of l’,,‘P,,., for determinantal ideals looks like a \-er! difficult problem. One way to go at it is to determine the algebra structure of TorA(d-l/a, k) and apply Theorem 3.2; this is our method in Section 8, where we treat the case t ~-~1 Y s, by making use of an explicit description of the minimal -3-free resolution of -illa. In this section we settle the case t I’ at lesser expense, by a twofold use of Theorem 6.2, based on the following lemmas, due to Buchsbaum-Kim and Golod, respectively:
LEMMA 6.5 [8, Lemma 3.91. Let ‘L’ hc the r ; (d -‘- v 1) matrix .zith entries zli 1Ii = aj+lfor I < i < r,O <j << d 1,zli.j _~ OfOY I “j .: i < i orl(i- j - d -: 1 >‘: r. Then I,.(z) (a, ,..., a,$.
        TIIEOFX~I 6.7. It1 the xotations of Proposition 6.4, suppose that depth ~1 S .,’ 1, n :m:I,.(u). The11c[ is a Golod ideal, and
Proof. Let c k[{21-7j]l: ,i , l‘SiJ, 1 be the generic r >( s matrix. I)\- Theorem 6.2 (and Proposition ’ ‘6.4) P//Z’,, ,(I ~ PC/PC,, cuj . Let I) : k[Xl ,...) S-J, cl m-ms Y ) 1, and let Il. bc the matrix of Lemma 6.6 for a.
(1 < i .< d). Define .i ‘: C -+ I) by i x‘(‘Yii) I,, . By Lemma 6.5, ‘(1,(I):)) “’ I,(I) (AYi ,..., XJ1’. This shovvs that depth I,(V) ~~ s ~ r A 1; from Theorem 6.2 we see that P,./P,--,v(,~ _~P,ilPD,,, cv) , and Lemma 6.6 gives the desired formula. The assertion that n is a Golod Ideal also follows from Lemma 6.6 and from the last sentence of Theorem 6.2.
Remarks 6.8. 1Vhen A is regular, the theorem gives the results of Gover in [19, Sect. 41. Once we have established the fact that a is small, we could have deduced Theorem 6.7 from Theorem 3.5 and the triviality of the Masse! products in Tor”(A/a, k), established by Gover [19, Theorem 3.91. However, since we need Theorem 6.2 in order to prove the smallness of a, the present proof of the generalization of Gover’s theorem is preferable, since it avoids the
        
  SMALL HOhlOhlOHPHIShlS OF LOCAL RISGS 433
 intricate construction in [19] of a multiplicative structure of the Buchsbaun-Kim complex (cf. [S]).
The following corollary can be deduced either from Theorem 6.7 via Theorem 3 of Eagon and Hochster [13], or directly from Theorem 6.2 and [3, Proposition 31, which deals with the case of A regular local; we insert a warning: the formula- tion of the last proposition contains a misprint.
COROI.I.AK~- 6.9. I,et a1 ,..., n, he atr .-I-regular seq~wr~e rind p, ,..., ,b,, , n,, ,..., II,, he intqyer,s, sntisfyiq:
      The last result of this section is concerned with ideals of the kind considered h\- Northcott in [39]. Let ur ,..., I(,, , or ,..., z‘,, be regular sequences in the local ring (=1, m), II and let u denote the ideals (ut ,..., u,~)and (r, 1.... zs,!),respectively. suppow 11 ;! 11, sa>
'7, g1 njjui (1 ' i 77).
Let n he the matrix (a,,), 1n its determinant, a~=u ! ( m), K =.-In, r p= rank(n 1%~k), s dim, ~/(a n II?).
      Proof. \Ve can, after changing the generators of 11and u if necessary, assume that
i', 5, n,,u, (I i 717).
   with 172 =; II - Y and a,, t nt (fur details, cf. [26]).
 
  434 LUCHEZAK I.. AVRAMOV
 Since u ;’ 11,we must have r ’ . II. If I’ iz I, then allul %I is a nonzero divisor modulo (u? ,..., u,,) (‘i’? ,..., T,!), hcncc a (I,~ IS a nonzero divisor modulo this ideal, and a is a complete intersection.
\Ye assume from now on that (I is not a complete intersection, which 1~~.the preceding remarks implies I’ s 11 2. In particular. a ~6 I+, and a/(a f7 In?) 2
  which shows that I’ 3 s. From
-1’ ’ (P 1(!,,, ,._..,r,,) I’R),
Denoting by bars the images in .-I
(I I,’ i, ,j : WI)satisf!- the conditions of the theorem, but this time with tit, c iii.
Consider the ring IZ : u[(l’,il , ,,, , iz-l,,i, ( ,,,,, ,,,, J. As proved in [15, I,emma 61, 1::” 1A,,I’, (1 ,’ i .s’ m) form an K-sequence. Northcott’s [39, l’hwrem 21 applied to the ideal I gencratcd by these clcmcnts and the deter- minant .I), shows that I is gcwricall! perfect of depth w. Setting 11(C’,,) II, ,
t.‘(-li,) ~~ <I,~ WC‘ set that ii (1);1, and this ideal clearly has depth ,;NI. This implies depth (i ~~ vz, and ‘I’heorcm 6.2 gives y-1 !P,j I’r;‘E’C- , for c Ii g;, K. Let n k[l., ,..., [,~,,,I, ‘: Ii --+ II be defined bp ‘(r’,) 1., ,
‘. ‘(.-I,,) S,,l’, T((., D) (I.,” ,,_,, I’,,,‘, C,.Il’z ... r’,,), and the formula
is given by Gulliksen’s [23, ‘l’heorem I]. On the other hand, since depth
Ilt')):llI~ (('i,,j , ,...) c,,) lll'))'llI~, Proposition 4.2 WChave:
(1 2)” (1
(11
  i, (a.,, 1 ,..., c,,), we xc that II, , ‘z*,, (I,,
     I( I ;, 11) ((I Z)“’ of P I 8P,j
vz, ‘I’heorem 6.2 shows that I-‘,.:‘P,. , I’ I)/ ‘P 1) /CL’. I)) = (1 -1”’ 7 S). (a) is proved bv substituting this formula for the expression
obtained ilbOVC.
 (lx) The following exact sequence, in which -3/u is mapped isomorphicall> to a,“~ 1~~the map sending I to CT, is gi\.en by [39, Proposition 21:
It implies ‘I’or$~(B, /z) = ‘I’ori’ “(A/u, k) for i ,z 0, hence F’;/, I ~1zP:.:‘t Since .,I :u -,3:‘(r, )_._,a,,,), .-l;u .-3:‘(u, ,..., u,,,), [45, Theorem 41 applied to the ring A and the pair of ideals ii i 6, generated by A-sequences, gives P$i
z) I”. By Proposition 4.2 P,,‘P., II (I -1~z)” (I z)” ‘. Applying (a) we get:
I’ ‘I’, (P,, ,, P,J(P,,P,) (I z) j” ((I z)” -~ z’) AI1
1 ~~z(P”; L, I).
which means that nju is a Golod ideal by Theorem 3.5.
   (1
   
   To prove the last assertion of the theorem, we first note that if a is small, it is contained in tn3 (Remarks 3.10). Converselq, assume a C UI?. If CI is a complete intersection, it is small by Proposition 4.3. In the other case, this proposition shows that u is small, hence the first homomorphism of the composi- tion .--1+ .-I/u - H is small. The second one being small by (b), a is a small idcal by Lemma 3.8.
i\-hen d is Gorenstcin, the ideal n of ‘rheorcm 6.10 has an agreeable ring- thcorctic characterization:
a (v: 11).
Indeed, =I,‘v is in this case Gorcnstein, and dim -3,/v == dim ‘-1 -- IZ. On the other hand, 13 .-l/a = (dg/u)/(al’u) is Cohen--RIacauley, and dim B q = dim .-I/U by the corollary to Theorem 2 of [39]. Proposition 1 of [39] asserts that (v: a 1) = II, hence (0: a/v) = U/V in -4/v. By the preceding remarks wc can apply a result of Kunz [32, Proposition 3. I .a], which gives:
nhl 7 (0: (0: a/v)) =-2 (0: 11/v) == (v: 1l);‘V.
W:c summarize these observations and part of Theorem 6.10 in the following corollary. Note, that as a particular case it contains the assertion that the rings whose study is proposed by Gulliksen in [23, p. 2301 have rational Poincark series.
COROLLARY 6.11. Let -4 he a Gove&e& ring, II and o complete intersection ideals of the same depth n. Suppose, that u $: II and put u =- (u: II).
Then PA/PA ;a is a polynomial of degree d. zcith n :g d -(, 2n. In particular, if .A is regular, P, .:nis a rational function.
Remarks 6.12. After this paper was written, Clas Liifwall showed us that that the methods of this section can be used to prove Tate’s [4.5, Theorem 61. Let x E 111~be a nonzero divisor, say s 7:~.I;:, a+yT, a, E tn. The principal ideal generated by C -4Ji in R == Z[z4, ,..., .3,,, , S, ,..., X-J is obviously generically perfect of depth 1. Define cr : R --f k[S] by ,c (z4,) = S -= ‘ey(X,),
(.-I,) 0 mz : (dY(), 2 ,< i < HZ.Theorem 6.2 now gives:
From the exact sequence 0 -r Iz -* k[S]/(S”) --f 12-r 0 one immediately obtains Pi~,xl,(xl) == (1 - z)--l, whence Tate’s change of rings formula: P,.,/P, I(S) = (1 - 2”).
However, WCused Tate’s result in the proof of Theorem 6.2, in order to show that f: Q + R (in the notations of that proof) is small. \Ve sketch here an alternate argument. Let F be the Koszul complex on the images of S, ,..., S,, in 0, G m:-I? f&F. Consider the obvious homomorphisms of DG algebras
                
  436 LUCHEZXR I.. AVRAMO\
 -4 -7 F +f G -+ .d, whose composition is the identitv map of A. They induce maps of ‘l’or functors
‘I’or.‘(/t, /t) N”t ‘l’oF(k, h) fL ‘l’or”(k, k) -+ ‘l’or”(/i, k).
Since F is acyclic, 7 is a homology isomorphism, hence by 0.14 yA is an isomor- phism. ‘I’his impliesf, is injective. Theorem 2.2 gives
TorF(k. /i) 4 ‘l’orQ(k, k) ,_ (lt $ F), ‘l’orc(/<, /z) E ‘l’oF(k, k) ,A’ (k t-5 G), and WCconclude by Lemma 0.4, as in the proof of ‘I’heorem 4. I.
7. CHANCE OF R~x\lcs &~ODULO SOME IDEALS ok' ~OJECTIVE ~IMIENSIOS < 2
Ideals of small projective dimension can be shown to be small in the sense of this paper, if the necessary condition of Remarks 3.10 (u C n?) is satisfied. This is done in this section and the next one, by using the “structure theorems” of Burch and Ruchsbum-Eisenbud (cf. [6]). Moreover, we compute PA/P,, u in the cases where structure theorems are available.
\\‘e start with some general remarks. Let n be an ideal in the local ring A-I, P a minimal A-free resolution of .-l/n. AP the DG ,l-submodule of P 0 P, generated bv the elements n iii b ( l)(tesn.degb h :z CL Huchsbaum and Eisenbud have shown in [7, Sect. I], that an! ,-l-linear IX homomorphism <p:(P ” P),‘,II r P, which is the identity map in degrees 0 and 1, defines a commutative multiplication on P, which is also associative if prl,d;a : p -:I 3. Ilcncc when we construct a multiplicative structure on P, it is sufficient to define ;I p as above, and (a) WCriced not check associativit). if p ‘- 3; (b) the Leibnitz formula should be checked only on products a . b of clemcnts forming an A-free basis of P, and satisfying deg(nb) :-I p. Indeed, if deg(ah) ,Q 2, both sides of the Leibnitz formula (cf. 0.6) are zero. If deg(ab) /I I--I, one has to show (’ (@)h (~~])(~ef!~a~d(h) is zero. As n,, is injectivc, this is equivalent to the assertion that r/(c) 0, vvhich is so since the differentiation rule holds bv hypothesis for products of degree <p.
For the sign conventions and the matrix notations used in the proofs we refer the reader to 0.18 and 0.19.
Our first result completely solves the problem of determining PA/l’,, ‘n when p ~1 2. If .f is a regular local ring, it reduces to a well-known theorem of Schcja
[40, Satz 91 (see also [24, Theorem 4.3.5-l).
‘IkomhI 7. I. Let (1 be nn ideal in the Iocul ring (,:I, ltt), nzinimally generated /lx I’ elements. of /~?,~cl-; 1, then (I is aitha. N complete intem~rtion ideal ?f depth :<2, OYn Golod ideal. In the latter case,
                
  SK4LL HOh’IOhlORPHISMS OF LOC.412 RINGS 437
 Proof. If pd a = 0, a is the principal ideal generated by a nonzero divisor, and the assertion is a particular case of Propositions 4.2 and 4.3.
Assume pd a = 1, and let c be the matrix defined by the differential d, of a minimal A-free resolution of A/cl. By Burch’s theorem ([6, Theorem 0] or [31, exercise 8, p. 1481) n 1 u(: c /r , Ic ‘.’,..., ,c ~,), where a is a nonzero divisor. If a E in, Proposition 4.4 gives the result. If a is invertible, a =~ I,._,(c) (in the notations of Proposition 6.4), and depth a = 2 by [6, Theorem 1.21. Hence (I is a complete intersection of depth 2 if Y = 2 (e.g., [31, Theorem 1291). If r >- 2, a is Golod by Theorem 6.7, which also gives the expression for PA/PA,,” (by substituting I’ - 1 for P and Y for s).
By a theorem of MacRae, a two-generated ideal of finite projective dimension satisfies the assumptions of the preceding theorem (see [6, Corollary 5.21) hence PAlPA In is a polynomial. In Theorem 7.2 we make the next step, proving that this ratio is a polynomial for three-generated ideals of projective dimension two, by using the theorems of Buchsbaum and Ksenbud on the structure of such ideals [6, Sect. 7 and 81. Even for ,4 regular, the result is new: it proves the rationality conjecture for rings with “3 generators and 3 relations,” which was the simplest unknown case from the generators/relations classification (see [44, p. 4531).
THKOREM 7.2. Let o he an ideal of prqiectiz~e dimension 2 in the local ring (-4, nr), mirzimally genevated by 3 elements.
(a) If a q nt~, then either n is a complete intersection, w PAiP,, ‘II = (1 .:. -)(I - 2)” -- z3).
(b) If (I C III~, then a is small, and all the possible values ?f P,, ;P., (,ar-egirerl in the follozcity table, in which
              Examples of ideals satisfying the conditions of the theorem are given at the end of this section. In the following corollary to Theorems 7.1 and 7.2, E, denotes, as usual, the ith deviation of the local ring L4 [24, 1~.117~.
  
  438 LC(‘HEZAR 1.. t\VRAhIOV
 ~‘OROLLARY 7.3. If the loCal I’ing --I satisfies E,, ::I depth .A! 3 and cI j 3, P, represents a rational function. In particular, apzy quotierlt ring of a three- dimensional regular local rin,g by an idealCrenerated by not more than three elements has a rational Poincark series.
Proof of the theosem. ‘I’hat s cannot exceed 3 follows from the fact that (ToriA(.-3,‘a, k))? is a homomorphic image of the second estcrior power of ‘l’or,“(.~jn, k), which is three dimensional.
IA P be a minimal A-I-free resolution of .Il;‘a, and let At , A, ( .~I:,; B, . H, )..., B,,, 2 ; c, y C’, ,..., C’,,. lx bases for P, , P, , P:, , respectively. By [6, Theorem 7.11, the differentials of P arc defined by the differential d::,, a map 6: P, l I’;“, and a nonzero divisor a E -1. In the chosen bases and their duals let d:, and b he given by matrices c -: (c;~) and b (b,j). Formulas (7.4) and (7.5) in [6] give, up to sign, the following differentials for I-’ (we set
     I,
[I, 111ail 21):
 (7.4)
  \Ye introduce multiplication
in P by the formulas:
i .i 3 dlld {/I, i,jl
 --.-I ,=I,
 B,,Ai .ljB,,
a ,, ,,‘F ,i, :: (-- I)““’ OI,O”! b IFS I c II,, c, 1-t I/!
tor I
(1, 2, 3);
(7.5)
 for I i 3, I ,A‘ //I+2,
 and setting the products of all other pairs of basis clemcnts equal to zero. \Ve check the I,eihnitz rule:
    
  siv.~L~~ HOMOMORPHISJIS OF I.OCX RINGS 439
    (here .j .: h and {h, i,jl = {1,2, 3))
       By the remarks at the beginning of this section, the above computations show that P is a JIG algebra when it is given the multiplication defined by formulas (7.5).
If a is not invertible, a is Golod and Pf,/PA,, has the tabulated Poincari: series by Proposition 4.4 (in this case s = 0).
We assume from now on that n = 1. Next we note that by a remark at the beginning of [6, Sect. 81,
   depth I,,,(C) r= 3,
(7.6)
 where I,,,(c) is the ideal generated by the m x nz minors of c. Denoting by b the matrix b @ k, we see from (7.5) that s ::= rank 8. There are three cases to be considered.
 (1)
m‘>1,or~7 : 1ands~--0,1.
 
  440 LUCHEZAR I.. AVRAXIOV
 Formula (7.4) shows that (1C ut? n I,,,(r). It follows that n is small: appl! (7.6), Proposition 6.4 (or Theorem 6.7) and Lemma 3.8 if m :- I; (7.6) and Proposition 4.3 if n? 1. From Corollary 3.3 we obtain:
Since c is the matrix of a differential in the minimal resolution P, (‘ij c nt; by formula (7.5) this implies
Tor,~“(A/a, k) . ‘I’or,,‘(Ai’a, k) : 0.
Denote by A the subalgcbra of TorTr(A/a, k) generated by TorrA(A~a, k), and by V the vector space quotient TorA(Aia, k)/A; V is an A-module via the aug- mentation E: A ---f K. The formula we have just established shows that there is an isomorphisms of R-algebras (see 0.5)
given by (s, Z) i+ ;(x) -1 U(C), where i is the inclusion and u a section of the canonical projection. Since P,,“’ Pr’P., , we have, by Proposition 9.1 :
       (J’mr’vA YL,;))-’
(Pz,)-’ -~ (111: 2 ~~ 5) $1 -- mz’.
 A being a homomorphic image of the exterior algebra on the three-dimensional vector space TorrA(il/n, A), we finish the proof by, substituting in the above formula the expression of P , obtained in Lemma 9.2.
(2) (112s,) (1, 2). After changing bases in P, and I’, if necessary, we can assume that
forsome J Etn. By (7.4)a a’ (.L.),with (I’==(~16~,JY.,),.v~-:c::.by(7.6) Cl 7 c:! > (‘3 form an A-sequence. From [6, ‘l’heorem 7. I], depth a 3 : 2. This implies that X, ~1form an A-sequence, hence J’ is a nonzcro divisor on A and x is a nonzero divisor modulo a’. In particular, a’ is isomorphic (as an A-module) to (Cl , r,), hence is a 2-gencrated ideal of projcctil-c dimension 1. Bv Theorem 7.1,
From Proposition 4.2 PA ,,,/pA ,,, equals (I ml .z) if .L’Q+nta and (I -.- z2) if s E ut?. In the latter cast a is small, as seen by Lemma 3.8 applied to the composition of Golod homomorphisms Aq --f A/a’ p> A/a.
        
  SMALL IIOMO%IOHI’HISMS OF LOCAL RINGS
441
 (3) (m, s) = (1, s). In this case b is an invertible 3 x 3 matrix, hence so is b. By (7.4) and (7.6) rr == (cr , cl! , c:J is a complete intersection, and the assertion of the theorem follows from Proposition 4.2.
EXAMPLES 7.7. Let (A, m) be a local ring of depth :;:3, s,y, z an .d-sequence. \\:e shall give, for each pair of integers (m, S)with 1 4 ~1,0 5: s .< 3, an example of a 3-generated ideal LX,,,,,o,~f projective dimension 2, for which
dim,, TorBA(A/an,,,v , k) == nz, dim,~(Tor,A(,~/a,,,,,~ , k))” = S.
Our construction is inspired from the proof of Buchsbaum and Eisenbud of [6, Theorem 8.11, and their Example 11.1.
Let c,,,’ be the m x m matrix (m q:: I):
c.x 3’ 0 “’ 0 0‘
; .sz J.Y .‘.. 0 0 . .
. .
0 0 0 “’ s y co 0 0 “’ % x,
Put w,,, := ( c,,,’ ;. Let c = c,,, be the (m $ 2) >< m matrix obtained by adjoining to c,,,’ the (m -t- I) row equal to (( ---l)“r-+ly, O,..., 0) and the (m + 2) row equal to (0,..., 0. z).
Set u,,, = ; c ~r,,,9rr+l= XU~,,,-~, v,,, = c ,,,i.,,li z -= y”‘. Let b,,,,<, : (A”“‘?)” -* A” be the maps of free A-modules defined by the formulas:
            \\‘e define complexes PiJ’sS by the formulas (7.4), with c = c,,, , b 7. h,,,., , n : 1, and set a,,,,,s= d(P,“‘,‘). Explicitely:
am,1 == (%V,J%, 7%i2, w1n2);
aI,,.2= (%% >vm2,%A
a ---
,,,,:I-- (%I7VW,)%,).
By [6, Theorem 7.11, 1’“‘~” is exact if depth I,,,(c,,,) -:; 3 and depth o,,,,,, 1:: 2. The first condition follows from Lemma 6.5. To see that the second one is
    
   satisfied WCshow that x,,, , ‘L‘,,,form an A-I-sequence. Indeed, we haw T‘,,, J’~”
and the recurrent relation zc,,, = SW,,,_, J*zw,,~_.,, in which we set w,,
1,
 IC 1 0. Now (q , 7.,) (.A-4, ’), and we can assume by induction that zc,,,+,
is not a zero divisor 1nodul0 ~i',,.~1 j"" -I, hcncc module ~3. This implies
%L’ dkiso,~~~~:i,j;m()d(i,/)
7’J)/ From the multiplication
is d nonzero divisor on .f,1(j,), hence ec,,,
formulas (7.5) \ve set that
is a nonzero
  Thus ideals cl,,,,,<with the rcquircd properties have been constructed for anh m ‘I- I and I ( s -1 3. By Proposition 4.4 we can take a,,,,,, ~~~a,,,,, (for .s :m~1. 2, or 3).
l’hc following definition is due to Buchsbaum and Eisenbud:
DEFINITI~S 8.1 [7, Introduction]. An ideal a C d is called Gorenstein of depth d, if
(i) depth a == pd,, .d,‘a m-m(1, and (ii) Est,“(,-l,‘a, A) rv A/a.
By a theorem of Serre, if A is a regular ring, then a is Gorenstein if and only- if A,‘a is a Gorcnstein ring (cf. [31 , p. I60]). By. another result of Serre Gorcnstein ideals of depth <2 arc complete intersections, hence P;,iP., n is known in this case (Proposition 4.2). Our main result in this section is:
For a regular ring --1the theorem reduces to a theorem of Wcbe [46, Satz 91. Our proof does not use \Viehe’s result: it is based on Theorem 6.2 and the Buchshaum- Eisenbud structure theorem for Gorenstein ideals of depth 3 [7, Theorem 4.I]. However, in order to apply Theorem 6.2, we have first to prow that the Buchsbaun-Eisenbud procedure for generating depth 3 Goren- stein ideals with the Pfaffians of an alternatin,? matrix gives rise to gcncricall) perfect ideals. This is done by using the complex of Buchsbaum and Eisenbud. and applying the methods of Eagon and Northcott in [l 1, 14, and 381. The
             
  SMALL IIOhlOillORPHISMS OF LOCAL RISGS 443
 structure of Gorenstein ideals of depth >--4 is unknown (at least, to the author). At the end of this section we obtain a “change of rings” theorem for depth 4 Gorenstein ideals, generated by determinants.
X.3. The Generic Buchsbaurn-Bsenbuil (3omnp/r.v
I,et r ~- 2nz 1 1, R -_ Z[;S,Jl .,,x_jG,1, and G be the generic alternating Y x Y matris over R with G,, := ~Gj, = A,, . The notations for Pfaffians of alter- nating matrices used in the sequel are introduced in 0.19. Setting $ = G,
‘d::, = (..., (-l)i’l Iyz(G) ,... ), BUCh.sb aum and Eisenbud have defined in [7, Sect. 41, the following complex of free R-modules:
‘I’hat this is really a comples follows from the formula for the expansion of a Pfaffian in 0.19. If g is an alternating Y ;< I’ matrix over the Soetherian ring S, the ideal generated by Pf,(g) (1 < i < Y) is denoted, according to the general rule introduced by Eagon and Yorthcott (cf. Section 6), by I(g, S) (S is an R-algebra via the homomorphism sending Sii to ‘y,,).
8.4. /I .llultiplication for F
BY [7, Sect. I], F has a structure of associative commutative DG algebra. Denoting by A, , A, ,..., :I, ; B, , B, ,..., B,. ; C bases of the free modules Ii’, ; F, ; F:, , respectively, we give an explicit multiplication table for F by setting:
.-I;.4 i _- i cr;,,,I’f,;,,(G) B,, ; y-=I
B,,Ai : A;B,, 6,,,C
for i, .j, h t [I, Y], and defining all other products of basis elements to be equal to zero. By the remarks at the beginning of the preceding section, only the Leibnitz rule for products A,AI,~ , B,A, should be verified. The computation is easy and we leave it to the reader; things are simplified if one uses the following formula, derived from the one in 0.19:
   (iI
            LmmA 8.5. Let S be a Noetherian riy, g an Y x r alternating matrix, M an
 
  444 LUCHEZAR L. AVRAMOV
 avbitraly finitely generated Y-module. Regarding S as an R-al,ebra (see 8.3), one has the equality:
depth(I(<~.S), .I/) I?/ 3,
zchere M is the largest integer for which II.,,(F :p:jRM) 7’~0, El,,, ,(F (5,RA/) ~~0.
Proof. By the definition of F, H,(F 1~‘~~.I/) v (0: I(g, A’)), . hence the formula holds if depth (I(g, S), M) = 0. S’mce F is a DG algebra by 8.4, H(F OR M) is annihilated by I(g, S). As shown by Auslander and Ruchsbaum in their proof of the corresponding property of the Koszul cornpIe\: [I. ‘Theorem
I.7], this implies the formula in the general case
~OKOLLAKY 8.6. depth(l(g, S)) :- 3. I’ equality ho&, ihett p~/,~S I(‘?, S) 3, and any prime ideal bj associated to I(L;r, S) has depth 3.
Proof. ‘I’hc first assertion is immediate from the lemma, which also shows that F j”R S is acyclic when depth 1(x, S) = 3. One concludes from the chain of inequalities, in which the middle one is a well-known theorem of Rees (cf. [31, Theorem 1741):
3 em:depth I(g, S) depth )J pd,yS Z(g, S) 3.
Our next result contains, in particular, the assertion that the ideal I(G, R) is genericall!- pcrfcct. Before starting the proof we introduce a terminological convention. Let g and S be as in the lemma, and let i .I-j he integers between I and r. If s and y arc elements of S and s is a unit, we sa!- that the alternating
r Y r matrix g’ defined b!- g’,,,, ~:,yr,,,if p i, C, : i, ,& ’ .y ,‘, .Y1‘I VB/I,
if C/=!ili, g:, 0 is obtained from ,y b\ an elementarv transform;ltion. An immediate consequence of formula 0.19 ii that I(,?, ,S) -f(g’. S).
PROPOSITIOS 8.7. Let R arrd G‘ be ns ti$ned in 8.3, and S he n .\70etherio?l rin,y, S[S] ,Y:i 1:R. Then
depth I(G, S[S]) pds,,Yl.S[~Y] ‘I(G, S[S]) 3.
AIZoreocer-,/(G, S[S]) is prime if S is a domain.
Proof. Set I Z(G, S[S]). To prove the first assertion it is suffcicnt, I,\- Corollar!; 8.6, to show that depth I 3. The proof is bp induction on ~1 J(E. ~ 1). For 111 1 I = (S,, , -\v,:I , Szzr), so the proposition holds in this case.
Assume 111 . .’ I. r&f1 ,...,fic be a maximal .Y[S]-sequence in I, .I (f, ....%.f..), P an associated prime of .I, containing 1. By [3 I, Theorem 1301, depth I’ r/, and by Corollarv 8.6 d < 3. Since .I-(, (I ’ i ' j .f v ~~ ZVI 1) frlrm an S[S] scquencc of length m(21n 1) 3. one of the indetcrminatc~ is not contained in P. The matrix derived from G by interchanging the rows with
                
  SMALL HOiVIOMORPHISMS OF LOCAL RINGS 445
 indices i and j, and interchanging in the resulting matrix the columns with the same indices, is alternating and can be obtained as the result of a sequence of elementary transformations applied to G. Hence we can assume x = S,1 6 2’.
Denote by T the localization of S[Xj at the multiplicatively closed subset consisting of the powers of X. The ideals 1, J, P localize in ?’ to proper ideals of depth d: J’ C I’ C P’. By a series of elementary transformations we obtain from the matrix G over T a matrix G’ with entries:
--G;, = G;, 1;
By the remarks preceding the proposition I’ I-= I(G, T) == I(G’, T). Since in the first two rows and columns of G’ the only elements different from zero are GiZ =-: 1, Gi, == -1, formula 0.19 shows that I(G’, 7’) =: I(G”, T), where G” is the matrix obtained by deleting from G’ the first two rows and columns. Denote by S’ the localization at {x”) ,,;l of the ring S[{,\-,,ji=l,2]. The expressions for the entries of G’ show that Gi, (3 < i -: j < Y) are algebraically indcpendant over S’, and
The inductive assumption applied to the ring S’ and the alternating (Y -- 2) ,’ (Y - 2) matrix G” shows that d depth I(G”, 7’) -= 3.
J,et now S be a domain. If 172= I, 1=- I(G, S[.\J) is clearly prime. So assume no ,: 1 and let P, , Pp be two prime ideals associated to 1. By the first part and Corollas-y 8.6, depth P, mmd=epth I’, 13. Since the indcterminates form an S[S]-sequence of length ~(2712-~- 1) ;-- 6, wc can, as above, assume that s = 1\;Z $ PI u P, . In the notations of the first part of the proof, PI’ :.md P,’ arc proper prime ideals of 7’, associated to I’. By the inductive hypothesis, I’ is prime, hence I’ := P,’ -= P,‘. This implies P, =m=E’Z, therefore PI is the onl! prime ideal associated to I. Since x $ PI , s” is not a zero divisor module 1 for any n, hence I -= Un;” (I: .F) =:I I’ n S[,Y] is prime.
1\:e note, that when S is a field, a different proof of the proposition is given in [7, Proposition 5.I].
X.8. Proofof Theovenz 8.2
Depth 3 ideals generated by 3 elements are complete intersections, so the theorem is established for Y =-- 3.
Suppose Y > 3. Buchsbaum and Eisenbud [7, Theorem 4. I] have proved that r is odd, and there is an alternating Y x Y matrix g with entries in m, such that a :- I(g, il) and F On A is a minimal A-free resolution of ,2/a. By Proposition 8.7 and Theorem 6.2 n is small. By Corollary 3.3 PA/P, St1== Pz, , where A _:
                
  446 LUCIIEZAR I>. AVRAMOV
 Tor”(A/n, A). From the above we have an isomorphism of k-algebras .? = F OR h. The formulas in 8.4 giving the multiplication in F show that (Al)” = 0. Applying Proposition 9.6 wc obtain the required expression for E’A/P,,,l,
For -? an arbitrary local ring of depth at least 3, Buchsbaum and Eisenbud have constructed examples of Gorenstcin ideals of depth 3, minimally generated by 1 elements, for any odd integer Y 1: 3 (cf. [7, Proposition 5.21).
The final result of this section is a change of rings theorem for factorizations modulo some special depth 4 Gorenstcin id&s, discovcrcd b\- Gulliksen and Negard [25, Theorem 21.
‘rIIEOREZ1 8.9. Let (A, 111,k) be a local ring, and u be an r x T matri,~ zlith entries in 111,(1 Ir.mI(u) (cf. Proposition 6.4). If depth 11 4, then either a is a complete intersection and r = 2, OY 7 > 2 and a is small; if, nzoyeovey, the charac- teristic of k is dijjferent from 2, in the latter case one has:
     PA:;& a
1~ r2.$ _. 20,” ~ 1)g: r2z1 + =;‘.
 Proof. ‘l’he case r 2 is standard.
If Y 3, a is small by Proposition 6.4. Herzog has modified the Gulliksen Kegardgcncriccomplex[25]5.0astoobtainaminimalresolutionwhen1-1,u, and (I are as in the theorem, and also introduced an associative multiplication, transformirg this minimal resolution into a I)(; A-algebra, when 2 is invertible in A [27, Beispiel2.1 .15]. In particular, his formulas show that A = TorA(,l/a, k) satisfies (A$ 0, A,& =L 0. By Corollary 3.3 WC have P,d/P;l,,Il ==~(P.,))l, which is given by Proposition 9.6, since a is a Gorenstein ideal by the theorem of Gulliksen and Negird.
9. THE Ho~or.oc;v OF SOME GRADED CONNECTED ~-ALGEBRAS
In this section we finish the proofs of the theorems in Sections 7 and 8.
A will denote a graded commutative connected k-algebra, locally finite dimensional over k (cf. 0.3). \Ye shall use in the contest of graded algebras some results on local rings homology-. This is possible, since their proofs are based on the existence of minimal bigraded algebra resolutions. ‘I’he last fact is established by Jozefiak [29] by an extension of Gullikscn’s method in [22] (a different commutation rule for bigraded objects is adopted in [29], but only trivial alterations arc needed to obtain the result with our sign conxntion 0.10). The following useful result is due to Gulliksen:
PROPOSITION 9.1 [23, Theorem 21. If JZ is a finitely generated A-module and A(M) is the trivial extension of A by 11s(cf. 0.5), then
          
  SllALI. HOMOMORPHISMS OF LOCAT. RINGS 441
 PROFOSITION 9.2. Let R be the exterior algebra on the three-dimensional aectov space El , and let J be a nonzero graded ideal contained in 12E, A - El J, s _dim,;(1,.Then
(P/p -z1-32”+s-4 if0<s:g2, (PA)-1 =: 1 - 3x2 .i. 3s” - $ - $ if s _ 3.
Proof. Suppose first s < 3, hence Jz f 0. By the duality of E, and E, , any element of E, is decomposable, and this is easily seen to imply in each of the following cases the existence of a basis .vr , x2 , xa of E, such that:
    (0) J z (x1x2,x&j ,.y1) (1) J = (x,1c3, x3x1)
(2) J=(x1x.,)
if s=O;
if s=l;
if s=2.
 Denoting by x the image of x E E in /l and by B( ) the exterior algebra functor, we deduce:
 (0) A N k(f1,)
(I) A KY!E(kq 3 k&E&G,)
(2) A N h(hx, @ kx,) @ E(hx,)
if s-0;
if ~~-1;
if s =-=2.
  Applying Proposition 9.1 and [lo, Th eorem XI. 3.11, we obtain the following formulas for P., :
 (0)(P&’ =I-3x’
(1) (PA)-1 = (1 - ;%)Z- ,“‘1;~:1- 3z” -t _“4
(2) (P,)-1 = (1 ~ 2x2)(1 - s?) 1 - 32” + 22’
ifs:=0; if s--l;
if s == 2.
 Let now s = 3. Then J == Ea ‘v k. If Y is the E-free algebra resolution obtained by killing a basis of El (i.e., the Koszul resolution of the E-module k), C = Y/(JY) is a subcomplex of the minimal A-free algebra resolution of k. Since J is the socle of E, Gulliksen’s proof of Theorem 1 [23] carries over verbatim (to show that J is Golod) and gives:
    DEFINITION
a nonnegative
(PA)-1 = (pmy (1 _ ,pm)
=:- (1 - 43 (1 - $(l - ,$-3) 1- 3z’ + 3z-1 - 25 - 26.
9.3. We say that /l is a PoincarC algebra of length d (li being integer), if the following conditions are satisfied:
 +SI/jO/Z-1-j
 
  448 I.CCHEZAR I.. AVRAMOV
 (i) /l,!? kand/l, ==0fori:..11;
(ii) the pairings fli Y A,--, -+ fl,, arc perfect for all i;
(iii) if tl := 2n and li has characteristic 2, .G :: 0 for anv x E ii,,
\\-c remark that conditions (i) and (ii) imply that /l is positively graded and connected.
fkAMPLE 9.4. If a is a Gorenstein ideal of depth din the local ring (II, nt, k), Tor’(il/a, k) is a Poincare algebra of length d. (Note, that for il regular the converse is also true, as proved in [4].)
Proof. (i) is contained in the definition of Gorenstein ideals (Definition 8. I). (ii) is proved in [4] for A regular, and is an immediate consequence in the general case of [7, Theorem I .I]. Finally, let C; be an A-free algebra resolution of A/a, constructed by Tate’s method [45], and II E t’,, 5‘ lz be a representative of the homology class s t Tor,/(-4/u, k). If n is odd, x2 0 by the commutati- vity relation. If IZ is even, by the properties of the divided powers in I,- 6~ k (e.g., [24, Definition 1.7.11) one has uz W”), which is zero when the charac- teristic of k is 2.
LEMMA 9.5. With A and (1as in the esanzple above, there is a basis x0 ,..., x,,, of the gvaded zector space Tor”(dja, k), conslstiq of homogeneous elements satisfJ&g :
Proof. By 9.4 and 9.3 we can identify ‘Ior,<.“(il/a, k) with (Tor;jm,Y(=l/a, k))’ via the pairing into Tor,/(il/cl, k) e k; this shows how to choose the bases in Tor,SA(ag,‘a, k) for s -1 n I=~=n/2. If s = II, we obtain a nondcgenerate bilinear form on Tor,,A(A/a, k), which is symmetric if n is even and the characteristic of R is different from 2, and alternating otherwise (here is the motivation for including condition (iii) in the definition of PoincarC algebras). In the alternating case we take in Tor,,“(Ajn, k) the symplectic basis (cf. [5, Sect. 5, Theorem 11). In the symmetric case, we have, by the Euler characteristic formula ([l , Appendix] or [31, Theorems 192 and 1951) and the equalities
(see 9.3(ii)), the relation:
dim, TormA(iZ;‘a, Iz) 2 c dim,& Tor,5A(A/a, k) = zp. ,\=0
                
  SMALL IfOMO~~ORPHIShlS OF LOC.41, RINGS 449
 Let yr ,...) ?‘zi, be an orthogonal basis of Tor,IA(A/a, k) (cf. [5, Sect. 6, Theorem I]). Ilye set, for 1 < i 5.;p:
where E, is taken ~-~1 or ~ 1 so as to obtain a nonzero clement in the denominator: this is possible since the characteristic of k is different from 2. The assertion of the lemma is obtained after a remuneration of the basis elements.
Proof. Choose a homogeneous basis st ,..., s,,, of IA as in I,emma 9.5, and set I7 A<S; bideg S ~ (1, l), nS == s,>. An easy computation shows that the following set % of cycles forms a system of representatives for a k-basis of IH( 1.) :
.I2,..., .v,,,-2)A+,,,-,)
,v,S(j) ,..., .v,,l-p (;(j) for j ; 1.
             It is immediately verified that y is a trivial Massey operation on Y in the sense of Gulliksen [23, Sect. I]. Since Y is clearly a subalgebra of the minimal A-free resolution S of k, and S is a free Y-module, by applying the Golod-Gulliksen theorem [23, Sect. I] we obtain:
   
  450 LUCHEZAK 1,. hVRA,Z1OV
APPENDIX: Sn,rAr.L Hon~o~~oRPHIsivIs OF FINITELY GENERATED MODULES
The concept of small ideal has a linear analog, with which we shall presently deal.
~EFIIiITION A. 1. A homomorphism f: jlI--pN of finitely generated modules over the local ring (A, nt, k) is called small, if the induced maps:
TorjA(f, k): TorjA(M, k) ---f ‘I’orjA(N, k)
are injective for all j.
h submodule I, C 9f is called small if the projection M - :U,‘I, is a small
homomorphism.
The main result of this section establishes the existence of nonzero small
submodules in any module of positive Krull dimension. However, we first note an obvious example, used in 4.10.
I~AMPLE A.2. If 121is a free .l-module, L C JZ is small if and only ifL C ntM. In particular, any idcal of .3 is small as a submodule.
THEOREM A.3. f: Al -> A- is N small homomorphism of $nite.!y generated A-modules ;f and only if A4(f‘): .4(!11) + A(N) (cf. 0.5) is a small homomorphism of local sings.
Pwof. C’onsidcr the commutative diagram of local rings over k:
             where i(a) = (a, 0), p(a, WZ)== a, and i’, p’ are defined similarly. By applying to it the functor Tor-(k, k) we obtain a commutative diagram of Hopf algebras which satisfies the conditions of Lemma 1.4. Hence A(f), is injective if and only if P(A(f), / TorA(k, k)): P(TorA(“)(k, k) // i*) ---f p(TorA(N)(k, k) / i+‘) is injective. By Gulliksen’s theorem [23, Theorem 21, i and i’ are Golod. By Theorem 3.5 and the naturality of the suspension (diagram (2.5)) this implies that P(L4(f)x / TorA(k, k)) is injective if and only if
   TorA(A(f), k): TorA(A(M), k) -+ TorA(A(N), k)
 
  SMALL HOMOMORPHISXIS OF LOCAL RINGS 451
 is injective. From the natural (with respect to the module (-)) isomorphisms of augmented k-algebras
(X is the minimal algebra resolution of k) we see that TorA(rl(f), h) is injective if and only if TorQ k) is injective.
COROLLARY A.4. For any jinitely generated A-module A3 there is an integer r depending only on M, such that any submodule L C ntrM is small.
Proof. From Theorem 4.1 there is an integer Y, such that any ideal contained in the (r -C 1) power of the maximal ideal (in, M) of the local ring A(M) is small. If L is a submodule of M contained in m’A9, then (0, L) is an ideal of A(fJl), and (0, L) c (lw+l, 1lVM) = (m, N)l‘-‘1. \\:e apply the theorem to f: nZ --, d,f,‘L, noting that Ker -4(f) :~: (0, L).
Remarks A.5. The corollary admits the following useful reformulation:
Let M be a finitely generated -q-module, L a submodule of M; I,‘, I-, IT’ minimal ,4-free resolutions of I,, :U, M/L, respectively. There is an integer r depending only on M, such that if L C nl”;1l the following equivalent conditions are fulfilled :
(I) for any homomorphism of complexsg: CT- I’ over L C .lI, j( 2’) C 11V1;
(2) for any homomorphism of complexes fi I’ - W over :I2 --f ,11/L, J# is a split monomorphism.
The proof is immediate from the long homology exact sequence and Lemma 0.4.
1. A considerably expanded version of [7] has now appeared in print: cf. 11. A. Buchsbaum and D. Eisenbud, Algebra structures for finite free resolutions, and some structure theorems for ideals of codimension 3, Amer. J. Math. 99 (1977), 447-485. In particular, the multiplicative structure on the Buchsbaum-Eisenbud complex, intro- duced in 8.4, is also constructed in Theorem 4.1 of that paper.
2. Proposition 6.4 is formulated under unnecessarily restrictive hypotheses. Indeed, the following holds:
Theorem 6.4.a. Let (A, 171) be a local ring and II be an T x s matrix over A, which reduced module m has rank q. Let t ’ T ..’ s and n = J,(U). If depth a= (r t 1.l)(s - t ; I), then either
(a) (I = t - 1 and n is a complete intersection; or
(b) (I t - 2 and a is small.
For the proof just note that by elementary transformations one can bring II to a form with qz = 1 for 1 :‘: i < q, Us, t nt for all other pairs (i, j), and zfij = 0 for i q,
                
   q,i j. Since n has finite depth, we see that (1 _: I I. In cast equality holds, a is generated h\ depth ~1elements, hence (a). In case of strict inequalit>-, denote by ‘u the matrix (II,,),< 1 _, _/ I,‘, Ci,a, and note that I,(u) I, ,/(z,), hence Proposition 6.4 applies.
‘L’he same ;Irgument shows that in Theorems 6.7 and 8.9 we need not assume that the matrices have entries in 111, the corresponding formulas for the Poincart series holding I\ ith I q and s y in place of Y and s respectlvel!-.
1. 11. ;I1 Sl..4SD~il<ASD 1). .L\. lkC'HSL1171, C’odimension and multiplicity. :lwr. of Math. 68 (1958), 625-657.
2. I,. I,. ;\vR.~~Io\-, On the Hopf algebra of a local ring, Izp.. Aknd. LV:ud~.SSSR Ser. Mut. 38 (1974), 153-217; Mntk. USSR-Ix. 8 (1974), 259-284.
i
    3.
4.
5. 6.
7.
8.
I,. I,. XI-IC.\\IOV, On the homology of Rtensor product of local rings, Zzv. Mend. iVnzr/z. SSSR Ser. Mot. 39 (1975), 3-14; &I&. IJSSR-IZC. 9 (1975), I-12; Corrections, Ize. rlkod. .Vmk SSSR SW. Mat. 39 (I 975), 1434.
I,. I,. .~YRA\ICI\ XND I<. S. G~LOD, On the homology of the Koszul complex of a local Gorenstein ring, .Wcrt. Zuwetlti 9 (I 971), 53-58; Mdt. i\-<>ole.v9 (1971), 30-32.
.s. ~k~l~RBiKf, “.\lgthre,” Chapitre IX, Hermann, Paris, 1959.
I>. .A. Dr (.I-ISB~I XI :ZNI) D. EISKXIIL-I), Some structure theorems for tinite free rcsolu- tions, :l&wrcrs irr Math. 12 (I 974), 84-I 39.
I>. .A. HI~~HSHI-V .xxn I>. E~s~~vnrx~, Gownstein ideals of height three, preprint. (See Sore added in proof.)
1). .1. BI (‘~IsB-\I’x~ ,a~ I>. S. l<rxr, X generalized Iioszul complex. 11. Ikpth and multiplicity, Trrrus. .-1uzer. Month. Sot. 111 (1964). 197-224.
    9. Ii. C-iww, .\lg&res d’r:ilenberg-~~acI,anc
7e :InnGe (I 954,’ I955), ExposCs 1-I I, Secr&ariat
et
homntopie, Mathknatique,
SCminaire II. Cartan, Paris, 1956.
10.
I I.
14.
13. C.~RTIN ~1) S. EILRNBERC, “Homological
Princeton, S.J., 1956.
J. .-\. l<.a~)s, lkamples of C’ohen~Rlacauley rings, xvhich are not Gorenstein, M\/IN~/~. %. 109 (1969), 109~111.
J, .A. ELC;OZ AND 1). G. NORTHC.OTT, Ideals defined by a matrix and a certain complex
assoctnted with them, Pvoc. Roy. Sm. Ser. A 269 (I 962), 188-204.
15, J. X. EAGON AND I). J. NORTHCOTT, Generically acyclic complexes and genericall>
pcrfcct ideals, Proc. Roy. Sm. SW. A 299 (1967). 147-172.
16. S. I~II.I;SBI:IK:, Homological dimension and syzygies, Afzn. of Math. 64 (I 956). 32X-336. 17. K. l~~iirr~rcc;, Iktermination of a class of PoincarP series, Marh. Scatd. 37 (1975).
29-39.
IX. I<. S. <;OI.OIJ, On the homology of certain local rings, Do/z/. .-Jkad. ,Varrk SSSR 144
(I 962), 479--482; SOT. Math. 3 (I 962), 745-748.
19. I<. II. GOWR, Multiplicative structure of generalized Koszul complexes, Trarrs.
Amrr. Jforh. Sot. 185 (1973), 287-307.
70. 1’. K. .A. 31. Gr;c~wrer~, On extensions of algebras, coalgebras and IIopf algebras,
A/IIPI.. J. .llntlr. 84 (I 962), 346-384.
21, \‘. I<. .\. 11. GL-CXNIIHM AND J. P. RIAI., On the theory and appiicatlons of difYercntial
Algebra,”
Princeton UniI.. Press,
       torsion products, Mrur. .4mer. hfoth. SOC. 142 (I 974).
 
  SMALL IiOIvlOhIORPHIShIS OF LOCAL RINGS 453
 22.
23.
24.
25.
26.
27.
28.
29.
30.
31. 32.
33. 34. 35. 36.
37.
38.
39.
40. 41.
42.
43.
44. 45.
46.
47.
48.
49.
T. II. GC’LLII<SEN, A proof of the existence of minimal R-algebra resolutions, Acta Muth. 120 (1968), 53-58.
T. H. GC.LLII(SEN, Massey operations and the Poincare series of certain local rings, J. Algebra 22 (1972), 223-232.
T. H. GULLII<SEN AND G. LETIN, “Homology of Local Rings,” Queen’s Papers in Pure and Appl. Math. No. 20, Queen’s University, Kingston, Ont., 1969.
T. H. GULLIKSEN AND 0. G. NEG.SRD, Un complexe resolvant pour certains ideaux determinantiels, C. R. Acad. Sci. Pm% SW. A 274 (1972), 16-I 8.
J. HERZOC, Certain complexes associated to a sequence and a matrix, &1urzuscr. Math 12(1974),217-248.
J. HERZOC, “Komplexe, Xuflosungen und Dualitat in der lokalen Algebra,” Habilitationsschrift Regensburg, 1973.
XT. HOCHSTER AND J. A. EAGON, Cohen-S’Iacaulay rings, invariant theory, and the generic perfection of determinantal loci, Amev. J. Math. 93 (1971), 1020-1058.
‘I’. J~zEFI.~E;, Tate resolutions for commutative graded algebras over a local ring, Eirnd. Math. 74 (1972), 209-23 I.
I. K.~PL.~NsKB, R-sequences and homological dimension, ,Vagoyn Math. J. 20 (1962), 1955198.
I. KAPLANSKY, “Commutative Rings,” Allyn and Bacon, Boston, hlass., 1970.
E. KUNZ, Almost complete intersections are not Gorenstein rings, J. iligebm 28 (1974), 11 l-l 15.
G. LEVIN, Local rings and Golod homomorphisms, ,l. Algebvn 37 (1975), 266-289. S. hIA(.LANE, “Homology,” Springer-Verlag, Berlin/Heidelberg/New York, 1963.
J. I’. MAY, Matric Massey products, J. Algebra 12 (1969), 533-568.
J. 1%‘. hlILNoR AND J. C. %Ioow, On the structure of Hopf algebras, Ann. of 12/lath. 81 (1965), 211-264.
J. C. MOORE, Algebre homologique et homologie des &spaces classifiants, Seminaire
H. Cartan, 12e an&e (1959/1960), Expose 7, Secretariat Math., Paris, 1961.
D. J. XORTCOTT, Some remarks on the theory of ideals defined by matrices, Qwut. 1. M&. Oxford SEY. 14 (1963), 193-204.
D. J. NORTHCOY~, A homological investigation of a certain residual ideal, Math. Ann. 150 (1963), 99-110.
G. SCHEJA, vber die Bettizahlen lokaler Ringe, Moth. elm. 155 (1964), 155-172.
C. SCHOELLER, T-H algebres sur un corps, C. R. Acnd. Sci. Paris Ser. A 265 (1967), 655-658.
C. SCHOELLER, Homologie des anneaun locaus noethbriens, C. R. i3cad. Sci. Paris Ser. A 265 (1967). 768-771.
J.-P. SERHE, “Algebre locale. MultiplicitCs,” 2e edition, Lecture Notes in Mathematics
No. 11, Springer-Verlag, Berlin/Heidelberg/New York, 1965.
J. SIWIASH, The Poincare series of a local ring, J. Algebra 12 (1969), 453-470.
J. TATE, Homology of Noetherian rings and local rings, Illi;tois J. Moth. 1 (1957), 14-27.
H. WIEBE, tiber homologische Invarianten lokaler Ringe, :%2&h. r3rm. 179 (1969), 257.-274.
K. 11.OLFFHARDT, Die Betti-Reiche und die .Abweichungen eines lokalen Rings, Math. Z. 114(1970), 66-78.
K. WOLFFHARDT, Zur Homologietheorie assoziativen Algebren, ki’mmsc~. M&z. 4 (1971), 149-168.
C. L&WALL, “On the Subalgebra Generated by the One-Dimensional Elements in the Yoneda Ext-Algebra,” h’Iatematiska institutionen, Stockholms universitet,
               Preprint No. 5, 1976.
     JOURNAL OF PURE AND APPLIED ALGEBRA
 EISEVIER Journal of Pure and Applied Algebra 95 (1994) 271-295
  The Poincark series of every finitely generated module over a codimension four almost complete intersection is a rational function
Andrew R. Ku&n”, *, 1 Susan M. Palmer Slatteryb “Mathematics Department, University qfSouthCarolina. Columbia, SC 29208, USA
bMathemarics Department, Southwest Missouri State University, Springfield, MO 65804, USA
Communicated by J.D. Stashe& received 12 February 1992
Abstract
Let (R, W, k) be a regular local ring in which two is a unit and let A = R/J, where J is a five generated grade four perfect ideal in R. We prove that the Poincark series P:(z) = CEO dimk Tort(M, k) zi ISa rational function for all finitely generated A-modules M. We also prove that the Eisenbud conjecture holds for A, that is, if M is an A-module whose Betti numbers are bounded. then the minimal resolution of M by free A-modules is eventually periodic of period at most two.
0. Introduction
Let A be a quotient of a regular local ring (R,YX, k). If any of the following conditions hold:
(a) codimA I 3, or
(b) codim A = 4 and A is Gorenstein, or
(c) A is one link from a complete intersection, or
(d) A is two links from a complete intersection and A is Gorenstein,
then it has been shown in [4] and [8] that all of the following conclusions hold:
(1) The PoincarC series P?(z) = cIp”,O dimk Tor”(k, M)z’ is a rational function for all finitely generated A-modules M.
(2) If R contains the field of rational numbers, then the Herzog Conjecture [14] holds for the ring A. That is, the cotangent modules T(A/R, A) vanish for all large i if and only if A is a complete intersection.
’ The first author was supported in part by the National Science Foundation. * Corresponding author.
0022-4049/94/$07.00 0 Elsevier Science B.V. All rights reserved SSDI 0022-4049(93)E0149-X
                    
    272 A.R. Kustin, S.M. Palmer Shttrryi Journal of Pure and Applied Algebra 95 11994) 271-295
(3) The Eisenbud Conjecture [lo] holds for the ring A. That is, if M is a finitely generated A-module whose Betti numbers are bounded, then the minimal resolution of M eventually becomes periodic of period at most two.
In the present paper we prove that conclusions (l)-(3) all hold in the presence of hypothesis
(e) A is an almost complete intersection of codimension four in which two is a unit. In each of the cases (a)-(e), there are three steps to the process:
(i) one proves that the minimal R-resolution of A is a DG-algebra; (ii) one classifies the Tor-algebras Tort(A, k); and
(iii) one completes the proof of (l)-(3).
For hypothesis (e), step (i) was begun in [ 191 and [20], and was completed in [ 181; step (ii) was carried out in [17]; and step (iii) is contained in the present paper.
In the following section by section description of the paper, let (R, %rI,k) be a regular local ring and (A, m, k) be the quotient R/J, where J is a grade four almost complete intersection ideal in R. Section 1 is a review of the classification of the Tor-algebras To&A, k). Many of the results in this paper are obtained by proving that the appropriate DGZ-algebra is Golod. The definition and properties of Golod algebras may be found in Section 2. We compute the Poincare series P,“(z) in Section 3. In Section 4, we apply a new result (Theorem 4.1) due to Avramov, in order to prove that the Poincare series P:(z) is rational for all finitely generated A-modules M. The growth of the Betti numbers of M is investigated in Section 5. The proof, in [8], that property (1) holds in the presence of any of conditions (a)-(d), depends on proving that there is a Golod homomorphism C+A from a complete intersection C onto A. In Section 6 we observe that while the technique of [S] applies to most codimension four almost complete intersections A, there do exist A for which it does not apply. It follows that the generalization in Theorem 4.1 of the technique from [S] is essential to the completion of this paper.
In this paper “ring” means commutative noetherian ring with one. The grade of a proper ideal I in a ring R is the length of the longest regular sequence on R in I. The ideal I of R is called perfect if the grade of I is equal to the projective dimension of the R-module R/Z. A grade g ideal Z is called a complete intersection if it can be generated by g generators. Complete intersection ideals are necessarily perfect. The grade g ideal Z is called an almost complete intersection if it is a perfect ideal which is not a complete intersection and which can be generated by g + 1 generators. We use the concepts “graded k-algebra ”,“trivial module”, and “trivial extension” in the usual manner; see [17]. If S, is a divided power algebra, then S,(x) represents a divided power extension of S,. The algebra (S, = & t 0 Si, d) is a DGT-algebra if
(a) the multiplication Si x Sj + Si+j is graded-commutative (sisj = ( - l)‘jsjsi for sk E Sk and SiSi = 0 for i odd) and associative,
(b) the differential d: Si + Si_ 1 satisfies d(SiSj) = d(si)sj + ( - l)‘sid(sj),
                       
   A.R. Kustin, SM. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 273
(c) for each homogeneous element s in S, of positive even degree, there is an associated sequence of elements s(O), s(l), s@), . . . which satisfies s(O) = 1, s(i) = s, deg sck) = k deg s, as well as a list of other axioms (see [13, Definition 1.7.1]), and
(d) d(sck’) = (ds)s (k ‘) for each homogeneous s E S, of positive even degree.
1. The classification of the Tor-algebras
If k is any field, then let A-F* be the DGT-algebras over k which are defined in Table 1. Further numerical information about (and alternate descriptions of) these algebras may be found in [17]. (Table 1 and [17] define the same algebras S, = A, ...,F* in all cases, except when char k = 2 and S, = F*. All of the results in [17] and almost all of the results in the present paper assume char k # 2; conse- quently, one may use either definition of F* in these places. However, the correct definition of F* is given in Table 1; see Example 3.4.)
The following result is an extension of the main result in [ 171. The new information
is the observation that all of the Betti numbers of the R-module R/J are determined by the form of S, together with the Cohen-Macaulay type of R/J.
Theorem 1.1. Let (R, YJI,k) be a local ring in which 2 is a unit. Assume that every element of k has a square root in k. Let J be a grade four almost complete intersection ideal in R, and let T, be the graded k-algebra Tort(R/J, k). Then there is a parameter p, q, or r which satisfies
            0up, 2I q<3, and 2<r _<5, an algebra S, from the list
A, BCpl, CCPI, Cc2’, C”, DCPI, DC’),ECPI, Ecq),FCPI, F”‘, F*,
(1.1)
   and a positively graded vector space W such that, T, is isomorphic (as a graded k-algebra) to the trivial extension S,rx Wof S, by the trivial S.-module W. Furthermore,
W is completely determined by dimk T, together with the subalgebra k [ TI] of T,. In particular, ifdimk T, = t, then dimk T3 = dimk T, + t - 4, where dimk T2 is given in the
 following table.
D CO1 t+8 E PI t+9
 kCT,l
dimk T2 Arxk( - 1) t+6
B CO1 t+7 cc01 t+7
(1.2)
    FCOI
t + 10
   
    274 A.R. Kustin, S.M. Palmer Slattery/ Journal qf Pure and Applied Algebra 95 (1994) 271-295
Remark. The classification of k [ T,] and the chart which relates dim Tz and dim T4 both remain valid, even if k is not closed under the square root operation.
Proof. In light of [17], it suffices to verify the table which gives dimk Tz in terms oft.
  Let S be any four-dimensional argument to produce vector j?x : L3 + k4 such that
(a) Tz=S2@LI,
(b) T, = ker p3,
(c) dimk L, = dim, L3, and (d) dimkS3 = 4 - rankE3.
subspace of T, . Lemma 3.9 of [lS] uses a linkage
 A quick calculation yields
dim, T, = dim, T, + dim,S2 - dim,S3 + 4.
spaces
L, and L3, and a
linear
transformation
     Let S be the subspace (xi, x2, x3,x4) of T,. The following table completes the proof.
 kCT,l
dimkS2 dim, S 3
Arxk(-1) 6 4
 BCOI C PI
D CO1 E PI
P WI
63 52 62 61 600
   We conclude this section by identifying the Tor-algebras from Table 1 which correspond to hypersurface sections. The proof of Proposition 1.2 follows the proof of (3.3) and (3.4) in [4]; it does not use the classification from [17]. On the other hand, the proof of Observation 1.3 does use [17]; the chief significance of this result is that it shows that if the Tor-algebra T, has the form C*rx W, then W must be zero.
Proposition 1.2. Let J be a gradefour almost complete intersection ideal in the local ring (R, 9X, k). Let T, = Tort(R/J, k) and t = dimk T4. The following statements are equiva- lent.
(a) The ideal J is a hypersurface section; that is, there exists an ideal J’ E R and an element a E R, such that a is regular on R/J’ and J = (J’, a).
(b) There is a nonzero element h in TI such that T, is afree module over the subalgebra
k(h >.
(4 The algebra T. is isomorphic to B[t], C[t], or C*.
          
    A.R. Kustin, S.M. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 275
Table 1
The definition of the algebras A-F*. Each k-algebra S. = @;‘=, S, is a DGT-algebra with So = k and di = dim,.??,. Select bases {xi} for S,, {Yi} for Sz, {zi} for S 3, and {wi} for Sq. View S, as the direct sum S’; OS:. Every product of basis vectors which is not listed has been set equal to zero. The parameters p, q, and r satisfy (1.1). The differential in S. is identically zero.
   s. dl dz d, da s,xs~
A4640(a)
SlXS,XS, s, x.7;
s,xs,
(2) S2
0’) 0 0
0 0
0 0
(j)
 B[PI 5 CCPI 5
pt7 2p+3 p p-t7 2p+3 p 871
972 pf8 2p+2 p 961
p+9 2p+1 p 10 2q+1 1
p+lO 2p p 11 2r 1
12 10 2
(b)withI=p
(a’) 0 0 (b’)withI=2p (g) k’)
CO’ 5 C* 5
I=2p (g) (is’) I=4 (h) (h’)
withj=2 withj=2 I=4 (i) 0’)
(c) with (c) with
(c) with (d) with (d) with
(e) with (e) with
1= p I=1
I=2 1= p I=1
I=p I=1
(c’) with (c’) with
(c’) with (d’) with (d’)with1=4
(e’)withI=2p (e’)withI=2q
 DCPI 5
1= 2p
(g) (g’) (h) (h’)
 ,,‘2’ ECPI 5
E’4’ FCPI 5
with j = 2 (g)
(h)
withj=q
withj=2 (8’)
(h’)
with j = q
5
 F”’
F* 5
(f)withI=p (f)withI=1
(f)withI=2
0 (g) (9’) 0 (h) (h’)
with j = r withj=r 0 (h) (h’)
withj=5 withj = 5
5
 5
  Key
(4 x,xz=YI,xIx3=Y2,x~x~=Y3,x2x~=y4,X~X~=y5,X~X~=Y~.
(a’) X1X2X3 = Z1, X1X2X4 = Z2, X1X3X4 = Z3, X2X3X4 = Zq.
W -y1-y2 = Y1+1. x1x3 = Y,+z, XIX4 = Y1+3, x1x5 = Yl,4, x2x3 = Y1+5, X2X& = Y,+,, x3x4 = Y1+7. @‘I xIx2,~3 = zl+l. x1xZx4 = zt+2, xlx3x., = 2lf3.
(4 XIX2 = Yl+l> XIX3 = Yl-tZ> XIX4 = Y,+3, XIX5 = Yl,,, x2x3 = Y1+5, x2x4 = Ylf.5. x2x5 = Yf,,.
6’) -~l.~Zxj = zl+l, xIxZx4 = z1+2, xIx2x5 = zl+3.
(4 XIX2 = Y1+1, x1x3 = Y1+2, x1x4 = Yr+,. XIX5 = Y1+4, .x2x3 = Y1+5, x2x4 = Yl,,, x2x5 = Y1+7,
x3x4 = Yl+S.
Cd’)x1x2x3 = Zl+I. x1x2x4 = Zlf2.
(d x1x2 = Yl+l> x1x3 = Yl+Z, x1x4 = Y1+3, x1x5 = .“I+41 x2x3 = Yl+5, x2.%4 = Yf+6, x2x5 = Y1+7,
x3x4 = Y1+s, x3x5 = Y1+9.
x1x2x3 = zl+l.
XIX2 = Yl+I> x1x3 = Ylf2, XIX4 = Y1+3r XIX5 = Yl,,, x2x3 = Yl,,, x2x4 = y1+6, x2x5 = yt+7, x3x4 = Y1+s. x3x5 = Y,+9, x4x5 = Yl,,,.
k) x,yi=z,forl$i<p.
k’) x,z,+,=wiforl%i<p.
(h) xiyl = z, for 1 I i 5 j.
@‘I xiz,+, = w1 for 1 5 i 2 j.
6) XIYl=z1,XIY2=z2>X2Yl=z3,X3Y2=2.4. (i’) x,x2y,= WI, XlXZY2 = w2.
6) YIY, = Wl> Yi2’ = w2.
Proof. (a) d(c) The element a is regular on R; consequently, J’ is a grade three almost complete intersection. Such ideals have been classified by Buchsbaum and Eisenbud [9, Proposition 5.31. The computation of Ti = Tort(R/J’,k) and T, = TL Ok Torl(R/(a), k) follows quickly. Indeed, it is clear that t is equal to dim, T;; thus,
             
    276 A.R. Kustin, S.M. Palmer Slattery/ Journal cf Pure and Applied Algebra 95 (1994) 271-295
 in the language of [S, Theorem 2.11, we have
H(3, 2) ift=2
T; = TE, if t 2 3 is odd, and
i H(3, 0) if t 2 4 is even,
C* ift=2
T, = B[t] if t 2 3 is odd,
C[t] if t 2 4 is even.
  (c) + (b) It is obvious that each of the three listed algebras is a free module over the subalgebra k(x,).
(b) *(a) Let $ represent the composition J + J/mJ 3 TI , and select an element a EJ such that a is a regular element of R and cl/(a) = h. Avramov [4] has proved that J/(a) is a grade three almost complete intersection ideal in R/(a). The structure theorem of Buchsbaum and Eisenbud [9] produces the required grade three almost complete intersection J’ in R. 0
Observation 1.3. If the notation and hypotheses of Theorem 1.1 are adopted, then the following statements are equivalent.
(a) The algebra T, is isomorphic to C*rx Wfor some trivial C*-module W.
(b) There exist elements aI ,a2 E R and a three generated, grade two perfect ideal
J’ E R such that a,, a2 is a regular sequence on R/J’ and J = (J’, aI, a2). Furthermore, if the above conditions hold, then W = 0.
Proof. A straightforward calculation shows that if condition (b) holds, then T, = C*. On the other hand, if statement (a) holds, then Table 4.13 and Lemma 4.14 in [17] show that cases two and three are not relevant; and hence, case one applies. It follows that J is equal to K: I for complete intersection ideals K and I with
K+!MZ
dimk ___ = 2.
( 9JIz 1
It is not difficult to show (see, for example, [S, Section 31) that J has the form
of(b). 0
2. Golod DGT-algebras
Many of the theorems in Sections 3 and 5 are proved by showing that certain DGT-algebras are Golod. In the present section we collect the necessary definitions and facts about Golod algebras; most of this information may be found in [3] or [S].
Notation 2.1. Let (P = oi 2 0 Pi,d) be a DGT-algebra with (P,, m, k) a local ring and H,(P) = k. Assume that Pi is a finitely generated P,-module for all i. Let Z(P), B(P), and H(P) represent the cycles, boundaries, and homology of P, respectively. Let
P
8’P+m@(@i>rPi)=
                 k
   
    A.R. Kustin, S.M. Palmer Slatteryj Journal of Pure and Applied Algebra 95 (1994) 271-295 271
be a fixed augmentation. The complex map E (where k is viewed as a complex concentrated in degree zero) induces augmentations E: H(P) + H(k) = k and E : Z(P) + Z(k) = k. Let I- represent the kernel of the augmentation map; in particu- lar, IP = m0 (@i 21Pi), Iff(P) = @i 21Hi(P), and IZ(P) = m0 (@i 21Zi(P)).
Definition 2.2. Adopt the notation of 2.1. A (possibly infinite) subset Y of homogene- ous elements of IH(P) is said to admit a trivial Massey operation if there exists a function y defined on the set of finite sequences of elements of Y’ (with repetitions) taking values in IP, subject to the following conditions.
(1) If h is in Y’, then y(h) is a cycle in Z(P) which represents h in H(P). (2) If h1, . ,h, are elements of 9, then
n-1
dr(h1, ... ,hn)= 1 Y(hl, ... ,hj)y(hj+l, ... ,hn), j=l
where ti = ( - l)“‘+‘a for UEP,.
Definition 2.3. Adopt the notation of 2.1. If every set of homogeneous elements of
ZH(P) admits a trivial Massey operation, then P is a Golod algebra.
If S, is a graded k-algebra, then the Poincare series of k over S, is defined to be
          P,_(z) = P&(z) = f 1 dim,Tor;,‘(k, k) zi. i=O ( p+q=i 1
(2.1)
 (More discussion of the bigraded module To?*(k, k) may be found at the beginning of [2] or [lS].)
Theorem 2.4 [3, Theorem 2.31. If the notation of 2.1 is adopted, then the following statements are equivalent.
(1) The DGT-algebra P is Golod.
(2) The Poincure series Pp(z) is equal to (1 - z ~,p”_l dim,Hi(P)zi)-‘. 0
Lemma 2.5 [S, Lemma 5.73. Adopt the notation of 2.1. If there exists a PO-module V contained in ZP with ZZ(P) G V+ B(P) and V2 s dV, then P is a Golod ulge-
bra. 0
The next result is a modified version of Example 5.9 in [S].
Corollary 2.6. Let (S,, d) be a DGT-algebra which satisfies the hypotheses of 2.1 with So = k and d identically zero. Suppose that there exist linearly independent elements Xl, “. >x, in S1 and an integer r, with 1 I r I m + 1, such that S, = ErxL, where
(a) E = @yCo Ei is the exterior algebra K(@,T1 kxi), (W E = E/E,+ I,
            
    278 A.R. Kustin, S.M. Palmer Slaitery / Journal qf Pure and Applied Algebra 95 (1994) 271-295
Cc)L = @i 2 1 Li is
DGT-algebra P = S,( X i, . . ,X,; dXi = Xi) is a Golod algebra.
Proof. If N is a subspace of the vector space P, then let N(X) represent the subspace (2.2)
of the vector space P(X1, . , X,). Define V to be the subspace (E,@ L)(X) of P. The hypothesis ensures that V2=0.IfZE12(P), then z=v+uforsome VEVand some UE( @lit E,)(X). Apply the differential d to the cycle z in order to see that
du = - dvE(E(X)) n (L(X)) = 0.
It follows that u is a cycle in P. The complex E(X) of P is a homomorphic image of the acyclic complex E(X); therefore, ued((ali E,)(X)), IZ(P) E I/ + B(P), and the proof is complete by Lemma 2.5. 0
Example 2.7. Let S, be one of the k-algebras from Table 1 and let W = oi 2 1 Wi be a trivial S.-module with dimk w < cc for all i. If P is the divided polynomial algebra defined below, then the DGT-algebra P @ S. (S,rx W) is a Golod algebra.
S. P
            C[p], CQ’, c*
A> Blpl,Dlpl.D (*‘,
F[pl, F (2)> F’3’ , ,714’
4Xi) = x,>
X,; d(X-j) = x,)
X3, XL d(Xi) = xc>
E[p], Etq'
S.(X,, Xz;
S.(X,, X2.
S.(X,, Xz.
S.(X,, X,> X,, X,, X,: 4X,)=x,)
S.(XI, X,, X3, X,> X,, Y,; 4X,)=x,, ~(Y,)=Y,)
 FC5’, or F* with chark = 2 F* with char k # 2
  Proof. We first assume that S, # F*, or else that S, = F* and char k = 2. Let m and r be the integers given in the following table.
 s.
C[p], P’, C”
A, BCpl, DCpl, Dc2),E[p], Ec4) FCPI,F(2,) F’3’ >F(4)
Fc5), or F* with char k = 2
mr
2 3
3 3 4 2 5 2
(2.31
   For S, # F*, the result follows directly from Corollary 2.6. If S, = F* and char k = 2, then Corollary 2.6 does not apply because y, and y, are in L but yiy, # 0.
    
    A.R. Kustin, S.M. Palmer Slattern/ Journal cf Pure and Applied Algebra 95 11994) 271-295 219
 On the other hand,
y,y,x1”“X:“” . . . ,?5) = xlz&+~z) . . x:as)
= d(Z&1+1)X~2) . . . Xy5)) E dV,
A slight modification of Corollary 2.6 yields the result.
We now take S, to be F* with char k # 2. Let P’ = POs.(S,txW),
M, and N be the subspaces M, = (~,x~,x~,x~,x~,x~,YI),
Mz = (~,x~,xz,x~,x~,x~,Y~,Y~, . . . ,y12,z1, ... z5,w2),
N = (Y,,Y,, . . . ,Y,z,z,, . . . ,z~,,,w~,wz)O W
and let Mi,
     of S,lx W. Recall the notation of (2.2), and let U = Ml (X, Y) and V= N(X, Y) be subspaces of P’. Observe that V2 = 0. It is clear that V @ U = P’ (as vector spaces). If zEZZ(P’),then z= u+ uforsome vEVand some uEU.Apply dtozinorder toseethat
du = - due(M2(X, Y)) n ((wl)(X, Y)) = 0.
It follows that u is a cycle in P’. We proceed as in the proof of Corollary 2.6. The DG-algebra
is known to be acyclic; see, for example, [16, Theorem 5.21. Furthermore, the complex M, (X, Y) is a homomorphic image of Q. We conclude that u E d( k( X, Y)) and P’ is a Golod algebra by Lemma 2.5. 17
Remarks. (a) We established Example 2.7 by identifying a subspace V of P which contains a representative of every nonzero element of ZH(P). A more detailed description of the homology of P is given in the proof of Lemma 3.2; consequently an alternate proof of Example 2.7 may be read from Table 4.
(b) The behavior of the DGT-algebra F* depends on char k because y: = 2~1~’ = 2w,. If char k = 2, then yf = 0. If char k # 2, then yf is part of a basis for F* over k.
3. The list of PoincarC series
If M is a finitely generated module over a local ring A, then the Poincare series P?(z) is defined at the beginning of the paper. We write P’(z) to mean P,(z). The Poincare series P’(z) is not always a rational function [l]; however, Theorem 3.3 supplies a sufficient condition for this conclusion.
The problem of computing Poincare series may sometimes be converted from the category of local rings to the category of finite-dimensional algebras over a field. If
                 
   280 A.R. Kustin. S.M. Palmer Slatmy/ Journul of Pure and Applied Algebra 95 (1994) 271-295
S, is a graded k-algebra, then the Poincare series P,,(z) is defined in (2.1). To compute the Poincare series of codimension four almost complete intersections, we use Av- ramov’s Theorem.
Theorem 3.1. (Avramov [2, Corollary 3.31). Let J be a
DGP-algebra, then PA(z) = 0
Recall that an ideal J in a local ring (R, $332k,) is said to be small if the natural map Tort(k, k) -+ TorfIJ(k, k) is an injection. For example, if R is regular and J E Y-X2, then J is small; see [2, Example 3.1 l] or [15, Example 1.61.
Lemma 3.2. Let T. be a DGP-algebra of the form S,rx Wfor some S, from Table 1 and some trivial S.-module W. Assume that T, = @FzO T with TO = k, dim, T, = 5, dim, T, = t (ifs. = C*, then take t = 2), and dimk T,, and dim, T, given in (1.2). Then the Poincare series PT.(z) is given in Table 2.
Theorem 3.3. Let (R, 9X, k) be a local ring in which 2 is a unit, J be a grade four almost complete intersection ideal in R, and A = R/J. If the ideal J of R is small (for example, if R is regular and J E %X2), then PA(z) = PR(z)PT,(z), where the Poincare series PT.(z) is given in Lemma 3.2.
Proof. Inflate the residue field of R [12, 01u10.3.1], if necessary, in order to assume that k is closed under square roots. Theorem 1.1 (together with Observation 1.3)
             Table 2
The list of Poincart series for Lemma 3.2
A (1-22-2z*+(6-t)z3-2z4-2z5+z6)(1+2)’
  B[PI
CCPI C’2’
(1 - 22 - 2z2 + (6 - t)z3 + (p - 3)z4 - z5 + z6)(1 + z)’ (1 - 22 - 2z2 + (6 - t)z3 + (p - 3)z4)(1 + z)’
(1 - 22 - 2z2 + (6 - t)z3 - 2“ - z5)(1 + z)*
 C* (1-22-2zz+4z3+z4-2z5)(1+z)l=(1-2z)(l-z)Z(l+z)4
 DCPI
,,‘Z’
ECPI E’4’
FCPI
F’Z’
F’3’
F’4’ F’5’
F*, chark = 2 F*, chark # 2
(1 - 2z - 2~’ + (6 - t)z3 + (p - 4)z4 - z5 + zh)(l + z)~
(1~22- 2z*+(6- t)z3~2z4- 2z5+zh)(l +z)’
(1 - 22 - 2z2 + (6 - t)z3 + (p - 5)z4 - 2z5 + 2z6)(1 + z)’
(1 - 2z - 22’ + (6 - t)z3 + (q - 5)~“ - (1 + q)z5 + (4 - q)z6 + (q - 2)z’)(l (1-22-22’+(6-t)z3+(p-6)z4-4z5+4z6+z’-z’)(l +z)’
(1- 22- 2z2+(6- c)z3- 4z4- 5z5+4z6+z’- z’)(l +z)~ (1 - 2z - 22’ + (6 - t)z3 - 3z4 - 6z5 + 3z6 + 2~’ - z*)(l + z)’ (1-22-22’+(6-t)z3-22“-7z5+z6+4~’-z’)(l +z)’
+ z)’
   (1- 22- 2z*+(6- t)z3- z4- 8z5- 2z6+7~’+3z8- 4z9- z” +z”)(l +z)’
(1 - 22 ~ 222 + (7 - t)zJ - 3z4 - 9z5 + (3 - t)z6 + 2z’ - z8)(1 + z)’ 1 +z3
    
   A.R. Kuhn. S.M. Palmer SIarrery/Journal of Pure and Applied Algebra 95 (1994) 271-295 281
shows that T, = Tort@, k) satisfies the hypotheses of Lemma 3.2; and therefore, the Poincare series PT.(z) is given in Table 2. The minimal R-resolution of A is a DGT- algebra (the DG structure is exhibited in [18] and the divided powers are given by a(‘) = (1/2)a2 for all homogeneous a of degree two); and therefore, the result follows from Theorem 3.1. 0
Proof of Lemma 3.2. Our calculation of PT.(z) is similar to the calculation of Table 1 in [4]; some of the steps may also be found in section one of [15]. We are given T. = S,DC W with W a trivial S.-module. It follows that
      P;:(Z) = P,-.‘(z) - z i$1 dimk W;z.i) (
(3.1)
 Read the dimension of each w from (1.2) in order to obtain Table 3.
The Poincare series Pi l(z) = (1 - z2)4 - z6 may be read from Example 1.1 and
Theorem 1.4 in [15]. The decompositions
   CCPI =
kCX3,X4,X51 cc (x3+4>x5)2
OkkCX21 =(k(-2YOY- 3)p) 1
 k[X3>X4,X5>YI>Y21 (x3>x4,x5,Y1,Y2)2 >
OkkCX1,X21
 have been observed in [17]. It follows that
Pr&,(Z) =((1- z2)3- zs- z(z+pz2+pz3))(1 - z2), P&(Z) = ((1 - 322)(1 - z’) - z(pz2 + pz3))(1 - z2), PCJ(z) = (1 - z(3z + 222))(1 - z2)2.
Table 3
The trivial S.-module W
A z+tzq1 +z)2- 223
+ z)Z
+ z)z +z)2-2z3
+ z)Z + 223
+ z)2
+ z)Z + 4z3
+ z)~+ (6- 2q)z3 +z)’+6z3
+ z)’ + (8 - 2r)z3 + z)Z
     BCPI C’Z’
(t - p)zZ(l CCPI (f - p)zZ(l
 (t-l)zl(l C* 0
 DCPI ,,‘2’
ECPI E”’
(t - p)zZ(l (t - I)zZ(l (t - p)z2(1 (t- l)z’(l
 FCPI (t - p)z’(l
(t - 1)z2(1 F* (t - 2)271
,711’
    
   282 A.R. Kustin, S.M. Palmer Slattery / Journal of Pure and Applied Algebra 95 (1994) 271-295
 For any other choice of S,, let P be the Golod DGT-algebra and let Fp(z) be the forma1 power series
F~(z) = f dimk Hi(P)z’.
i=l
Theorem 2.4 shows that Pp l(z) = 1 - z&(z); consequently,
(1 - z2)“(1 - ZFp(Z)),
for S, # F*, or S,=F* with chark=2,
Ps,‘(z)= (1 - 22)5
(1 + z3) (I - ZFP(Z)L
for S, = F* with chark # 2,
where m is given in (2.3).
In order to compute the homology of P, we decompose the subcomplex
defined in Example 2.7,
        c,: P2n+2+%P2n+1-+5+P2n-
d*n P2nv1,
(3.2)
(3.3)
 for n 2 0, into a direct sum of smaller complexes. The following notation is in effect throughout this discussion. Let X(@ represent the subspace of the vector space
P which consists of all k-linear combinations of the divided power monomials
X(01) ... X:-j,
1
Now we consider S, = C(‘). Let M be the subspace (x,,x2)(x3,xq,x5) of S,. The complex C, is the direct sum of the following complexes.
 where c ai = 4. If sr , .. ,spe S,, then let (si, ... ,sp) be the subspace of P spanned by all k-linear combinations of s 1, . . . , sg. If A and B are subspaces of P, then AB is the subspace of P spanned by {ab 1a~ A and b E B}.
   C”, 1: (l)X’n+l) + c,,2: 0 +
(x1.x2)X(“) (x,,x,,x,)X’“’
0
+ (X1X2)X-l’ ~ f,,fX’“-”
+ (y,)X'"_"
+
+
+
0
(X1X2)(X3,X4,X5)X("~2' (XlrX*)(y,)X'n~Z)
 0 --f Cn.4: 0 +
c&3:
(1)X'") -+ +0+0
+
(X1,X2)X("-1)
 c,,5: &6: c,,,: c,.,: c.,9:
(Yl)X'"' +
0 + (z,,z,)X’“-1’
MX’“’ + (XlrXZ)(X3,X4,X5)X(n1 (x,,x,)X’“’ + 0 (w,)x'"m"+ 0
+ (w1)x'"m2'---f 0
~x,.x,~~~,~x(“-”
 The complex C,, 1is exact because the subalgebra k[x 1, x2] (X 1, X2 ) of P is acyclic. If n = 0, then Cn,2 contributes [x,], [x,], and [x5] to H,(P). If n 2 1, then Cn,2 is isomorphic to the direct sum of three copies of C,_ r, i and is therefore exact. If n = 1, then Cn,3 contributes [yi] to H,(P). If n 2 2, then Cn,3 is exact. We see that C”,i is exact for i is equal to 4, 7, 8, or 9. If n 2 1, then the homology at (x1, x2)ylX(“- ‘) in C,,,5 has dimension 2n - (n + 1) and the homology at (zj,zq)Xcn- l) in Cn,6 has
'+ 0 + 0 --* 0
+ 0
+ +
(x3,x4,x5)x'"-" (z,,z,)X'"_2'
       
    and
A.R. Kuhn, S.M. Palmer Slatteryj Journal of Pure and Applied Algebra 9.5 (1994) 271-295 283
dimension 2n - (n - 1). Thus,
 dhff,,+1(P)
The equality
2n if1In,
= 3 if o = n
 ,
   (3.4)
 for integers a and b with a 2 0, is well known. It follows that 223
 Fp(z)=3z+zZ+ f 2nzZn+l=
n=l
32 +zz +(I _z2)2'
 An analogous decomposition of (3.3) can be made for each of the other choices of S,. In Table 4 we record where the homology of P lives without explicitly recording the decomposition of C,. The details have been omitted, except, as an example, we have recorded three of the summands of C, in the most complicated case; that is, when S, = F* and chark # 2. It is easy to see that the map d,,,, is surjective in the complex
c,,‘: o- d2n+2 (z,, . . . ,Z1O)X(“-l’@ (y2)( Y,)x’“-2’ dzn+l ,(w,)x~~~z’d2;O;
consequently, all of the homology in this complex is concentrated in position 2n + 1. The complex
Cn,2: o- d2n+2 (r,)x(n~1’421_t_Ft(yl)X(n~1’O(Xlr ...,X5)(Yl)X(“_2’
       3(X1, is exact. The complex
C",3: (yl)x'"'@(x~, dzn+z
dzn+z dzn to- 0
. . ..x5)(y1)x(“-2’@(x1.
... ,x5)(Y1)x(“-l’
1, ... ,x,)(y,)X’“-” @(Xl,
. . ..X5)2(Yi)X(“_3’
  -(x
. ,x,)2(
Yl)x’“-2’
 is the tail end of the exact complex C,, 1,2; consequently, it is easy to compute the homology at position 2n + 1.
A routine calculation using Table 4 and (3.4) produces the power series Fp(z); the result is recorded in Table 5. The proof is completed by combining Table 5 with (3.2) (3.1), and Table 3. 0
     
   284 A.R. Kustin, S.M. Palmer Slattery /Journal qfPure and Applied Algebra 95 (1994) 271-295 Table 4 (part 1)
  The homology in P
 s.
Dbl
D’2’
the homology in P at
(~d,xs)X(~’ (zl, ,z&X’“-”
(Yl, .,. ,y,)X’“-”
has dimension
Hi(P) 2n + 1
2n
2n + 1
2n
2n + 1
2n
2n + 1
2n
2ifn=O,
1 ifnr 1
 ‘)-p(l) 5(n:1)-(;)-2(n;2)+
q:
p(“‘):-p(z)
I
   (x‘bx,)X’“’ (Xl,X2)(Yl)X(“~”
(x,,x,)X’“’
(z1, ,zP)x’“m”
(Yl, ... ,Yp)X(“ml) (X4,X5)X(“)
2ifn=O, 1 ifnt 1
2(";')-(";2)+
2(“:‘)-(I)
5(n;1)-(;)-2(n;2)+
1
2ifn=O,Oifn>l
1
    ECPI
1
     E’4’
(x1. ,X‘J(YI)X’“~”
2ifn=O,Oifn>l
   (zq+*, ,z2‘JX’“-l)
(XlrX2,X3)(X4,XS)X’n-1)
(y,)X’“_”
+ (3 - q) if n 2 1
lifn=l,3-qifnk2
     
   A.R. Austin, S.M. Palmer Slatteryj Journal of Pure and Applied Algebra 95 (19941 271-295
285
H,(P)
2n + 1
2n
2n + 1
2n
  Table
s.
FCpl
4
(part 1 continued)
the homology in P at (xs)X(“)
(zl, ,2,)x’“-”
(Xl, x2,x3,x4)*x’“-”
(Yl, ... ,y,)X’“-”
(x5)X’”
has dimension
1 ifn=O,Oifnk 1
Pi”:‘>-p(y)
      F’z’
6(n12j-4(n:3j+(n:4j
4(n;2)-(73)
P(“;2j-P(n;‘j
1 ifn=O,Oifn>
2(nt2)-(n:?j+n+l
2(n;2j-(n;1)
6(n;2)-4(n;3)+(n;4)
4(n;2)-(73)
n
1
     (y,)X’“_1’
 KEY: The second row of this table should be read, “If S, = D[p], then the homology in P at (zl, ,zp)X’“~” has dimension p(“:‘) -p(i); furthermore, this homology contributes to H2n+l(P).n
Example 3.4. Let (R, mm,k) be a regular local ring. Suppose that Y, x 5 and X5 x 5 are matrices with entries in m, with X alternating. Assume that the ideal J = Z1( YX) has grade four. Let A = R/J and 7” = Tort(A, k). One can compute that r, = F * for any field k. If char k # 2, then Theorem 3.3 shows that
(1+ z3)h?(z) pA(=z()1 + z)5((1 - 2)s - z3)
On the other hand, the techniques of the present paper can be used to calculate the Poincari: series PA(z) even if char k = 2. One can show that the minimal R-resolution of A is a DGT-algebra; consequently, Theorem 3.1 yields that PA(z) = PR(z)PT,(z). The Poincark series PT.(z) is given in Table 2; an therefore,
PR(Z)
P,4(z)=(I_42+5z2- 223 - 224 - 225+4z6+z7- 3z8+z9)(1 + 5)4
          
    286 A.R. Kustin, S.M. Palmer SIattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 Table 4 (part 2)
 The homology in P
 S.
F’%
the homology in P at
(x5)X’“) (x,,x,,x,)(y,)X'"-"
has dimension
1 ifn=O,Oifn>
3(n;*)-(“;‘)+I
3(“;*)-(7’)
6(“t’)-4(n:3)+(n14)
4(“;2)-(n;3)
1
1 ifn=O,Oifn>l
Hi(P)
2n + 1
2n
2n + 1
2n
2nfl
2n
1 2n+l
2n
 1
     F(4)
(x,)X’“’ (Xl>X2,X3.X4)(Y1)X'"-')
(Z5,Z6,Z7,z8)X(“-”
(y*)X’“-”
b)(Yl)x(“-”
(Z6, ... ,z,,)X’“_”
(,)2x’“-”
(x)(Ylw’“-”
(Zh, ,tlO)X(“-l)
(x)zx’“~”
      F’S’
F*,
chark = 2
0ifn=0.4(n~2)-(n;3)ifn>1
4(n;*)-(n;1)
6r12)-4(n:3)+(n:4)
f;2)-(n;3)
1 ifn= l,Oifnz2
0ifn=0,5(n~3)-(n;4)ifn>1
5(n;3)-(n;2)
10(n~3)-5(n~4)+(n~5)
1 ifn= l,Oifn>2
0ifn=0.5(n:3)-(n+44)ifnk
5(n;3)-(n;2)
10(“:3)-5(74)+(75)
          
   A.R. Kustin, S.M. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295
287
Hi(P)
2n + 1
2n
  Table 4 (part 2 continued)
s.
F*,
chark # 2
the homology in P at
(yl)X’“-”
(y,)X’“_”
(W*)X(“-2’
has dimension
 (x)(y,)x'"~"o(x)~(Y1)x("~*' 10( > n; 2
(Y?)( Y,)X’“m3’
(x)2X(n~lI
(y:)x(~-2’o(x)(yl)(Y,)x(“-3)
(Z6, ,z*0)(Y,)x’“m3’
(y,)X’“_”
10~;3j-5[n~4)+[n~5)
5 N 1 l C>
5(7l)-(:)
nf3
(4>
1 ifn=
n+3
(4>
n+2
(4>
l,Oifn>2
     (26, ,z~~)x’“~‘~o(y,)(Y,)x’“-z’ 5
n+3 4
n+l (>
1
i
      KEY: The second row of this table should be read, “If S, = FC3’, then the homology in P at (x,,~~,x~)(r,)X’“-” has dimension 3( “:‘) - (“:3) + 1; furthermore, this homology contributes to H2n+,(P).” We have written(x) to mean (x,,x~,x~,x~,x~).
4. The Poincari! series of modules
In Theorem 3.3 we proved that the Poincare series Pi(z) is a rational function whenever (A, m, k) is a codimension four almost complete intersection in which two is a unit. In the present section, we apply Theorem 4.1, which is a new result due to Avramov, in order to conclude that PAM(z) is a rational function for all finitely generated A-modules M.
Theorem 4.1 refers to data from two Tate resolutions. If (A, m, k) is a local ring, then the Tate resolution X of k over A is the DGT-algebra which is the union of the following collection of DGT-subalgebras,
A = X(0) !&X(1) c X(2) c .‘.
          
   288 A.R. Kustin, S.M. Palmer SIattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295
  Table 5
The formal power series Fp(z)
 s.
DCPI
,,‘z’
ECPI
E(4)
FCPI
F”’
2<r<4
F’s’
F*
chark = 2
F*
chark # 2
FP(~)
2+z+&+
2+z+&+
2+2z+
2+3z+rz+~+
_ z-2 +t+z+
_ z-2 +1+z+
_zmz +z+z2+
- 2 + (p + 5)22 + pz3 - (p + l)z4 - pz5 (1 - 22)3
- 2 - z f 5z2 f 4z3 - z4 - 25 (1 - z2)’
- 2 + (p + 6)~’ + pz3 - pz4 - pz5 (1- zy
- 2- z+6z2+2qz’ - z5 (1- zy
z-2 - 5+(10+p)z2 +pz3- pz4- pz5 (1 - zy
     z+z2 ZT2 - 5 -z (1 _ zZ)4mr +
+ 1oz2 + 2rz3 - 25 (1 - z2)4
  --z-z
-z-2
z-1 -
2-Z -
5 -z
5 -
+ lOz2 + lOz3 - 25 (1 - 22)s
z + 1lzZ + 1023 + 24 - 25 (1 - z2)5
 +z+z’+
ZT2 -
+
Each X(n) has the form X(n)=X(n- l)(Y,,
5 + llzZ + 5z3 + 10z5 + 10z6 + z’ - z8 (1 - z*)5
. . ..Yen.d(Yi)=Zi),
   power variable of degree n and
z 1,
, zen are
where each Yi is a divided
X(n - 1) which represent a minimal generating set for the kernel of H,_ l(X(n - l))+ H,_,(k). (In the above discussion we have viewed A and k as graded algebras concentrated in degree zero.) In particular, e, = dim, m/m’. Further- more, if A = R/Z where (R,iVl, k) is regular local and I L mz, then e2 = dim,Torf(A, k); in other words, e2 = dimk(Z/!IJU). If T, is the algebra Tort(A, k), then the Tate resolution r? of k over T, is obtained in a similar manner; see [16] for details. Indeed, 2 is the union of the DGT-subalgebras
cycles in
    T, = g(O) = x”(1) c x”(2) c x”(3) z ... , where each x”(n) has the form
x”(n) = x”(n - l)(Y,, . ..) Y;,),
and each Yi is a divided power variable of degree n. If the minimal resolution of A by free R-modules is a DGT-algebra, then Theorem 3.1 shows that Z, = e, for 2 5 n.
      
    A.R. Kuhn, S.M. Palmer Slatteryj Journal of Pure and Applied Algebra 95 (1994) 271-295 289
Theorem 4.1 (Avramov [6]). Let (R, ‘%Qk,) be a regular local ring, I c ‘%I’ be an ideal of R, A be the quotient R/I, T, be the algebra Torf(A, k), and 2 be the minimal Tate resolution of k over T,. Assume that the minimal resolution of A by free R-modules is a DGT-algebra and that there exists an integer n and divided power variables Y, , .. , x of degree n such that the DGT-subalgebra x(n - l)( Y1, . . . , Y,) of 2 is Golod. Then the Poincare series P:(z) is a rational function for all$nitely generated A-modules M. In fact, there is a polynomial Den,(z)E.Z[z] with
    (a) P*(z) = where
(b)
3
(1 + z)“(l + z3)el ... (1 + Zm-z)+2(1 + Zrn)’
 m=n m=n-1
DenA
and r=s
and r=e,_I
tf n is odd, if n is even,
  DenA(z
E Z[z] for all finitely
generated A-modules M. 0
 Corollary 4.2. Let (R, ‘5X,k) be a regular local ring, and (A, m, k) be the quotient R/J, where J is an almost complete intersection ideal of grade at most four. If two is a unit in A, then there is a polynomial Den,(z)EZ[z] such that DenA(z)PT(z)EZ[z] for all
finitely generated A-modules M.
Proof. The Betti numbers of M are unchanged under a faithfully flat extension of A; consequently, we may assume that k is closed under square roots. We may replace R by R/(x) for some x E 9Jl\‘9J12, if necessary, in order to assume that J c !JJI’. Let g represent the grade of J, T, = Torf(A, k), and t = dimk( T,). If g I 3, then the result is contained in [S]. For the sake of completeness, we recall that DenA is defined by
     Den,(z) =
(1 + z)2(1 - 22)
I(1 + z)3(1 - z)(l - 22)
(1 + z)(l - z - 3z2 -(t-3)z3-z5) (1 + z)(l - z - 3z2 - (t - 3)z3)
if g = if g = if g=3 if g =
2,
3 and t = 2,
and t>3 is odd, and 3 and t 2 4 is even.
   Now we consider the case g = 4. Write T, = S, M W, where W is a trivial S.-module and S, is one of the algebras from Table 1. Let P be the DGT-defined in Example 2.7. The existence of Den,(z) is guaranteed by Theorem 4.1 because PO,, T, is a Golod algebra. Furthermore, Theorem 4.1 also shows that Den,(z) is the same as the polynomial labeled P,.!(z) in the statement of Theorem 3.3, unless S, = F*. In the latter case
Den,(z) = (1- 22- 2z2 + (7- t)z3 - 3z4
- 9z5 + (3 - t)z6 + 22’ - z8)(1 + z)Z. 0
       
    290 A.R. Kustin. S.M. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295
The following application of Corollary 4.2 is proved by appealing to [ 14, Theorem 4.151. Recall our convention that an almost complete intersection is never a complete intersection.
Corollary 4.3. Let (R, YJI,k) be a regular local ring, and (A, m, k) be the quotient R/J, where J is an almost complete intersection ideal of grade at most four. If the field of rational numbers is contained in R, then there are infinitely many integers i 2 1for which the cotangent module T,(A/R, A) is not zero. 0
5. Growth of Betti numbers
If M is a finitely generated module over a local ring (A, m, k), then the ith Betti number of M is equal to
bi = dim,Tort(M, k).
The concept of the complexity of a module, which was introduced in [4, (l.l)] and
[S, (3.1)], plays a crucial role in our study of Betti number growth.
Definition 5.1. Let M be a finitely generated module over a local ring (A, m, k). The
complexity, cxA M, of M is equal to d, if d - 1 is the smallest degree of a polynomial f(n)EZ[n] for which b, of for all sufficiently large n. If no such d exists, then
M has infinite complexity. (The zero polynomial is assigned degree - 1.)
Observe that the definition of complexity is designed so that cxA M = 0 if and only if pdA M < cc ; and cxA M = 1 if and only if the projective dimension of M is infinite, but the Betti numbers of M are bounded.
Corollary 5.2. Let (R, 9JI,k) be a regular local ring, and (A, m, k) be the quotient R/J, where J is an almost complete intersection ideal of grade at mostfour. Assume that two is a unit in R. Let M be afinitely generated A-module of infinite projective dimension, and let bi represent the ith Betti number of M. Then one of the following cases occurs.
(1) The Betti numbers of M grow exponentially; that is, there are real numbers 51and p with 1 < a 5 /I and a” < ~~=0 bi 5 /?”for all large n.
(2) The Betti numbers of M grow linearly. In this case, there are positive integers a and b with (a/2)n - b I 6, I (a/2)n + b for all large n.
(3) The Betti numbers of M are bounded. In this case, the minimal A-resolution IFof M is eventually periodic of period at most two. In fact, F is eventually given by a matrix factorization; that is, there exists integers b and r, a local ring (B, n), an element x in, and b x b matrices C$and $I, with entries in B, such that x is regular on B, B/(x) E A, d$ = xlb = $4, and the tail F,I of I?is given by
---tpLb !i >,/jb 6 :,,ib 6 Ab 0 >,,ib where - represents - gBA.
                       
   A.R. Kustin, S.M. Palmer Slatrery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 291
Proof. As in the proof of Corollary 4.2, we may assume that k is closed under square roots and that J c im’. Let g = grade J, T, = Tor(A, k), and t = dim, T,.
If cxA M = co, then [4, Proposition 2.31 shows that the Betti numbers of M grow exponentially as described in (1). Henceforth, we assume cxA M < co . Apply Proposi- tion 2.4 in [4] to see that cxA M is the order of the pole PAM(z)at z = 1. In the proof of Corollary 4.2 we identified a polynomial Den,(z) with the property that Den,(z)Py(z)E Z[z]. It follows that cxA M is no more than the multiplicity of z = 1 as a root of Den,(z). The value of DenA may be quickly computed. (Remember that
B[ p], , F [ p] are defined.) Our calculations are summarized in the following table. (The algebra H(3,2) was introduced in the proof of Proposition 1.2.)
cxA M
C* 0<cxAM_<2
B[t] or C[t] or H(3,2) 0I cxAM I 1 anything else O=cx,M
The hypothesis pd, M = co ensures that cxA(M) # 0; and therefore, T, is equal to one of B[t], C[t], C*, or H(3,2). Apply Proposition 1.2, Observation 1.3, and [4, Proposition 3.41, in order to produce an almost complete intersection (B, n, k) and a regular sequence a such that B/(a) = A and DenB(l) # 0. (The ring B has the form R/J’ for some almost complete intersection ideal J’ with grade J’ < grade J. The length of a is one, unless T, = C*, in which case a has length two.) The complexity of M, as a B-module, is finite by (A.1 1) of [4]; and therefore, we may repeat the above argument in order to conclude that pds M < cc. It follows that, in the language of [S], the A-module M has finite virtual projective dimension. The rest of the conclusion may now be read from Theorems 4.1 and 4.4 of [S]. Cl
Part (3) of the above result shows that the Eisenbud conjecture holds for the rings A under consideration. Gasharov and Peeva [l l] have found counterexamples to the conjecture.
6. Golod Homomorphisms
Assume, for the time being, that A satisfies one of the hypotheses (a)-(d) from the beginning of the paper. It is shown in [S] that the Poincarb series PAM(z)is rational for all finitely generated A-modules. The proof consists of applying Levin’s Theorem (see [S. Proposition 5.181) to a Golod homomorphism C-WA for some complete intersection C. Now, take A as described in Corollary 4.2. In most cases (see Corollary 6.2 for details) one can obtain the conclusion of Corollary 4.2 by using the techniques of [S] in place of Theorem 4.1. However, if Tort(A, k) = F* and char k # 2, then, in Proposition 6.4, we show that there does not exist a Golod map from a complete
       T.
                 
   292 A.R. Kustin. S.M. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 intersection onto A. In this case, we must use Theorem 4.1 in our proof of
Corollary 4.2.
Definition 6.1. Let f: (C, n, k) + (A, m, k) be a surjection of local rings. Assume that A is not a hyperplane section of C. (In other words, A is not of the form C/(x) for some regular element xEn\n2.) Let X be the Tate resolution of k over C. If AOc X is a Golod algebra, then f is a Golod homomorphism.
Corollary 6.2. Let (R, 9X, k) be a regular local ring in which 2 is a unit, J be a grade four
almost complete intersection ideal in R, and A = R/J. Suppose that Tort(A, k) has the form S,rx Wfor some S, from Table 1 and some trivial S.-module W. (This hypothesis is satis$ed tf k is closed under square roots.) Zf S, # Fc5’ or F*, then there exists an R-sequence aI, . . . ,a,,, in J (where m is given in (2.3)) such that the natural map
Rl(al, . . . , a,) + A is a Golod homomorphism.
Proof. The result follows from [S, Theorem 5.171 because of Example 2.7 and
[18]. 0
Lemma 6.3. Let (R, ?I&k) be a regular local ring, J be an ideal of R which is contained in 9X2, and al, . . . ,a,,, be an R-sequence which is contained in J. If the natural map R&l, . , a,,,) + R/J is Golod, then a 1, . , a, begins a minimal generating set for J.
Proof. Let A = R/J and C = R/(a), where a represents ai, ... ,a,. If M is a module, then u(M) is the minimal number of generators of M. Recall that
(1 + z)“‘(l + z3)e3(1 + zS)es ... &(‘) = (1_ z2)eql _ z4)y1 _ z6)e6 ... ’
where e, = dim R and e2 = u(J). (The deviations ei were also considered at the beginning of Section 4.) It follows that PA(z l(z) = (1 + p( J)z2 + ... ). In a similar way we see that P,(z)P;‘(z) = (1 + mz2 + ...). The map C+A is Golod; thus [S, (5.1)] ensures that
PA(Z) = Pc(z)(l - z(PcA(z) - l))_‘. (6.1) The minimal resolution of A over C begins ... --f C’ + C --f A --f 0, where 1 = u( J/(a)).
Multiply both sides of (6.1) by Pi l(z) in order to obtain
(1 + p(J)z2 + ...) = P,(z)P,‘(z) = (1 + mz2 + ...)(l + 1z2 + ...)
=(1+(m+l)z2+ ...). It follows that p(J) = m + 1; and the proof is complete. 0
Proposition 6.4. Let (R, Y.JI,k) be a regular local ring, J z ‘9X2 be an ideal in R, (A, m, k) be the quotient R/J, T, = Tort(A, k), and n = dimk T,. Suppose that dim, T: = (2). Zf
                        
   A.R. Kustin, S.M. Palmer Slattery /Journal of Pure and Applied Algebra 95 (1994) 271-295 293 a is an R-sequence in J with the property that the natural map C = R/(a)+A is a Golod
map, then T; G Tl T3.
Proof. Fix a minimal generating set x1, . . ,x, for 9X. Let (W, d) be the Koszul complex R(X,, . . ,X,; d(Xi) = xi) and let n;i,= A OR K. We view T, as the homo- logy of &&Eventually, we will prove that
     Z&Z,(W) S Z,(W)Z,(W) + B4(0d).
If yEK, then we write j to mean 10 yEt%. According to Lemma 6.3, we may select
d(yI), . . . ,d(y,) is a minimal generating set
a minimal generating set for J. We have chosen the elements yi so that each yi is in Z 1(w) and so that the corresponding classes [y ,I, . , [j,,] in homology form a basis for HI(w). The hypothesis dim, Tf = (1) guarantees that the elements
CYiVjl suchthat l<i<j<n (6.3) are linearly independent in Hz(K).
The ring C is a complete intersection; consequently,
is the Tate resolution of k over C. The hypothesis C-+A is Golod ensures that IL= K( Yr, ...,Y,; d(K) = yi)
is a Golod algebra.
Let z1 and z2 be arbitrary elements of Z,(w). The fact that ILis a Golod algebra
implies, among other things, that zlz2 is a boundary in [L;that is, there exists CIE[MS, txieW,for 15 iI m, and Ccij~~;, for 1I iI j I m such that
 elements for (a) and
(6.2)
y,, ... ,y, in K 1 such that
d(y,), . . . ,d(y,), . . . ,d(y,) is
         z,z,=d
When this
a+ ~ aiYi+ C
“ijYiYj+ ~ aiiYi(2’.
( i=l equation is
i=l
i- 1
j=l j=i+l
lli<jlm
expanded, we
i=l 1
 obtain
clij E Z 1(R) for
1 <_ i 5 j 5 m,
 aiyi,
d(Mi)= C Crjijj+ aiiji + f ~ijyj for 1I i5 m.
ZlZ2 =
d(cr) - ~
(6.4)
(6.5)
  A basis for Hr (w) has already been identified; thus, there exists Bij~ K2 and aij,+E A for l~i~.j~mandl<k~n,suchthat
aij=i aijk_Vk+d(Pij) (6.6)
k=l
     
   294 A.R. Kustin, S.M. Palmer Slatwry iJournal qf Pure and Applied Algebra 95 11994) 271~295
for 1I i2jI m. If 1I i<jI m, then define clji= ccij, ajik = aijk and bji = piY Furthermore, if m + 1 I i I n or m + 1 I j I n, then define ajik = aijk = 0. It follows that (6.6) holds for 1 I i,j I m and (6.5) can be rewritten as
   d(ai) = f
j= 1
Eij_P=j f i aijk_Fk+
d(Pij)
jj
)
BijYj . (6.7)
1
 j=l ( k=l taijk - aikj)ykjj
+ d
f
( j=l
 =
Use (6.3) to see that aijk - UikjEm for 1 I i,j,k I n. It is not difficult to find yijk E t%,
C 1 Skcjln
 such that
d(Yijk) = aijk - aikj, Yijk+ Yikj= 0, Yijk+ Yjki+ Ykij= 0 fOI’ 1 I i,j, k I n Yijk=O form+ 1 <i<nand l<j,k<n.
(Forexample, if1Ii<j<kI n,thenselectyijkandyjkiwithd(yijk) =aijk- aikjand d(?‘jki) = ajki - ajik. Define Ykij= - Yijk- yjki, Yikj= - Yijk, and Yjck= - yjki, Ykji= - Ykij.This procedure must be modified slightly if there are repetitions among the indices i,j, k.) It now follows from (6.7) that
    d(ui) = d f PijYj j=l
thus, for 1 I i < m, there exists oicZ,(w)
--
c(i= 1<k7j I nYijkykyj + f fiijyj + wi.
j=l
When (6.8) is combined with (6.4) we obtain
zlzz = d(u) - f wiji. i=l
;
such that
  (6.8)
   Line (6.2) has been established; and the proof is complete. 0
Acknowledgment.
  This paper could not be finished until we learned about the existence of Theorem 4.1. We owe much gratitude to Lucho Avramov for sharing this terrific result with us.
References
[l] D. Anick, A counterexample to a conjecture of Serre, Ann. of Math. 115 (1982) l-33.
[2] L. Avramov, Small homomorphisms of local rings, J. Algebra 50 (1978) 400-453.
133 L. Avramov, Golod homomorphisms, in: Algebra, Algebraic Topology and their Interactions, Lecture
Notes in Mathematics, Vol. 1183 (Springer, Berlin, 1986) 59-78.
       
    A.R. Kustin. S.M. Palmer Slattery/ Journal of Pure and Applied Algebra 95 (1994) 271-295 295
[4] L. Avramov, Homological asymptotics of modules over local rings, in: Commutative Algebra, Mathematical Sciences Research Institute Publications, Vol. 15 (Springer, Berlin 1989) 33362.
[S] L. Avramov, Modules of finite virtual projective dimension, Invent. math. 96 (1989) 71-101.
[6] L. Avramov, Local rings over which all modules have rational Poincart series, J. Pure Appl. Algebra
91 (1994) 29-48.
[7] L. Avramov and Y. Felix, Espaces de Golod, As&risque 191 (1990) 29-34.
[S] L. Avramov, A. Kustin and M. Miller, Poincare series of modules over local rings of small embedding
codepth or small linking number, J. Algebra 118 (1988) 162-204.
[9] D. Buchsbaum and D. Eisenbud, Algebra structures for finite free resolutions, and some structure
theorems for ideals of codimension 3, Amer. J. Math. 99 (1977) 4477485.
[lo] D. Eisenbud, Homological algebra on a complete intersection, with an application to group repres-
entations, Trans. Amer. Math. Sot. 260 (1980) 35-64.
[11] V. Gasharov and I. Peeva, Boundedness versus periodicity over commutative local rings, Trans.
Amer. Math. Sot. 320 (1990) 569-580.
[12] A. Grothendieck, Elements de Geometric Algebrique III, IHES Publ. Math., No. 11 (Presses
Universitt France, Paris, 1961).
[ 131 T. Gulliksen and G. Levin, Homology of local rings, Queen’s Papers in Pure and Applied Mathemat-
ics, Vol. 20 (Queen’s University, Kingston, Ontario, 1969).
[14] J. Herzog, Homological properties of the module of differentials, Atas da 6” escola de algebra Recife,
Colecao Atas. Sot. Brasileira de Mat. 14 (Rio de Janeiro, 1981) 33-64.
[15] C. Jacobsson, A. Kustin and M. Miller, The Poincare series of a codimension four Gorenstein ring is
rational, J. Pure Appl. Algebra 38 (1985) 2555275.
[16] T. Jozefiak, Tate resolutions for commutative graded algebras over a local ring, Fund. Math. 74 (1972)
209-231.
[17] A. Kustin, Classification of the Tor-algebras of codimension four almost complete intersections,
Trans. Amer. Math. Sot. 339 (1993) 61-85.
[lS] A. Kustin, The minimal resolution of a codimension four almost complete intersection is a DG-
algebra, J. Algebra, to appear.
1191 S. Palmer, Algebra structures on resolutions of rings defined by grade four almost complete intersec-
tions, Ph.D. Thesis, University of South Carolina, 1990.
[20] S. Palmer, Algebra structures on resolutions of rings defined by grade four almost complete intersec-
tions, J. Algebra, 159 (1993) l-46.
Local Commutative Algebra and Hochschild Cohomology Through the Lens of Koszul Duality
by
Benjamin Briggs
A thesis submitted in conformity with the requirements for the degree of Doctor of Philosophy Graduate Department of Mathematics University of Toronto
⃝c Copyright 2018 by Benjamin Briggs

Abstract
Local Commutative Algebra and Hochschild Cohomology Through the Lens of Koszul Duality
Benjamin Briggs
Doctor of Philosophy Graduate Department of Mathematics University of Toronto
2018
This thesis splits into two halves, the connecting theme being Koszul duality. The first part concerns local commutative algebra, which is broadly the study of singularities. Koszul duality here manifests in the homotopy Lie algebra. Then we study Hochschild cohomology, and its characteristic action on the derived category. This second part of the thesis is joint work with Vincent G ́elinas.
We begin by defining the homotopy Lie algebra π∗(φ) of a local homomorphism φ (or of a ring) in terms of minimal models, slightly generalising a classical theorem of Avramov. Then, starting with work of F ́elix and Halperin, we introduce a notion of Lusternik-Schnirelmann category for local ho- momorphisms (and for local rings). In fact, to φ we associate a sequence of invariants cat−1(φ) ≥ cat0(φ) ≥ cat1(φ) ≥ ··· Each cati(φ) is either a natural number or infinity. We prove that these num- bers characterise weakly regular, complete intersection, and (generalised) Golod homomorphisms. We present examples which demonstrate how the L.S. category can uncover interesting information about a homomorphism. We give methods for computing these numbers, and in particular prove a positive characteristic version of F ́elix and Halperin’s Mapping Theorem.
A motivating interest in L.S. category is that finiteness of the invariant cat1(φ) implies the existence of certain six-term exact sequences of homotopy Lie algebras, following classical work of Avramov. We in-
∗
troduce a variation π􏰦 (φ) of the homotopy Lie algebra which enjoys long exact sequences in all situations, ∗∗
and construct a comparison π􏰦 (φ) → π (φ) which is often an isomorphism. We show that vanishing of
≥3
(φ) is equivalent to the quasi-complete intersection property, and deduce a characterisation entirely
π􏰦
in terms of the homotopy Lie algebra.
In the second part of this thesis we introduce a notion of A∞ centre for minimal A∞ algebras. If A is an augmented algebra over a field k we show that the image of the natural homomorphism χk : HH∗(A,A) → Ext∗A(k,k) is exactly the A∞ centre of A, generalising a theorem of Buchweitz, Green, Snashall and Solberg from the case of a Koszul algebra. This is deduced as a consequence of a much wider enrichment of the entire characteristic action χ : HH∗(A, A) → Z(D(A)). We give a number of representation theoretic applications.
ii

Acknowledgements
Thank you Ragnar, I have learned so much from you. It is still so strange ending all this while you are not here.
Thank you Vincent, I obviously could not have done this without you.
Thank you O ̈zgu ̈r, you are unbearably kind.
Thank you to my family, absolutely nothing is more valuable.
Thank you Leonid, Jeff and Vanya. I would have stayed forever, but everything has to end.
Thank you Srikanth Iyengar and Sarah Witherspoon for going absolutely beyond what was necessary in helping me.
Thank you Jemima, you work tirelessly to look after us because we obviously can’t look after ourselves. Thank you Joel Kamnitzer for helping us all without hesitation when Ragnar passed away.
Thank you, the rest of you. Thank you, thank you, thank you, thanks.
iii

Contents
1 Introduction 1
1.1 Overview ............................................. 8 1.2 NotationandConventions.................................... 9
2 Background 12
2.1 GradedCategoriesandDifferentialGradedCategories . . . . . . . . . . . . . . . . . . . . 12 2.2 TwistingCochainsandtheBarConstruction ......................... 14 2.3 KoszulDuality .......................................... 17 2.4 A∞Algebras ........................................... 20 2.5 ModelsfortheHochschildCochainComplex.......................... 23 2.6 Semi-FreeExtensionsandAcyclicclosures........................... 30 2.7 CohenFactorisationsandMinimalModels........................... 36 2.8 LieAlgebrasandLieCoalgebras ................................ 40
3 Koszul Duality in Local Commutative Algebra 46
3.1 TheHomotopyLiealgebra ................................... 46 3.2 TheL.S.CategoryofaRingHomomorphism ......................... 52 3.3 TheMappingTheorem...................................... 63 3.4 FunctorialityoftheTatemodelforthediagonal........................ 66 3.5 SomeLongExactSequences................................... 70
4 The Characteristic Action of Hochschild Cohomology 84
4.1 EnrichingtheCharacteristicAction............................... 84 4.2 TheA∞centre.......................................... 88 4.3 ExamplesandApplications ................................... 93
Bibliography
100
iv

Chapter 1 Introduction
                        This thesis is currently in draft form.
This thesis splits roughly into two halves, the connecting theme being Koszul duality. The first part concerns local commutative algebra, which is broadly the study of singularities. Koszul duality here manifests in the homotopy Lie algebra, whose use in commutative algebra has been pioneered by Avramov.
The main character in the second part of this thesis is Hochschild cohomology, and its characteristic action on the derived category. Structures known as A∞ algebras arise naturally through Koszul duality, and we investigate how these can be used to understand and constrain the characteristic action. This part of the thesis is joint work with Vincent G ́elinas, and our contribution here should be considered equal. It is adapted from [31].
Koszul duality is a wide reaching and mysterious phenomenon. In topology it connects a group with its classifying space. In rational homotopy theory it explains the relationship between Sullivan’s com- mutative model and Quillen’s Lie algebra model for a space. In algebra it yields unexpected and useful derived equivalences, most famously the Bernstein-Gel’fand-Gel’fand correspondence. Rich examples and other Koszul duality like phenomena abound in algebra and geometry.
In its simplest algebraic incarnation Koszul duality concerns the relationship between an associative algebra A augmented over a field k, and the Yoneda algebra E = Ext∗A(k,k). When A is a Koszul algebra (see section 2.3) this relationship is particularly striking. Perhaps the most beautiful aspect is the symmetry: this hypothesis alone means that E is also Koszul, and that there is a canonical isomorphism A ∼= Ext∗E(k,k). We will also see that the the representation theory of A is intimately connected to that of E. We say that A and E are Koszul dual as algebras. Aside from the rich structure arising from this assumption, it turns out that Koszul algebras are extremely common. A fundamental example is the Koszul duality between the polynomial algebra S = k[x0, ..., xn] and the exterior algebra Λ = 􏰣k(y0,...,yn). It is this example which gives rise to the Bernstein-Gel’fand-Gel’fand correspondence [27], which describes an equivalence between bounded complexes of coherent sheaves on projective space Pnk and finitely generated Λ modules without free summands.
1

Chapter 1. Introduction 2
On the other hand, local commutative algebra concerns singularities. It is by now very well un- derstood that one can use homological methods to unravel the character of a singularity. A funda- mental illustration is that the violence of a singularity is reflected in the growth of the Betti numbers βRi (k) = dimkExtiR(k,k), where R is the local ring of functions on the singularity and k is its residue field.
These ideas go all the way back to Hilbert’s syzygy theorem, which says that if M is a finitely generated module over a polynomial algebra S = k[x1,...,xn] on some field k, then the Betti numbers βSi (M) = dimkExtiS(M,k) vanish as soon a i > n. In modern language, we say that S has global dimension n. In the mid 1950s Auslander, Buchbaum and Serre established a converse: a local ring R has finite global dimension if and only if it is regular, that is, if it is the ring of functions at some smooth point. By these means a number of long standing problems in commutative algebra fell under the force of homological algebra.
The importance of the Betti numbers βRi (k) = dimkExtiR(k, k) suggests that Koszul duality is already at play in local commutative algebra. In fact, the structure of Ext∗R(k,k) has been an important focal point in this area for decades. One highlight is the cohomology operators of Gulliksen and Eisenbud. If R is a complete intersection of codimension c, these operators χ1, ..., χc are central elements in Ext2R(k, k) which act on the cohomology of any R module. They have turned out to be extraordinarily useful. In short, they control the stable behaviour of modules over R. A good place to start is [14], where the geometric nature of the cohomology operators is exploited.
Miraculously, from the hypothesis that R is a commutative it follows that the Yoneda algebra Ext∗R(k,k) is the universal enveloping algebra of a certain graded Lie algebra. This fact is the cul- mination of work of Milnor-Moore, Lo ̈fwall, Sj ̈odin, Levin and Schoeller (see section 3.1). This object bears a close and mysterious resemblance to the Whitehead Lie algebra π∗(ΩX) associated to a simply connected based space X. As such it is known as the homotopy Lie algebra of R, and we denote it π∗(R). The homotopy Lie algebra is a central character in this thesis.
In the early 1980s Avramov and Roos began to uncover deep connections between local commutative algebra and rational homotopy theory. This has led to a great deal of collaboration and progress in both areas, some of which is described in the surveys [9] and [6]. Much of what is now known about π∗(R) was inspired by the work of rational homotopy theorists, although it is often much more difficult to establish a theorem in commutative algebra than its cousin in rational homotopy theory (or vice versa). For example, the famous dichotomy theorem says that either R is a complete intersection, in which case π≥3(R) = 0, or the sequence of numbers εi(R) = dimkπi(R) must grow exponentially. This was proven by Avramov in [13] almost two decades after the dichotomy theorem for finite CW complexes was established by F ́elix, Halperin and Thomas in [40].
But the homotopy Lie algebra has been important regardless of its connection to topology. For instance, understanding the numbers εi(R) can lead to fine control of the Poincar ́e series of modules over R. As another example, when R is a complete intersection, the cohomology operators themselves come from π2(R). Likely the most famous application of the homotopy Lie algebra is Avramov’s use of it in [13] to solve a long standing conjecture of Quillen. In his groundbreaking development of the simplicially defined cotangent (or Andr ́e-Quillen) homology, Quillen posed the following question: if φ : R → S is a ring homomorphism which is essentially of finite type, and the cotangent complex Lφ has finite projective dimension, then must φ be a locally-complete intersection? The homotopy Lie algebra is usually much easier to compute than cotangent homology. Avramov was able to pass some of this

Chapter 1. Introduction 3
information from the dg to the simplicial world using an important spectral sequence. Through this channel the dichotomy theorem for the homotopy Lie algebra was used to settle Quillen’s problem.
Long before Quillen’s foundational work in rational homotopy theory, the connection between commu- tative algebras a Lie algebras was exploited by Chevalley and Eilenberg. The famous Chevalley-Eilenberg cochain complex C∗(L; Q), which computes the Lie algebra cohomology of L, is an example of a minimal model when L is nilpotent. We will say what this means shortly (in the dual, homological context), and much more detail will be given in section 2.6.
After the work of Quillen, Sullivan’s use of minimal models in rational homotopy theory was an important break though, both theoretically and computationally.
It was once again Avramov who imported minimal models to local commutative algebra. They will be the fundamental objects of study in chapter 3. I’ll explain now how they can be used to compute the homotopy Lie algebra, and then go over some highlights from chapter 3.
Let X be a graded set of variables in strictly positive degrees. We denote by Q[X] the free strictly graded commutative Q algebra on X. Roughly, this the the exterior algebra over Q on odd elements of X tensored with the polynomial algebra on even elements of X. A dg algebra over Q will be called semi-free if it has the form Q[X] after forgetting its differential. These are non-linear analogues of free resolutions for modules. In particular, they can be used to resolve rings.
For us, a minimal model is a semi-free dg algebra A = Q[X] over a regular local ring Q which satisfies ∂(mA) ⊆ m2A, where mA is the unique maximal, graded ideal of A.
If R is a local ring then by the Cohen structure theorem there is a regular local ring Q with the
same embedding dimension of R, and a surjective homomorphism Q → R􏰊 onto the completion of R.
It is possible to inductively construct a minimal model A = Q[X] and a surjective quasi-isomorphism ≃
A −→ R􏰊 of Q algebras.
Note that the indecomposables mA/m2A of A naturally form graded vector space over k = A/mA.
Theorem 1 (theorem 15). Suppose that A = Q[X] is a minimal model resolving R􏰊 as above. The shifted and dualised space of indecompables π∗(A) = (ΣmA/m2A)∨ canonically has the structure of a graded Lie algebra over k, and there is a natural isomorphism Uπ∗(A) ∼= Ext∗R(k,k).
This extends a classical theorem of Avramov [9, theorem 4.2] which deals with π≥2(A). It follows that π∗(A) is independent of the construction of A and thus we denote it π∗(R). This is the homotopy Lie algebra of R.
Using Avramov, Foxby and Herzog’s theory of Cohen factorisations one can also associate a minimal model A to a local homomorphism φ : R → S. In this way one obtains an analogous graded Lie algebra π∗(A) = π∗(φ), which we call the homotopy Lie algebra of φ.
In rational homotopy it is necessary to impose conditions on a space to obtain a well-behaved homo- topy Lie algebra. Indeed, Quillen [95] has shown that any finite type graded Lie algebra over Q occurs as π∗(ΩX) for some rational space X, which means no structure theory is possible in general. After the work of F ́elix and Halperin (and a number of other authors, see the beginning of section 3.2) we know that π∗(ΩX) enjoys some surprising rigidity properties when X has finite Lusternik-Schnirelmann category, which simply means that X admits a finite cover by open sets, each of which is contractible in X. These authors also characterised the L.S. category of a rational space algebraically in terms of minimal models [38].
Starting with the work of F ́elix and Halperin we discuss a notion of L.S. category for local rings and

Chapter 1. Introduction 4 local homomorphisms. In fact, to a local ring R and a local homomorphism φ we associate sequences
cat−1(R), cat0(R), cat1(R), · · · and cat−1(φ), cat0(φ), cat1(φ), · · ·
Each cati is either a natural number or infinity, and we’ll see that the sequences are in fact weakly decreasing. After establishing well-definedness we prove that the vanishing of these numbers characterises regularity and the complete intersection property. We also show that these invariants characterise the Golod property. We also give several examples which demonstrate how the behaviour of the L.S. category can uncover interesting information about a local ring of homomorphism. This part of the thesis especially is just the beginning of what will hopefully become a more complete development of L.S. category in local commutative algebra.
Our main interest in L.S. category is that its finiteness implies that the homotopy Lie algebra π∗(φ) has good structural properties. This follows from important work of F ́elix, Halperin, Jacobsson, L ̈ofwall and Thomas [39] (see theorem 18). Using classical work of Avramov one can also build certain six term exact sequences of homotopy Lie algebras under the hypothesis that cat1(φ) is finite. This is the subject of section 3.5.
In [38] F ́elix and Halperin prove the important Mapping Theorem, an important tool for calculating L.S. category in rational homotopy theory. The corresponding fact in local commutative algebra has been missing for some time. It turns out their result generalises verbatim to the situation of positive residual characteristic (even over a regular local base ring), we give a proof in section 3.3.
Theorem (The Mapping Theorem 20). If A → B is a surjective homomorphism of minimal models then cat A ≥ cat B.
The proof of the classical mapping theorem uses good properties of the category of commutative dg algebras over Q which are not available in our context. Thus, the proof we give is necessarily more delicate.
This generalises theorem 1.2 of [18], among other things. More importantly the theorem can be used to construct new ring homomorphisms of finite L.S. category. In this situation the deep results of [39] then apply, strongly constraining the algebraic structure of π∗(φ). The proof also applies in the dual, cohomological situation of rational homotopy theory, but now over a field of any characteristic. This has potential applications to homotopy theory at large primes, after the work of Anick [4] (but this direction will not be pursued in this thesis).
Jumping ahead to section 3.5, we investigate long exact sequences for the homotopy Lie algebra, and for variations on it. One construction we make in that section is the following.
Theorem (proposition 11 and theorem30). To a local homomorphism φ : (R,k) → (S,l) one can
∗
i−1 iii i+1
···→π􏰦 (ψ)⊗kl→π􏰦(φ)→π􏰦(φψ)→π􏰦(ψ)⊗kl→π􏰦 (φ)→···
associate a graded vector space π􏰦 (φ) with the following properties. If (Q,u) −→ (R,k) −→ (S,l) is a sequence of local homomorphisms there is a long exact sequence
∗∗
There is a natural comparison map π (φ) → π􏰦 (φ) which is an isomorphism whenever cat1(φ) < ∞. ∗
One of the reasons for introducing π􏰦 (φ) is that it also recovers some other known long exact sequences which do not involve π∗(φ), but another variation defined using divided powers instead of free variables. Details on this are given in section 3.5.
ψφ

Chapter 1. Introduction
5
∗
We show that vanishing of π􏰦 (φ) characterises quasi-complete intersection homomorphisms and de- duce the following characterisation as a corollary.
Theorem (theorem 33). Let φ : (R,k) → (S,l) be a local homomorphism. Then φ is quasi-complete intersection if and only if πi(R) ⊗k l → πi(S) is an isomorphism for i ≥ 3.
This establishes the converse to a theorem of Avramov, Henriques and S ̧ega [17, theorem 5.3]. It means that the quasi-complete intersection property can in fact be detected by the homotopy Lie algebra. One of the key technical tools is the Tate model for the diagonal, which associates to a minimal model A = Q[X] a minimal dg module of A over A ⊗Q A. This minimal resolution turns out to have a dg algebra structure, and is in fact free as a divided power algebra over A ⊗Q A. This classical construction
is recalled in section 2.6, where a few applications are discussed.
The Tate model for the diagonal involves both free and divided power variables. Building homo-
morphisms between such dg algebras is often a serious technical problem. In section 3.4 we deal with this problem by establishing that the Tate model for the diagonal is in a certain sense functorial. This proves to be very useful, and some applications are given in that section. Another example of what can be deduced using these ideas is the following.
Theorem (theorem 31). Let φ : (R, k) → (S, l) be a local homomorphism. If φi : πi(S) → πi(R) ⊗k l is surjective for all even i then there are six term exact sequences
π2i−1(φ) π2i−1(S) π2i−1(R) ⊗k l
π2i(φ) π2i(S) π2i(R) ⊗k l 0.
After [8], the homomorphism φ is called small if φ∗ : π∗(S) → π∗(R) ⊗k l is surjective. It is known that these for these homomorphisms one obtains three term exact sequences as above (with δ = 0). It is striking that also surjectivity in even degrees is equivalent to the presence of these six term exact sequences, even though there is a priori no long exact sequence at all. The same six term exact sequences show up for any homomorphism which satisfies cat1(φ) < ∞.
In chapter 4 the theme changes dramatically, our central interest from this point on in the char- acteristic action of the Hochschild cohomology HH∗(A,A) on the derived category an algebra A. The connecting theme is Koszul duality. This part of the thesis is adapted from [31], and as such its content is joint work with Vincent G ́elinas.
At this point it is wise to remember that Koszul duality originates independently from topology. Here it concerns the relation between a based space X and its loop space Y = ΩX. Keeping track of certain homotopical data, one can recover X, up to homotopy, as a classifying space BY .
In algebra, B and Ω become the bar and cobar functors. They are indispensable tools for us below. The ideas surrounding them are extremely wide reaching, and Koszul duality manifests in many places through some kind of bar-cobar formalism. Many of these ideas were first codified in [?].
It is through these functors that one arrives at the idea of an A∞ algebra, a flexible generalisation of associative algebras defined by Stasheff with topological motivation. Roughly, an A∞ algebra possesses a sequence of n-ary operations for n ≥ 2, rather than only a binary multiplication, that together describe
0
   δ
    
Chapter 1. Introduction 6
a structure which is associative up to homotopy. These structures provide us with the framework we need to interpret our results on the characteristic action, as we will explain now.
The Hochschild cohomology HH∗(A,A) acts centrally on the derived category of A through the characteristic morphism χM : HH∗(A,A) → Z(Ext∗A(M,M)) for each dg module M. This action has a great many uses, and it finely controls much of the homological behaviour of M. To name a few, it has been studied in connection with the cohomology operators of Gulliksen; the theory of support varieties, thereby often controlling the stable homological properties of M; with obstructions to deforming modules; it also connects to geometry via the Atiyah-Chern character; and in rational homotopy theory it shows up as an Umkehr map to the loop homology algebra.
Despite this, the image of χM : HH∗(A,A) → Ext∗A(M,M) is not well understood beyond the fact that im(χM) ⊆ Z(Ext∗A(M,M)). We investigate how the image of χM is constrained by the natural A∞ algebra structure on Ext∗A(M,M).
To this end we introduced a notion of A∞ centre for a minimal A∞ algebra A. In short, this can be defined by setting Z∞(A) to be the image of the canonical projection Π : HH∗(A, A) → A. It is also possible to define Z∞(A) using “higher commutators” for the higher products of A.
This is perhaps best viewed as a computational tool: it is closely connected to χM, and thus one would like to be able to calculate exactly how large it is. We gave tools for doing this. This is aimed at deciding whether certain obstructions vanish (see remark 19), or establishing the finite generation conditions which are vital in the theory of support varieties (see for example [102]). Specifically, when is HH∗(A,A) Noetherian, and when is Ext∗A(k,k) module-finite over the image of χk?
Once again this goes back to the work of Quillen, who introduced support theory to the modular rep- resentation theory of finite groups. Here it is vital to know that the cohomology algebra of a finite group is finitely generated, as established by Venkov and Evens. More generally, Snashall and Solberg conjec- tured in [102] that for every finite dimension k algebra A the Hochschild cohomology HH∗(A,A)/(nil) modulo nilpotents should be a finite generated k algebra. This is know for many classes of algebras (see op. cit.), but a counter-example has since been produced by Xu [111]. Aside from computing the image of χk, in some cases our methods are helpful in describing the algebra HH∗(A,A)/(nil) (see corollary 8).
Now we come to the original motivation for this work. Buchweitz, Green, Snashall and Solberg [33] have shown that if A is a Koszul algebra then the image of χk : HH∗(A, A) → Ext∗A(k, k) is the graded centre Z(Ext∗A(k,k)). Their theorem is generalised, and given a more conceptual proof, in the following. The connectedness assumption will be explained in section 2.3.
Theorem (theorem 37). If A is a strongly connected augmented dg algebra then the image of χ : HH∗(A, A) → Ext∗A(k, k) is exactly Z∞(Ext∗A(k, k)).
Since Koszulity of A can be characterized by formality of RHomA(k,k), and since the A∞ centre coincides with the graded centre for honest graded algebras, the theorem of Buchweitz, Green, Snashall and Solberg is precisely the special case when A is Koszul.
Let us emphasize the computational nature of our definitions. The A∞-centre is concretely definable in terms of certain higher commutators. Moreover, the natural A∞ structure on Ext∗A(k, k) be uncovered algorithmically, and in many cases very explicitly. This is so for the d-Koszul algebras of Berger [25], after the work of He and Lu [56] (see section 4.3), and also for monomial quiver algebras, after Tamaroff [105]. Knowing this structure, theorem 37 can often be used to compute the image of χk completely and explicitly by hand.
Theorem 37 can be generalised to arbitrary dg modules, rather than the augmentation module.

Chapter 1. Introduction 7
Theorem (corollary 6). Let M be a right dg module over A, and take Ext∗A(M,M) to be a minimal A∞ model for RHomA(M,M). For every dg module M, the characteristic morphism χM : HH∗(A,A) → ExtA(M,M) lands in the A∞ centre of Ext∗A(M,M). If M is homologically balanced as an REndA(M)− A bimodule then im(χM) = Z∞(Ext∗A(M,M)).
The terminology homologically balanced is explained in section 2.1. We recover theorem 37 as the special case that M = k because k is homologically balanced whenever A is strongly connected (see section 2.3). Corollary 6 is deduced from the following theorem.
Theorem. Let A be a dg algebra augmented over a field k, and let M be a right dg module over A. Denote the derived endomorphism algebra of M by R = REndA(M,M). The characteristic morphism χM lifts canonically into the Hochschild cohomology of R:
HH∗(A, A) χ􏰦M HH∗(R, R)
χM
Z(Ext∗A(M, M)).
Moreover, if M is homologically balanced then χ􏰦M is an isomorphism.
This in turn is a consequence of a larger enrichment χ􏰦 for the entire characteristic action at once (theorems 34 and 35). This comes from a detailed investigation of various models for the characteristic action of HH∗(A, A) on D(A). A consequence is that this action is actually independent of A: it depends only on the enhanced derived category Ddg(A) up to quasi-equivalence.
In the final section of this thesis we compute a few examples showing theorem 37 in action. This section 4.3 also contains a few applications to specific classes of algebras. We also return to the question of finite generation of HH∗(A,A)/(nil). The d-Koszul algebras appearing in the theorem below are a natural non-quadratic generalisation of Koszul algebras, they will be defined in section 37.
Theorem (theorem 40 and corollary 8). Assume that A is d-Koszul with nilpotent augmentation ideal, then in even cohomological degrees χ surjects onto the graded centre
χ : HHeven(A, A) 􏰲 Z(Exteven(k, k)) A
and this induces an isomorphism of graded commutative algebras
HH∗(A, A)/(nil) ∼= Z(ExtA(k, k))/(nil).
Finally, let us point our another application taken from section 4.2. The proof uses A∞ structures
and the ideas behind the A∞ centre in an essential way, but we can state it purely in dg language.
Theorem (corollary 7). Assume k has characteristic zero and let A be an augmented dg algebra such that HH∗(A,A) → H∗(A) is surjective. Then the associated dg Lie algebra ALie is formal and quasi- isomorphic to an abelian Lie algebra.
A dg algebra A satisfying the hypotheses of the corollary need not be quasi-isomorphic to a com- mutative algebra, so this is an example of what subtler forms of commutativity can be deduced from A∞-commutativity of the minimal model H∗(A).
   ΠR

Chapter 1. Introduction 8
In the literature these dg Lie algebras have been called quasi-abelian. Understanding when this condition holds is important because it means the associated deformation problem is extremely simple, and in particular unobstructed.
1.1 Overview
The first background section 2.1 is a rapid account of some standard definitions in homological algebra, the most important being the centre of a graded category. It could be skimmed or skipped entirely.
After this, sections 2.2, 2.3, 2.4, and 2.5 contain a more leisurely introduction to the basic concepts surrounding Koszul duality. They should be read in order. Since the content here is relatively standard an expert may also wish to skim or skip these sections.
Section 2.2 is an introduction to twisting cochains and the bar construction which will be relevant throughout this thesis. Section 2.3 contains some highlights from the classical theory of Koszul duality. It is needed for chapter 4 only, but it will likely provide helpful context for both parts of this thesis. Then in sections 2.4 and 2.5 we cover the background on A∞ algebras and Hochschild cohomology which will be needed in chapter 4.
The material in these background sections is classical and none of it should be considered original, except possibly parts of the presentation of twisted tensor products and of the Hochschild cochain complex, which are adapted from [31, sections 2.1 and 2.3].
The background sections 2.6, 2.7 and 2.8 concern some important aspects of the homological algebra of local rings, setting the scene for chapter 3. These sections should also be read in order. Much of the content here is non-standard, so these sections should be read before chapter 3.
In section 2.6 we introduce semi-free extensions and semi-free divided power extensions. The back- ground on divided powers is apparently more general than any easily accessible reference, but this generality is largely superficial. This section also contains a quite general form of the famous Tate model for the diagonal, followed by a few applications.
Section 2.7 begins with an introduction to the Cohen Factorisations of [15]. After this the important class of minimal models is introduced. This section also contains a discussion of Golod homomorphisms. Finally, 2.8 contains background on graded Lie algebras, leading directly on to section 3.1 on the homotopy Lie algebra. The content is standard, except that theorem 13 (and its corollary) most likely
does not appear in the literature in this generality.
To summarise, the reader should be aware of the following main dependencies.
dg categories
2.1
twisting cochains 2.2
Koszul duality
2.3
A∞ Hochschild algebras cohomology
2.4 2.5
semi-free extensions 2.6
minimal Lie
models
algebras
2.7 2.8
           Hochschild cohomology
chapter 4
commutative Koszul duality
chapter 3
       In chapter 3 we investigate several related topics in local commutative algebra.

Chapter 1. Introduction 9
Section 3.1 leads directly on from the background section 2.8. It contains the fundamental construc- tions and results describing the homotopy Lie algebra of a local ring or local homomorphism.
In section 3.2 we introduce and study the LS category for a local ring or ring homomorphism. This is really the beginning of a full development. We establish a series of interesting properties and give several examples. The proof of well-definedness is technical and delayed until the end of the section. One of the most important ways to calculate LS category is the mapping theorem, which is established in section 3.3.
A key tool throughout this thesis is the Tate model for the diagonal. The purpose of section 3.4 is the proof a technical result which shows that the Tate model for the diagonal can in some sense be made functorial. We use this result a number of times in the thesis. In particular, we explain in this section how it can be used to give a simpler proof of a result of Avramov and Iyengar.
In the last section 3.5 of chapter 3 we discuss in detail some of the long exact exact sequences which can be built from the homotopy Lie algebra, and from variations on it.
Chapter 4 concerns the characteristic action of Hochschild cohomology HH∗(A,A) on the derived category D(A), and how this action interacts with Koszul duality for A.
The core of this chapter is section 4.1. Here we use a convolution enhancement for the derived category, and the yoga of twisting cochains, to explain how the characteristic action can be enriched in a strong sense.
Section 4.2 is about interpreting the previous section through the lens of A∞ structures. Here we introduce and begin to study a notion of A∞ centre. As an application, at the end of the section we give a criterion for when the associated Lie algebra of a dg algebra is quasi-abelian.
Finally, the philosophy of this chapter is applied to a few examples of d-Koszul algebras in section 4.3. This section also summarises a few quick applications of the preceding sections.
1.2 Notation and Conventions
We briefly indicate in this section some of the notation and basic objects that will be used throughout the rest of this thesis. These definitions are far from complete, they are here largely to make clear which set of conventions will be adhered to below. We also sneak in a couple of fundamental lemmas.
A graded object in a category C is simply an indexed sequence X = {Xi}i∈Z of objects of C. By default indices are written as subscripts, and we say X is homologically graded. When an object is naturally cohomologically graded we may use superscripts according to the convention Xi = X−i. A graded object X has a suspension ΣX defined by the equalities (ΣX)i = Xi−1. When the objects Xi have an underlying set, elements x ∈ Xi are said to have degree i and we write |x| = i. The corresponding element of (ΣX)i+1 is written Σx.
If k is a commutative ring, then a complex of k modules is a graded k module M equipped with a morphism ∂ : M → ΣM such that ∂2 = 0. The suspension ΣM is itself a complex with ∂(Σx) = −Σ∂(x). WeusethenotationsupM =sup{i:Hi(M)̸=0}. Theconeonachainmapf :M →N isthecomplex cone(f) = N + ΣM with the differential ∂(n + Σm) = ∂(n) − Σ∂(m) + f(m). A quasi-isomorphism f : M → N is a chain map such that the induced map in homology H∗(f) : H∗(M) → H∗(N) is an isomorphism. Throughout, the symbol ≃ will be used to indicate a quasi-isomorphism (in a slight abuse of notation, we do not worry about the fact that this symbol is undirected). The following lemma

Chapter 1. Introduction 10 will be extremely useful for detecting quasi-isomorphisms. It can be proven by hand, or using the
Eilenberg-Moore comparison theorem [109, theorem 5.5.11].
Lemma 1. Let M and N be complexes with complete, exhaustive filtrations, and let f : M → N be a map of filtered complexes. If the map gr(f) : gr(M) → gr(N) of associated graded complexes is a quasi-isomorphism (or isomorphism, respectively) then so is f.
An (associative) dg algebra is a complex A of k modules with a product m : A ⊗ A → A and a unit k → A which are both chain maps, and which satisfy the usual associativity and unitality axioms. Dually, an (associative) dg coalgebra is a complex C of k modules with a coproduct ∆ : C → C ⊗ C and a counit C → k which satisfy the dual associativity and unitality axioms. Details can be found for instance in [80, chapter 1]. A right dg comodule over C is a complex M with a coaction ∆ : M → M ⊗ C which is associative and unital. The situation for left comodules and bicomodules is analogous.
Dual to the usual definition for algebras, C is augmented if it is equipped with a homomorphism k → C of coalgebras which splits the counit C → k. From an augmentation C inherits an increasing filtration defined as follows. Write C = ker(C → k), since C is augmented there is an induced nonunital coproduct ∆ : C → C ⊗ C. Using associativity to iterate yields the n-fold coproduct ∆(n) : C → C⊗n. WiththiswedefineC(n) =k+ker(∆(n))forn≥1. Thenk=C(1) ⊆C(2) ⊆···⊆Ciscalledthe primitive filtration and we say that C is cocomplete if 􏰇 C(n) = C . This is the case for most coalgebras which come up in practice, and it will be a crucial assumption below.
An important example is the tensor coalgebra Tco(V ) = 􏰅w≥0 V ⊗w on a graded k module V . We use the notation πw : Tco(V) → V⊗w for the natural projections. The coproduct is given by ∆(v1⊗···⊗vw)=􏰆wi=0(v1⊗···⊗vi)⊗(vi+1⊗···⊗vw). Withtheprojectionπ1 itiscofreeamong cocomplete coalgebras equipped with a linear map to V .
Let M be a bicomodule over a coalgebra C, with right and left coactions ∆r : M → M ⊗ C and ∆l : M → C ⊗ M . The compatibility condition asserts that (∆l ⊗ 1)∆r = (1 ⊗ ∆r )∆l and we denote this by ∆(3). A k linear map q : M → C is by definition a coderivation if ∆q = (q ⊗ 1)∆r + (1 ⊗ q)∆l. The space of coderivations from M to C is denoted coDer(M,C). We will need the following
Lemma 2 (Quillen [97, part II section 3.1]). Let M be a bicomodule over Tco(V ). The corestriction coDer(M, Tco(V )) → Hom(M, V ), q 􏰀→ π1q is an isomorphism. Its inverse lifts α : M → V to the coderivation
q= 􏰈(πi⊗α⊗πj)∆(3). i,j ≥0
Now we list some of our basic commutative algebra conventions.
A local ring is by definition a Noetherian commutative ring with exactly one maximal ideal. We will often say that (R, m, k) is a local ring to mean R is a local ring with maximal ideal m and residue field k. This shorthand applies as well to (R, m) or (R, k). At the same time, to avoid coming up with names for maximal ideals we will often automatically denote by mR the maximal ideal of a local ring R.
If (R,k) is a local ring the Poincar ́e series of a finitely generated R module M is by defintion PMR(t)=􏰆i≥0dimkTorRi (M,k)ti.
If a base ring is not specified then by dg algebra we mean dg algebra over Z (that is, a dg ring). In chapter 3 most of the dg algebras we deal with will be strictly commutative. This means any two
         
Chapter 1. Introduction 11
elements satisfy xy = (−1)|x||y|yx and furthermore x2 = 0 whenever |x| is odd1. For us, a local dg algebra A is by definition a strictly commutative dg algebra concentrated in nonnegative degrees such that A0 is local and each Ai is finite as a module over A0. In particular, A has exactly one maximal ideal. As for local rings, we use the notation mA by default for this ideal.
A homomorphism A → B of local dg algebras is called minimal if ∂(mB) ⊆ mAB + m2B. The dg algebra A will be called absolutely minimal if ∂(mA) ⊆ m2A.
 1In characteristic 2 this kind of commutativity is not even controlled by an operad (let alone a Σ-split operad), making its meaning homotopically unclear. Rather, this condition is a direct translation of the rigid structures which one works with in rational homotopy theory.

Chapter 2 Background
2.1 Graded Categories and Differential Graded Categories
In this short section we list some definitions concerning graded categories and dg categories over a commutative ring k. In particular, we make explicit how some standard definitions for dg algebras and dg modules generalise to the case of many objects. This will be somewhat terse; the coming sections should (hopefully) be more readable.
Undecorated tensor product and Hom’s are all taken over k.
A graded k category C consists of a collection of objects and for any two objects x,y a graded k module HomC(x,y), which will often be denoted yCx. We should also have bilinear composition maps xCy ⊗ yCz → xCz and units k → xCx which satisfy the usual associativity and unitality conditions.
The underlying ungraded k category C0 has the same objects as C and HomC0 (x, y) = HomC (x, y)0. If there is an equivalence Σ : C0 → C0 and a natural isomorphism HomC (x, Σy) ∼= ΣHomC (x, y) then we say that C has an internal suspension. In this way a graded category is essentially the same thing as a k category with a distinguished auto-equivalence. In particular, every triangulated category is naturally a graded category.
By definition the graded centre Z(C) of C is the graded k module of graded natural transformations 1C → 1C . This means
Zn(C) = {families {ξx ∈ HomC(x,x)n}x∈C : fξx = (−1)nmξyf for all f ∈ HomC(x,y)m}.
If C has a single object then C is simply a graded k algebra, and Z(C) is the usual graded centre of C. On the other hand, if C has an internal suspension Σ then Zn(C) can be identified with the set of all natural transformations ξ : 1C0 → Σn which satisfy ξΣ = (−1)nΣξ (that is, ξΣxΣ = (−1)nΣξx : x → Σn+1x for all objects x). Under composition Z(C) becomes a graded commutative k algebra (not necessarily strictly graded commutative). Krause and Ye discuss graded centres of triangulated categories in [73].
For any object x of C there is a restriction homomorphism Z(C) → Z(EndC(x)). More generally one can restrict along any full subcategory of C (in [69] Keller upgrades this with the observation that one can also do this for the Hochschild cochain complex of any dg category, see section 2.5).
A dg category C over k consists of a collection of objects and a complex yCx = HomC(x,y), of k modules for any objects x,y. Again C should come with composition maps xCy ⊗ yCz → xCz and
12

Chapter 2. Background 13
units k → xCx, both of which are chain maps, and which satisfy the usual associativity and unitality conditions.
Any dg category has an underlying graded category by forgetting the differential. More interest- ingly, taking homology produces a graded category H∗(C) with the same objects and HomH∗(C)(x,y) = H∗(HomC(x,y)). The underlying ungraded category H0(C) is usually called the homotopy category of C.
A functor F : C → D between dg categories is a functor of the underlying ungraded categories which additionally respects differentials, meaning that HomC(x,y) → HomD(F(x),F(y)) is a chain map for any two objects x and y of C. If the induced functor H∗(F) : H∗(C) → H∗(D) is an equivalence then F is called a quasi-equivalence.
A right module M over a dg small category C is a complex Mx for every object x of C together with a chain map Mx ⊗ xCy → My for any two objects x and y, and this action should be associative and unital in the obvious sense. Similarly one can define left modules and bimodules. C is canonically a bimodule over itself, and for any object x we have the representable right module xC (or left module Cx). The representable modules play the role of free modules. Given a right module M and a left module N over C, one can form the tensor product M ⊗C N, which is the quotient of 􏰅x∈C Mx ⊗ xN bytheidentificationm⊗fn=mf⊗nform∈Mx andf∈xCy andn∈yN.
The preceding definitions can be put into a formal framework following [70]. A dg quiver Q consists of a set of objects and a complex yQx for each pair of objects. The collection of dg quivers over a fixed set of objects S forms a monoidal dg category by setting
Hom(Q,Q′)=􏰤Hom( Q , Q′ ) (Q⊗Q′) =􏰠 Q ⊗ Q′ . yxyxyxyzzx
x,y z
TheunitisthequiverkS withx(kS)x =k·1x andy(kS)x =0whenx̸=y. Adgcategorywithaset of objects S is then essentially the same thing as a monoid with respect to this structure, and modules over dg categories are essentially modules over the corresponding monoids.
A dg category C on a set S of objects is called augmented if it is equipped with a morphism C → kS splitting the unit kS → C.
One reason for introducing this framework is that it reveals the correct definition of dg cocategory: these should be dg quivers with a decomposition C → C ⊗ C and a counit C → kS satisfying the usual comonoid axioms. Cocategories can be used to build bar constructions for augmented dg categories.
A fundamental example of a dg category is the enhancement of the derived category of an algebra. To describe this we need some background. These dg categories are never augmented.
Let A be a dg algebra (or small dg category) over k. A right module M over A is called semi-free if it admits an exhaustive filtration 0 = M(0) ⊆ M(1) ⊆ M(2) ⊆ · · · such that the quotients M(i) /M(i+1) are all free (or representable) A modules1.
The objects of Ddg(A) are by definition all semi-free right A modules. The complex NDdg(A)M is the usual complex HomA(M,N) of A linear homomorphisms. We also use the notation RHomA(M,N) for this complex, and the notation Ext∗A(M,N) = H∗(RHomA(M,N)) for its homology. The homotopy category D(A) = H0(Ddg(A)) is by definition the derived category of A. It has the structure of a triangulated category.
1The filtration can be indexed by N or by any ordinal. The two definitions are equivalent as a filtration by an ordinal can always be transformed into one by N with the same property.
 
Chapter 2. Background 14 We also write Ddg (A) for the full dg subcategory of Ddg(A) on those dg modules which are isomor-
perf
phic in D(A) to an object of Dperf(A). Here Dperf(A) = thickD(A)(A) is the perfect derived category
of A, that is, the smallest full, triangulated subcategory of D(A) which contains A and is closed under summands. In general, when M is a set of objects in D(A), we denote by thinkD(A)(M) the smallest full, triangulated subcategory of D(A) which contains the objects in M and is closed under summands.
where F is a semi-free right A module with a chosen surjective A-linear quasi-isomorphism F −→ M. The complex RHomA(M,N) is defined up to quasi-isomorphism, but often we will have a specific semi-free resolution for M in mind. Moreover RHomA(M,N) is naturally a dg algebra using HomA(F,F) as a model with composition as product. This dg algebra depends on F only up to quasi-isomorphism of dg algebras.
In general, when M and N are not necessarily semi-free, RHomA(M,N) is defined to be HomA(F,N) ≃
Suppose that M and N are right and left A modules respectively. The derived tensor product M ⊗LA N ≃
is similarly defined to be F ⊗A N, where F −→ M is a semi-free resolution (one could equally well resolve N instead).
Suppose that M is a B − A bimodules and N is a C − A bimodule, for three small dg categories A,B and C. Assume also that each xM and yN are semi-free right A modules. Then RHomA(M,N) is naturally a C − B bimodule with yRHomA(M, N)x = RHomA(xM, yN). In particular when B = C and M = N the quiver RHomA(M,M) is naturally a dg category with the same set of objects as B.
When M is a set of right A modules RHomA(M,M) is by definition the full dg subcategory of Ddg(A) on M. This canonically makes M into a RHomA(M, M) − A bimodule.
We make a definition which will be useful later. Suppose that A and B are dg categories and M is a B − A bimodule. We say that M is homologically balanced if the natural functors B → REndA(M) and Aop → REndBop(M) are both quasi-equivalences. This condition was used by Keller in [69]. The following is a consequence of the five lemma.
Lemma 3 ([69]). Let M be a B − A bimodule. The natural map B → RHomA(M,M) is a quasi- equivalence if and only if the functor − ⊗LB M : Dperf (B) → D(A) is fully faithful.
2.2 Twisting Cochains and the Bar Construction
In this section we work with algebras and coalgebras over a field k. Undecorated tensor product and Hom’s are taken over k. It is possible to work over a commutative ring instead, but we will not need this generality.
If A is a dg algebra with product m : A⊗A → A and C is a dg coalgebra with coproduct ∆ : C → C⊗C then the complex Hom(C, A) becomes a dg algebra with the cup product f ⌣ g = m ◦ (f ⊗ g) ◦ ∆. This is verified in [80, proposition 2.1.2]. We call this the convolution algebra connecting C and A. Using this structure, an element τ ∈ Hom(C, A)−1 is called a twisting cochain if it satisfies the Maurer-Cartan equation
∂(τ)+τ ⌣τ =0.
Assume further that both C and A are augmented. Then a twisting cochain τ : C → A is called
ττ
augmented if it vanishes on both augmentations, so the two compositions k → C −→ A and C −→ A → k are zero. The set of augmented twisting cochains from C to A is denoted tw(C, A).

Chapter 2. Background 15
Let Alg be the category of augmented dg algebras over k, and let coAlg be the category of cocomplete augmented dg coalgebras over k. The set of twisting cochains is natural in both arguments, so we have a functor
tw : coAlgop × Alg → Sets.
Theorem 2 ([80, section 2.2]). This functor is representable in both arguments: there are functors
Ω : coAlg → Alg and B : Alg → coAlg and natural isomorphisms Alg(ΩC, A) ∼= tw(C, A) ∼= coAlg(C, BA).
The functors B and Ω are called the bar and cobar constructions respectively. By definition we have an adjunction
B : Alg         coAlg : Ω.
According to [80], this can be upgraded to a Quillen equivalence of model categories, this sums up much of the force behind Koszul duality. Classical Koszul duality concerns what can be said about formality on either side of this adjunction. This will be discussed in section 2.3.
The bar construction goes back to [37] while the cobar construction goes back to [1]. Both originate in algebraic topology, and they remain indispensable there and in algebra. We will quickly explain how to build the bar construction of an augmented algebra now, since this is all we need below. Many more details, including the cobar construction, can be found in [80, section 2.2].
Let A be an augmented dg algebra. Denote A = coker(k → A), then using the augmentation there is an induced non-unital product m : A ⊗ A → A. As a graded coalgebra BA is the tensor coalgebra Tco(ΣA). It is traditional to write elements of BA using the notation Σa1 ⊗ · · · ⊗ Σaw = [a1| · · · |aw]. We also write πw for the projection BA → BwA = (ΣA)⊗w, and define two degree −1 maps b1 and b2 by the commutativity of the following two diagrams
A ∂ A A⊗2 m A Σ Σ Σ⊗Σ Σ
B1A −b1 B1A B2A b2 B1A.
Finally, because BA is cofree on B1A, there is a unique coderivation b : BA → BA such that π1b =
b1π1 + b2π2 by lemma 2. Explicitly, b is given by
ww
b[a1| · · · |aw] = 􏰈(−1)εi [a1| · · · |∂(ai)| · · · |aw] + 􏰈(−1)εi [a1| · · · |m(ai−1, ai)| · · · |aw]
i=1 i=2
where εi = i+|a1|+...+|ai−1|. The condition b2 = 0 is a consequence of the fact that A is an associative
                    dg algebra. Thus BA with b as a differential is a cocomplete dg coalgebra. This is the bar construction π1
 of A. The universal twisting cochain into A is π : BA −→ ΣA 􏰐→ ΣA. The bijection in the above theorem takes a coalgebra map φ : C → BA to the twisting cochain πφ, and it follows that every other twisting cochain into A factors uniquely through π.
The construction of ΩC is linearly dual: as an algebra ΩC = T(Σ−1C) and the differential encodes precisely the coproduct and differential on C. When C is concentrated in degrees ≥ 2, or in degrees ≤ 0, there is a canonical isomorphism B(C∨) ∼= (ΩC)∨. By the theorem there is also a universal twisting
  
Chapter 2. Background 16
cochain from C, which we denote ι : C → ΣΩC.
Quasi-isomorphisms of dg coalgebras are poorly behaved. Instead, a homomorphism φ : C → C′
between cocomplete dg coalgebras is called a weak equivalence if the induced algebra homomorphism Ωφ : ΩC → ΩC′ is a quasi-isomorphism. In [75] it is proven that a weak equivalence is a quasi- isomorphism, but this notion is stronger. Since we will not make serious use of this notion, we refer to [80] or [75] for discussion.
Now we explain how twisting cochains can be used to build resolutions and compute derived functors. These twisted tensor products and twisted convolution algebras will be important throughout this thesis. If τ : C → A is a twisting cochain we may perturb the usual differential on Hom(C, A) to ∂ + [τ, −]. The condition (∂ + [τ, −])2 = 0 is equivalent to the Maurer-Cartan equation. Equipped with this differential Hom(C,A) is called the twisted convolution algebra associated to τ, and it is denoted Homτ(C,A). Naturality of twisting cochains for algebra and coalgebra maps extends to naturality of
twisted convolution algebras. For later reference we need the following lemma.
Lemma 4. If τ : C → A is an augmented twisting cochain from a cocomplete dg coalgebra, and φ : A →
A′ is a quasi-isomorphism dg algebras, then the induced map
φ∗ : Homτ(C, A) → Homφτ(C, A′)
is also a quasi-isomorphism of dg algebras.
The lemma follows easily from lemma 1 using the filtration on twisted convolution algebras induced from the the primitive filtration on C, which is complete since C is cocomplete. The twists [τ,−] and [φτ, −] decrease the primitive filtration, so they vanish after passing to the associated graded complexes and then then result is a standard fact about hom complexes.
Let M be a right C comodule and let N be a left A-module. The convolution algebra Hom(C,A) acts on the left of M ⊗ N via the cap product
∆⊗1 1⊗α⊗1 1⊗m
α ⌢ − : M ⊗ N − −−→ N ⊗ C ⊗ M −−−−→ N ⊗ A ⊗ M −−−→ N ⊗ M .
If τ : C → A is a twisting cochain the ∂M ⊗1+1⊗∂N +(τ ⌢ −) is a square zero differential on M ⊗ N . With this differential, it is easy to verify that the twisted tensor product M ⊗τ N becomes a left dg module over the twisted convolution algebra Homτ(C, A).
Similarly,ifM isarightAmoduleandN isaleftcomodule,therightactionofHom(C,A)onM⊗N allows us to equip it with a differential ∂M ⊗1+1⊗∂N −(− ⌢ τ). This twisted tensor product M ⊗τN is a right dg module over Homτ(C, A).
The following theorem is fundamental in the theory of twisting cochains.
Theorem 3 ([62, 75, 80]). If τ : C → A is an augmented twisting cochain the following are equivalent:
1. ΩC → A is a quasi-isomorphism;
2. C → BA is a weak equivalence;
3. using the counit of C, the natural A bimodule map A ⊗τ C ⊗τ A → A is a quasi-isomorphism.

Chapter 2. Background 17 We say that τ is acyclic if it satisfies the equivalent conditions of the theorem. Note that according
ιπ
to the theorem, the universal twisting cochains C →− ΩC and BA −→ A are both acyclic.
Note that the twisted part of the differential on A ⊗τ C ⊗τ A decreases the primitive filtration on C. Since C is cocomplete, this filtration witnesses the fact that A ⊗τ C ⊗τ A → A is a semi-free dg module
resolution over Aop ⊗ A.
In the thesis of Lef`evre-Hasegawa the conditions of the theorem are also shown to be equivalent to
having a canonical equivalence of derived categories − ⊗τ A : Dco(C) 􏱃 D(A) : − ⊗τ C, see [75] for details.
Theorem 4. If τ : C → A is an acyclic twisting cochain then there is a canonical quasi-isomorphism ∨≃
C −−→RHomA(k,k).
Proof. By the previous theorem we have a semi-free bimodule resolution A ⊗ C ⊗ A −→ A. Tensoring
down on the left produces a semi-free resolution of right dg modules C ⊗ A −→ k (this is sometimes called the Koszul complex of A).
There is a natural left action C∨ on C⊗τA using the coproduct of C. This produces a homomorphism of dg algebras φ : C∨ → HomA(C ⊗τ A, C ⊗τ A). Composing φ with the quasi-isomorphism HomA(C ⊗τ
τ≃τ∼∨∨
A, C ⊗ A) −→ HomA(C ⊗ A, k) = C yields the identity on C , and therefore φ is a quasi-isomorphism.
ττ≃ τ≃
 Example 1. Let V be a graded vector space which is degree-wise finite dimensional and concentrated 􏱀
in non-negative degrees. Let S = k􏰍V 􏰎 = Sym(V ) be the free complete strictly graded commutative algebra on V . Also let Γ = Symco(ΣV ) be the cofree strictly graded commutative coalgebra on ΣV , which may be defined by dualising Γ ∼= (Sym((ΣV )∨))∨. This coalgebra is naturally isomorphic to the free divided power algebra k⟨ΣV ⟩ on ΣV , which we will discuss in section 2.6.
The composition τ : Γ 􏰲 ΣV 􏰐→ ΣS is an acyclic twisting cochain. The Maurer-Cartan equation is easy to check, and the twisted tensor product S ⊗τ Γ ⊗τ S is isomorphic to
k􏰍V,V􏰎⟨ΣV⟩ with ∂(Σv)=v⊗1−1⊗v for v∈V.
This is the classical Tate model for the diagonal which will be discussed in section 2.6. It is well known that k􏰍V, V 􏰎⟨ΣV ⟩ → k􏰍V 􏰎 is a quasi-isomorphism (see for example [39, proposition 1.9]). This example will be generalised by theorem 13.
2.3 Koszul Duality
In this section we discuss some aspects of Koszul Duality for associative algebras. Of course, much more can be said, and we will have to completely omit many important aspects of this theory. Continuing from the previous section we work over a field k. All algebras are k algebras, and undecorated tensor product and Hom’s taken over k.
In its simplest algebraic incarnation Koszul duality concerns the relation between an associative, augmented (possibly graded or dg) algebra A, and the Yoneda algebra Ext∗A(k,k). Theorem 4 provides the connection with twisting cochains: if τ : C → A is an acyclic twisting cochain then there is a canonical

Chapter 2. Background 18
isomorphism H∗(C∨) ∼= Ext∗A(k, k) of graded algebras. It is no secret that passing to homology (usually) throws away information. With this in mind we say that the dg algebra RHomA(k,k) is Koszul dual to A. WeusethenotationA! =RHomA(k,k)withtheunderstandingthatthisisonlydefineduptoquasi- isomorphism. Since π : BA → A is an acyclic twisting cochain (BA)∨ functorially provides a model for the Koszul dual dg algebra to A. Note that this model is augmented: we should really consider A! to be an augmented dg algebra defined up to augmented quasi-isomorphism.
Koszul duality has many algebraic and geometric incarnations, and is best motivated through ex- amples. For instance Priddy’s original work [94] discusses in detail the Steenrod algebra from algebraic topology. But there are two basic reasons why one should be interested in A! if one is interested in A. Firstly, the representation theory of A is closely related to that of A!. This goes back at least to [24], and will be explained in part below. Secondly, under mild finiteness conditions it is possible to recover A from A!. In fact there is a canonical quasi-isomorphism A!! ≃ A. We will sketch the reason for this now, much more detail can be found in [80] or [75].
The price of working with algebras is that repeated dualisation necessitates some finiteness conditions. The theory of twisting cochains suggests a version of Koszul duality using coalgebras which avoids dualising unnecessarily. Details of this picture are worked out in the thesis of Lef`evre-Hasegawa [75]. For readability we mostly stick to the algebra side in this thesis. Thus, let us say that an augmented dg algebra A is strongly connected if H∗(A) is degree-wise finite dimensional and it is either homologically connected or cohomologically simply-connected, which means H∗(A) must be concentrated in degrees ≥ 1 or in degrees ≤ −2 respectively.
Theorem 5. If A is a strongly connected then A!! is canonically quasi-isomorphic to A. Thus, A can be recovered from A! up to quasi-isomorphism.
A inductive argument shows that up to quasi-isomorphism we can arrange that A itself is degree- wise finite dimensional and concentrated in degrees ≥ 1 or in degrees ≤ −2 (a more intuitive way of doing this is to replace A with a minimal A∞ model using theorem 8, this will be explained in the next section). Having done this, there is a canonical isomorphism (B(BA)∨)∨ ∼= (ΩBA)∨∨ ∼= ΩBA. One can show that the natural homomorphism ΩBA → A is always a quasi-isomorphism by writing down an explicit contraction as in [75, lemme 1.3.2.3] (note that this is also a consequence of theorem 3). Since (B(BA)∨)∨ is a model for the double Koszul dual to A, this produces a quasi-isomorphism A!! ≃ A.
Since A! → RHomA(k,k) is a quasi-isomorphism by definition, the theorem may be restated in the terminology of section 2.1.
Corollary 1. If A is a strongly connected then k is homologically balanced as an A! − A bimodule.
The following is perhaps the most basic derived equivalence which Koszul duality yields. These ideas go back to [24]. With appropriate definitions the theorem extends to the A∞ setting, worked out in [82]. Lef`evre-Hasegawa establishes a much larger and more generally applicable derived equivalence in [75], relating A and its Koszul dual dg coalgebra (the source of any acyclic cochain into A).
Recall that Dperf(A) = thinkD(A)(A) is the prefect derived category of A. We also write Dfd(A) for the full subcategory of D(A) on those objects with finite dimensional homology.
Theorem 6. If A is strongly connected we have natural equivalences of triangulated categories Dfd(A) ≃ Dperf (A!) and Dperf (A) ≃ Dfd(A!).
  
Chapter 2. Background 19
Proof. The first equivalence is quite formal using the techniques of Keller [65], and strong connectedness is not needed.
≃
First note that Dfd(A) = thickD(A)(k). Let K −→ k be a semi-free right A module resolution. Following [65] we work with the dg enhancement Ddg(A) of semi-free dg modules with finite dimensional
fd cohomology. Since k is generator for Dfd(A) the functor
RHomA(k, −) = HomA(K, −) : Ddg(A) → Ddg (EndA(K)) fd perf
is a quasi-equivalence by the five lemma. Then since A! ≃ EndA(K) we also have an equivalence Dperf (EndA(K)) ≃ Dperf (A!).
The second equivalence then follows by reversing the roles of A and A! using theorem 5. Classical Quadratic Koszul Duality
Starting with an augmented graded algebra A, it would be desirable to be able to replace the large dg algebras RHomA(k,k) or (BA)∨ with the simpler graded algebra Ext∗A(k,k) in theorems 5 and 6. With this in mind, we define A to be Koszul if A is strongly connected and A! is formal, which mean there is a chain of quasi-isomorphisms connecting A! to H∗(A!) = Ext∗A(k,k). We will explain here how this relates to the more classical picture of Koszul duality, which concerns algebras and coalgebras defined by quadratic data, and small resolutions over them. These ideas go back to the seminal work of Priddy [94].
where U = 􏰇U(i) is a filtered vector space such that U(0) = 0 and ∂(Ui) ⊆ Ui−1 ⊗ A. We say that M (equipped with this space of generators) is linear if ∂(U) ⊆ U ⊗ V . The minimal semi-free resolution of the augmentation module k begins
···→Σ2R⊗A→ΣV ⊗A→A→0.
AndthereforeTorA∗(k,k)willbegin(k+ΣV+Σ2R+...). NotethatforthisresolutiontobelinearR must be quadratic.
Aside from the algebra A = A(V, R) = T(V )/(R), there is an equally natural way to define a coalgebra from quadratic data of V and R ⊆ V⊗2. We can take the cocomplete, augmented coalgebra C(V,R) which is cofree on V subject to the constraint that C(V, R) → C(V, R) ⊗ C(V, R) → V ⊗ V factors
2With this data we can build the dg algebra T(V,ΣR) with ∂(Σr) = r ∈ T(V). This is the first step in the non- commutative Tate resolution of A = T(V )/(R): as in section 2.6 one inductively constructs a dg algebra resolution
≃
T(V0, V1, V2, ...) −→ A with V0 = V and V1 = ΣR and Vi in degree i. We can tautologically interpret T(V0, V1, ...) = ΩC as the cobar construction of an A∞ coalgebra, which comes with an acyclic twisting cochain C → A (A∞ structures will be discussed shortly). It follows from this discussion that there is a canonical isomorphism C = (k+ΣV0+ΣV1+...) ∼= TorA∗ (k, k). If A is Koszul, we can construct C with no higher coproducts. In other words the differential T(V0, V1, ...) must be quadratic, and in particular we must be able to choose the relations R quadratic.
 Miraculously, the assumption that A is Koszul leads (with the data of a presentation of A) to a ∨≃∗ A≃
simple, canonical quasi-isomorphism (BA) −→ ExtA(k, k), or more fundamentally Tor∗ (k, k) −→ BA. So, let A be an augmented graded algebra and suppose we have a graded vector space V with a map V → A such that T(V ) → A is surjective. Assume that V is minimal, meaning that the kernel of this map lies in T≥2(V ). Choose also a minimal space of relations R ⊆ T≥2(V ), so that A is the quotient of T(V) by the two-sided ideal (R) generated by R. Minimality means here that (V ·R+R·V)∩R = 0. 2 By choosing a space of generators any semi-free dg module can be written in the form M = (U ⊗A, ∂)
 
Chapter 2. Background 20
through R 􏰐→ V ⊗ V . Concretely, C(V, R) may be presented as the sub-coalgebra of Tco(V ) whose weight w part is Cw = 􏰿p+2+q=w V ⊗p ⊗ R ⊗ V ⊗q. It is easy to check that there is a twisting cochain τ : C(ΣV,Σ2R) 􏰲 ΣV 􏰐→ ΣA. This factors through the universal one via the inclusion C(ΣV,Σ2R) 􏰐→ Tco(ΣV ) 􏰐→ BA.
Theorem 7. Let A = T(V )/(R) be as above, and assume A is strongly connected. The following are equivalent:
1. the dg algebra A! = RHomA(k, k) is formal;
2. the augmentation module k admits a linear resolution;
3. R can be chosen quadratic and C(ΣV,Σ2R) 􏰐→ BA is a quasi-isomorphism, so that C(ΣV,Σ2R) ∼= TorA∗ (k,k).
4. R can be chosen quadratic and the twisting cochain τ : C(ΣV, Σ2R) → A is acyclic. An algebra satisfying these equivalent conditions is called Koszul.
The equivalence of 3 with 2 is in [24]. Under the strongly connected assumption 4 and 3 are easily
2τ∼
seen to be equivalent. The obtained resolution C(ΣV, Σ R) ⊗ A −→ k is called the Koszul complex by
Beilinson, Ginzburg and Soergel. It generalises the classical Koszul complex, when A is a polynomial algebra (see example 1). These results ultimately trace back to Priddy [94]. The connection to 1 is in Keller’s [67], but see also earlier the work of Gugenheim and May [54].
2.4 A∞ Algebras
This section contains a quick introduction to the theory of A∞ algebras. The survey [66] is a good place to start for more intuition, and much more detail can be found in [80]. We continue with the notation of the previous section, working implicitly over a field k.
A∞ algebras (and A∞ spaces) were invented by Stasheff [103] in the early 60s as a tool to understand loop spaces and their relation to general H-spaces. In short, he used them to develop a fundamental recognition principle for loop spaces. They have since found many important applications in connection with algebra, geometry and mathematical physics (see [68] for some references in this direction). We will attempt to motivative this structure at a basic algebraic level as a continuation of the previous sections.
Outside of the Koszul case working with A! can be complicated. Most models, such as (BA)∨, are extremely large and contain more information than necessary. But since A! is not formal the graded algebra Ext∗A(k,k) does not contain enough information. Koszul algebras are surprisingly plentiful, but non-Koszul algebras certainly arise; the quadratic condition being the main restriction.
It turns out that Ext∗A(k, k) is naturally an A∞ algebra: it has a series of operations mn : Ext∗A(k, k) → Ext∗A(k,k)⊗n (unique up to isomorphism) which together satisfy certain higher associativity rules. This structure solves the information problem: it is precisely enough to functorially recover A. Thus we think of it as an A∞ model for A!. Having done this, we also solve the problem of unwieldy models. The issue that remains is actually computing these higher products.
More motivation in a similar vein comes from looking for small resolutions. As we have have just seen, if A is a Koszul there is an acyclic twisting cochain τ : TorA∗ (k, k) → A. Consequently we obtain a (potentially) small, functorial resolution M ⊗τ TorA∗ (k, k) ⊗τ A of any right A module M . In fact this is

Chapter 2. Background 21
always possible. In general TorA∗ (k, k) will be an A∞ coalgebra, and knowing this structure one can form the twisted tensor product M ⊗τ TorA∗ (k, k) ⊗τ A resolving any right A module. Since we won’t need these resolutions in this thesis, we refer the reader to [80] for information on twisted tensor products in the A∞ setting.
An A∞ algebra is a complex A with a sequence of degree n−2 operations mn : A⊗n → A for n ≥ 2. These should satisfy the quadratic Stasheff identities
∂(mn) + 􏰈 (−1)rs+tmr+1+t(1⊗r ⊗ ms ⊗ 1⊗t) = 0 r+s+t=n
satisfying the strict unitality conditions mn (−, ..., 1, ..., −) = 0 for n ≥ 3 and m2 (−, 1) = m2 (1, −) = idA . We say that A is augmented if it is equipped with a splitting A = A+k and all of the operations preserve A. An A∞ algebra is called minimal if its differential vanishes.
These operations together describe a structure which is associative up to homotopy: the higher associator 􏰆(−1)rs+tmr+1+t(1⊗r ⊗ ms ⊗ 1⊗t) is a boundary in Hom(A⊗n, A). In particular, the second Stasheff identity says ∂(mn) = 0 and the third says that m2(m2 ⊗ 1 − 1 ⊗ m2) = ∂(m3), therefore H∗(A) is canonically an associative algebra. The sequence of operations can be thought of as a coherent reason for H∗(A) to be associative. Even when A is minimal and no reason seems necessary, the operations can witness associativity in a nontrivial way, carrying important information.
Note that differential graded algebras are exactly A∞-algebras for which mn = 0 when n ≥ 3.
An augmented A∞ algebra possesses exactly enough structure to build a bar construction. The underlying graded coalgebra of BA is Tco(ΣA), with BwA = (ΣA)⊗w, just as in section 2.2. And as in that section b1 = −Σ∂Σ−1 is the differential naturally induced on B1A, while bn : BnA → B1A is defined by the commutativity of the following diagram
A⊗n mn A Σ⊗n Σ
Bn A (−1)n bn B1 A.
By lemma 2 there is a unique coderivation b : BA → BA such that π1b = b1π1 + b2π2 + b3π3 + .... The condition b2 = 0 is equivalent to the Stasheff identities. Thus the bar construction BA is dg coalgebra. We think of it as being Koszul dual to A. In particular the linear dual is a dg algebra and we may write A! = (BA)∨. Through this construction augmented A∞ algebras are essentially the same thing as cofree cocomplete augmented dg coalgebras3.
An A∞ coalgebra C may be defined dually in terms of higher coproducts ∆n : C → C⊗n satisfying dual Stasheff relations. We skip this discussion and refer to [80] for details.
Alternatively, an augmented A∞ coalgebra structure on C = C + k can be specified by an augmented differential d on the tensor algebra T(Σ−1C). Tautologically, T(Σ−1C) equipped with this differential is the cobar construction ΩC. Again, minimality means that the differential of C vanishes. Equivalently, d strictly increases weight. A dg coalgebra is then an A∞ coalgebra such that the differential of ΩC increases weight by no more than one.
The important assumption that C is cocomplete translates to the assumption that ΩC should be semi-free: C must admit an exhaustive filtration 0 = C(0) ⊆ C(1) ⊆ ... ⊆ C such that d(Σ−1C(i)) ⊆
3It is not possible to simply drop the word “augmented” here. Removing this assumption from one side introduces curvature on the other. This was discovered by Positselski [93].
                   
Chapter 2. Background 22
T(Σ−1C(i−1)) for all i. For dg coalgebras this notion of cocompleteness is equivalent to the usual one.
A∞ coalgebras are often produced using a noncommutative version of the Tate construction (the
commutative version will be discussed in detail in section 2.6). In short, given a graded algebra A
 of the form T(V )/(R) with R ⊆ T≥2(V ), it is possible to inductively construct a semi-free resolution ≃
T(W ) −→ A with some differential d which presents T(W ) as the cobar construction of a cocomplete A∞ coalgebra C = k + ΣW . Some details on this construction can be found in [23].
Having a general enough theory of twisting cochains (as developed in [80]) allows one to assert that the composition C → ΩC → A is an acyclic twisting cochain. The dual C∨ is an A∞ algebra and we may write A! = C∨. To explain why it is acceptable to write this last equality we at least need to know what is a morphism of A∞ algebras.
AnA∞ morphismφ:A→A′ consistsofasequenceofmapsφn :A⊗n →A′ forn≥1havingdegree 1 − n respectively. They must satisfy the quadratic identities
􏰈 (−1)rs+tφr+1+t(1⊗r ⊗ ms ⊗ 1⊗t) − 􏰈 (−1)umk(φi1 ⊗ ... ⊗ φik ) = ∂(φn) r+s+t=n i1 +...+ik =n
whereu=(k−1)(i1−1)+(k−2)(i2−1)+···+2(ik−2−1)+(ik−1−1). Wealsoimposethestrict unitality conditions φn (−, ..., −, 1, −, ..., −) = 0 for n ≥ 2 and φ1 (1) = 1. When A and A′ are augmented, we say that φ is augmented if it takes each A⊗n into A′.
The first identity asserts that φ1 is a chain map. The second asserts that φ1m2 −m2(φ1 ⊗φ1) = ∂(φ2). Therefore φ induces a homomorphism H∗(φ) : H∗(A) → H∗(A′) of associative algebras. The higher components should be thought of as a coherent reason for this to be the case. We say that φ is strict if φn =0forn≥2.
We compose A∞ morphisms φ : A → A′ and ψ : A′ → A′′ according to the rule (ψφ)n = 􏰈 (−1)uψk(φi1 ⊗ ... ⊗ φik )
i1 +...+ik =n
with the same sign u as above. It is not difficult to check that φ is an isomorphism (that is, it admits a two-sided inverse) if and only if φ1 is an isomorphism of complexes. We say that φ is a quasi-isomorphism if H∗(φ) is an isomorphism.
Let φ be an augmented morphism of augmented A∞ algebras. By cofreeness the shifted maps Σφn(Σ−1)⊗n : BnA → B1A′ assemble uniquely into a coalgebra morphism B(φ) : BA → BA′. Being careful of signs, one can check that the identities defining an A∞ morphism are equivalent to the assertion that B(φ) is a chain map. Thus through the bar construction the category of augmented A∞ algebras is equivalent to the category of cofree cocomplete dg coalgebras. Strict A∞ morphisms correspond to coalgebra morphisms which preserve weight.
The bar-cobar formalism easily allows one to show that every A∞ algebra is quasi-isomorphic to a dg algebra, and that any quasi-isomorphism of A∞ algebras can be transferred to strict quasi-isomorphism between the corresponding dg algebras (there is a canonical quasi-isomorphism A → ΩBA of A∞ alge- bras). Thus A∞ algebras are homotopically no more general than dg algebras. They simply provide a more flexible presentation for the same homotopical information carried by dg algebras. This perspective is especially compelling with the following important theorem of Kadeishvilli in mind.
Theorem 8 (Kadeishivili’s Minimal Model Theorem [63]). Let A be an augmented A∞ algebra. The associative algebra H∗(A) admits the structure of a minimal augmented A∞ algebra extending its natural
  
Chapter 2. Background 23 product, in such a way that there is a quasi-isomorphism
≃ H∗(A) −→ A
which induces the identity map in homology. Moreover, this structure is unique up to isomorphism of A∞ algebras.
One caveat is that an isomorphism of A∞ algebras can be a relatively complicated object.
The theorem is extremely important even when applied to a dg algebra. Starting with a graded
algebra A, it produces a minimal A∞ algebra quasi-isomorphic to the Koszul dual (BA)∨. Thus there
is a natural A∞ structure on Ext∗A(k, k), and we call this the minimal model for A!. When A is strongly
connected (using the same definition as in section 2.3) a similar argument to the proof of theorem 5
∗∨≃∗ produces a canonical quasi-isomorphism (BExtA(k, k)) −→ A. Thus from the A∞ algebra ExtA(k, k)
we can functorially recover A.
If we build a minimal non-commutative Tate model ΩC −→ A as sketched above, then uniqueness of
minimal semi-free dg algebras allows us the make the identification ΩC ∼= (BExt∗A(k, k))∨ and conclude that there is an isomorphism C∨ ∼= Ext∗A(k, k) of A∞ algebras.
We end this section with a very general example showing how to compute a part of the natural A∞ structure on Ext∗A(k,k). If A = T(V)/(R) with R ⊆ T≥2(V) as above, then examining the first two steps in the minimal non-commutative Tate construction readily yields the following theorem of Keller.
Theorem 9 (Keller [67, proposition 2]). There are canonical isomorphisms Ext1A(k,k) = Σ−1V∨ and Ext2A(k, k) = Σ−2R∨, and for every n the following diagram commutes
mn
(−1)n ι∨ n
2.5 Models for the Hochschild Cochain Complex
In this section we will discuss models for the Hochschild cochain complex in various settings, as well the structure that these models enjoy.
To begin with let A be an associative algebra (possibly graded or dg) over a commutative ring k. We denote the enveloping algebra by Aev = Aop ⊗k A. Bimodules over A are equivalent to left or right Aev modules, and in particular A is naturally both a left and right Aev module.
Hochschild homology and cohomology were originally defined in terms of the bar construction. When A is flat as a k module we may instead define Hochschild homology as
HH (A/k, A) = TorAev (A, A). ∗∗
Ext1A(k, k)⊗n Σ⊗n
Ext2A(k, k) Σ
≃
   R n∨ .
For algebras of global dimension 2 this completely describes the Koszul dual A∞ algebra Ext∗A(k,k).
( V ∨ ) ⊗ n
In the statement Rn is the weight n part of R and ιn : Rn 􏰐→ V ⊗n is the natural inclusion.
 
Chapter 2. Background 24 When A is projective over k we may define Hochschild cohomology as
∗∗
HH (A/k, A) = ExtAev (A, A).
We will use these definitions briefly in section 2.6 (example 3 and remark 2). However, in the rest of this section we will discuss much more structural models for Hochschild cohomology which will be important in chapter 4.
We continue with the conventions of the last few sections, so k is once again a field and everything is assumed to be k linear. From this point on we elide k from our notation for Hochschild cohomology.
Let τ : C → A be a twisting cochain from an augmented cocomplete dg coalgebra to an augmented dg algebra. Recall that twisted tensor products and the twisted convolution algebra Homτ(C,A) were defined in section 2.2. In that section we also observed that A ⊗ C ⊗ A is a bimodule over Hom(C, A) using the so-called cap product. The twisted tensor product A⊗τC⊗τA by definition has the differential
∂A ⊗1⊗1+1⊗∂C ⊗1+1⊗1⊗∂A +(τ ⌢−)−(−⌢τ).
It is easy to check that this makes A ⊗τ C ⊗τ A a dg bimodule over over Homτ(C, A). It is also clear that this action commutes with the A bimodule structure. In particular, the left action gives us a homomorphism Homτ(C, A) → EndAev (A ⊗τ C ⊗τ A) of dg algebras.
At this point we can make an argument similar to the proof of theorem 4. There is a natural bimodule homomorphism A ⊗τ C ⊗τ A → A which gives rise to the second map below
Homτ(C, A) → EndAev (A ⊗τ C ⊗τ A) → HomAev (A ⊗τ C ⊗τ A, A).
Note that the composition from left to right is an isomorphism of complexes (this is clear on the level of vector spaces and the differentials are automatically compatible, no calculation necessary).
Finally, if we assume τ is acyclic then according to theorem 3 A⊗τC⊗τA → A is a quasi-isomorphism. Then EndAev (A ⊗τ C ⊗τ A) → HomAev (A ⊗τ C ⊗τ A, A) is a quasi-isomorphism as well. Cocompleteness of C is essential here because this guarantees that A ⊗τ C ⊗τ A is semi-free as a dg bimodule. Thus, we have constructed a canonical dg algebra quasi-isomorphism
τ≃ττ Hom(C,A)−→EndAev(A⊗ C⊗ A)=RHomAev(A,A).
In particular, it is a consequence of theorem 3 that the Hochschild cohomology HH∗(A,A) can be com- puted as H∗(Homτ(C,A)) using any acyclic twisting cochain into A4. This description of Hochschild cohomology is essentially in [80] or [75]. Negron has used this description to compute Hochschild co- homology in [92] (the author also deals more generally with non-augmented algebras and curved dg coalgebras). Similar remarks apply to Hochschild cohomology with coefficients in a bimodule; details on this can also be found in Op. cit.
Example 2. An obvious application is the computation of Hochschild cohomology for Koszul algebras.
4 Note that if we had used the right cap action of Homτ(C, A) on A ⊗τ C ⊗τ A then the same argument would have produced an anti-isomorphism H∗(Homτ(C, A)) ∼= HH∗(A, A)op. Both induce the same map on cohomology since they are equalised by EndAev (A ⊗τ C ⊗τ A) → HomAev (A ⊗τ C ⊗τ A, A). So, we have a funny proof that Hochschild cohomology is commutative.
 
Chapter 2. Background 25
If A = T(V )/(R) is a Koszul algebra as in section 2.3 and C = C(ΣV, Σ2R) then we obtain a small model Homτ(C, R) for the Hochschild cochain complex of A using theorem 7.
For example, let S = Sym(V ) (assumed strongly connected to fit into the framework of section 2.3, otherwise we should use the completion of S) and Γ = Symco(ΣV ) be as in example 1. Then τ : Γ → ΣV → ΣS is an acyclic twisting cochain. Since S and Γ are commutative and cocommutative (this is extremely rare, it can essentially only occur in this example) the twist on Homτ(Γ, S) = Hom(Γ, S) vanishes. We obtain a graded version of the Hochschild-Kostant-Rosenburg theorem HH∗(S,S) ∼= Hom(Γ,S). The original version of the Hochschild-Kostant-Rosenburg theorem for smooth algebras will appear in remark 2 below.
Let A be an augmented dg algebra. The universal twisting cochain π : BA → A is acyclic according to theorem 3, and we set
C∗(A, A) = Homπ(BA, A).
This is exactly the classical reduced Hochschild cochain complex: it has a weight decomposition Cw(A, A) ∼=
⊗w
 , A) and unraveling the definitions recovers Hochschild’s original differential. The Hochschild cohomology of A is by definition HH∗(A,A) = H∗(C∗(A,A)). The convolution product is exactly the classical cup product. We will discuss shortly how to see Gerstenhaber’s Lie bracket in terms of the bar construction.
The Hochschild cochain complex has a natural decreasing filtration which we call called the weight filtration
C(w)(A, A) = Homπ(B≥wA, A).
Note that this filtration is complete since BA is cocomplete. The induced weight filtration on Hochschild
cohomology is denoted HH(n)(A, A).
Hochschild Cohomology for A∞ Algebras
Hochschild cohomology for A∞ algebras can be defined using an A∞ analogue of the twisted convolution algebra. This construction is essentially contained in [75, chapitre 8], but we follow the approach of [31, section 2.3], where more detail can be found.
Let C be an augmented cocomplete coalgebra and A an augmented A∞ algebra. The complex Hom(C, A) inherits a sequence of convolution operations
Mn(f1, ..., fn) = mn(f1 ⊗ ... ⊗ fn)∆(n).
One verifies as in [75, lemma 8.1.1.4] that these operations make Hom(C, A) an A∞ algebra. Moreover, the augmentations of C and A canonically make Hom(C, A) an augmented A∞ algebra.
A twisting cochain C → A is a degree −1 map τ : C → A which satisfies the higher Maurer-Cartan equation
∂ (τ ) + 􏰈 Mn (τ , ..., τ ) = 0 n≥2
The sum makes sense since C is cocomplete. We say that τ is augmented if it vanishes on both augmen- tations, exactly as in section 2.2.
By cofreeness of the bar construction there is an augmented coalgebra homomorphism φτ : C → BA lifting τ. By construction the higher Maurer-Cartan equation holds if and only if φτ respects the
Hom(A

Chapter 2. Background 26 differentials of these coalgebras. It follows that there is a natural bijection
tw(C, A) ∼= coAlg(C, BA)
where tw(C,A) is the set of augmented twisting cochains from C to A. In particular the projection π : BA → A is an augmented twisting cochain, and all other augmented twisting cochains into A factor uniquely through π.
From an augmented twisting cochain τ : C → A one can form the twisted convolution A∞ algebra Homτ(C, A). The reader should be warned that all of the operations on Hom(C, A) should be twisted to build this structure, not only the differential. This is done in [75, chapitre 8] using twists of topological A∞ algebras. A simpler construction is given in [31, section 2.3].
For simplicity we present here only the formula which shows how to twist the differential. We use the higher commutators [−; −]p,q : A⊗p ⊗ A⊗q → A. These are the degree 2 − (p + q) maps given by
[v1,...,vp;vp+1,...,vp+q]p,q = 􏰈 (−1)|σ|(−1)|σ;v|mp+q(vσ−1(1) ⊗...⊗vσ−1(p+q)) σ∈sh(p,q)
where sh(p,q) is the set of permutations in Sp+q which separately preserve the order of {1,...,p} and of {p + 1, ..., p + q}. Note that [−; −]1,1 is the usual commutator for m2. Note also that [−; −]p,qt = (−1)pq[−; −]q,p, where t is the natural isomorphism A⊗p ⊗ A⊗q → A⊗q ⊗ A⊗p which acts according to the Koszul sign rule.
The twisted differential on Hom(C, A) is defined using higher commutators for the convolution op- erations. It is given by
∂τ = ∂ + 􏰈[τ,...,τ;−]n,1. n≥1
Unraveling this to an explicit formula yields
∂(f) + 􏰈(−1)(n+1)jmi+1+j(τ⊗i ⊗ f ⊗ τ⊗j)∆(i+1+j)
i,j
for the boundary of an element f in Homτ(C, A)n. The verification that (∂τ )2 = 0 is contained in [31, section 2.3]. It is easiest to first connect this definition the the coderivation model introduced below.
Finally, the Hochschild cochain complex of A is C∗(A,A) = Homπ(BA,A). Its homology is the Hochschild cohomology HH∗(A,A). In this context we also have a complete weight filtration with the same definition
C(w)(A, A) = Homπ(B≥wA, A).
The induced weight filtration on Hochschild cohomology is denoted HH(n)(A,A) as before. A construc-
tion of the natural A∞ algebra structure on C∗(A,A) can be found in [31, section 2.3]. The Gerstenhaber Lie algebra
In his fundamental investigations into the deformation theory of associative algebras [45], Gerstenhaber introduced a degree 1 Lie bracket on HH∗(A,A). This structure together with the cup product (and their compatibility) is now summed up by saying that HH∗(A,A) is a Gerstenhaber algebra.
In this section we discuss another description of the twisted hom complex which makes the definition

Chapter 2. Background 27
of Gerstenhaber’s bracket transparent. This description goes back to Getzler and Jones [47].
A morphism ξ : C′ → C of dg coalgebras naturally makes C′ into a bicomodule over C, so we may consider the space coDer(C′,C) of coderivations from C′ into C, which was introduced in section 1.2. This is the space of linear maps C′ → C which satisfy the (dual) Leibniz identity ∆q = (ξ ⊗ q + q ⊗ ξ)∆.
It has a natural differential as a sub-complex of Hom(C′,C).
Now let τ : C → A be an augmented twisting cochain from an augmented cocomplete dg coalgebra
to an augmented A∞ algebra, and let φ = φτ be its lift to a coalgebra morphism C → BA. By lemma 2, there is a canonical isomorphism of graded vector spaces
Hom(C, A) ∼= Σ−1Hom(C, ΣA) ⊕ C∨ ∼= Σ−1coDer(C, BA) ⊕ C∨.
At the same time, there is a natural chain map ad : C∨ → coDer(C, BA) which sends f : C → k to the
 inner coderivation
The cone of this map is denoted
∆ φ⊗f −f ⊗φ ad(f) : C −−→ C ⊗ C −−−−−−→ BA.
cone(ad) = Σ−1coDer(C, BA) 􏱂 C∨.
As promised above, the verification that (∂τ )2 = 0 is achieved as follows.
Proposition 1. The isomorphism Homτ(C, A) ∼= Σ−1coDer(C, BA) 􏱂 C∗ is one of complexes, and in particular (∂τ )2 = 0.
This is essentially due to Getzler and Jones. The computation can be found for instance in [31, proposition 2.23].
In the case of the identity homomorphism C → C the complex coDer(C,C) is naturally a dg Lie algebra. The bracket is the graded commutator [p, q] = pq − (−1)|p||q|qp, making coDer(C, C) a sub Lie algebra of the associated Lie algebra End(C)Lie.5
The natural action of coDer(C,C) on C makes coDer(C,C)􏱂ΣC∨ a dg Lie algebra as follows. The bracket on coDer(C, C) has just been defined, while if f, g ∈ C∨ and q ∈ coDer(C, C) then
[Σf,q] = −(−1)|q|(|f|+1)[q,Σf] = Σ(fq) and [Σf,Σg] = 0. In particular, if A is an augmented A∞ algebra then
ΣC∗(A, A) = ΣHomπ(BA, A) ∼= coDer(BA, BA) 􏱂 Σ(BA)∨ is naturally a dg Lie algebra.
Proposition 2. This bracket on ΣC∗(A,A) canonically gives HH∗(A,A) the structure of a Gerstenhaber algebra. It coincides with the classical one introduced by Gerstenhaber.
The appropriate chain level statement is that C ∗ (A, A) is a B∞ algebra (also known a brace algebra, or E2 algebra, or G∞ algebra), this is a version of the so-called Deligne conjecture (now proven by a
5This is a graded Lie algebra (with compatible differential) in the full sense of section 2.8. The reduced square is given by q[2] = q2 on odd elements.
 
Chapter 2. Background 28
number of authors [104, 86, 108]). For information on the B∞ structure of C∗(A,A) see [69]. The first statement of the proposition is a consequence of this fact. The second statement is a calculation contained in [47].
Finally, we remark that there is also a dual picture for the Hochschild cohain complex in terms of derivations out of the cobar construction. We refer to [31, section 2.3] for details.
Naturality of the Hocschild Cochain Complex
Naturality for twisting cochains extends readily to the A∞ situation. Let τ : C → A be an augmented twisting cochain. Any dg coalgebra morphism ξ : C′ → C yields a twisting cochain τξ : C′ → A in the obvious way, while a morphism ψ : A → A′ of A∞ algebras yields a twisting cochain ψτ : C → A′ by composing
φτ B(ψ)′π′ C −→ BA −−−→ BA −→ A .
Now suppose that φ : A → A′ and ψ : A′ → A′′ is a sequence of A∞ morphisms. Denote the corre- sponding twisting cochains by τ = πB(φ) and σ = πB(ψ), and note that ψτ = σB(φ). We obtain two maps
τ′ψ∗ψτ′′ σ′′′φ∗σB(φ)′′ Hom (BA,A ) −−→ Hom (BA,A ) and Hom (BA ,A ) −−→ Hom (BA,A )
defined as follows. Firstly φ∗ = Hom(φ, A′) is the obvious map. We define ψ∗ in terms of coderivations: −1 ′∨ψ∗−1 ′′∨
Σ coDer(BA, BA ) 􏱂 (BA) −−→ Σ coDer(BA, BA ) 􏱂 (BA)
is given by ψ∗ = Σ−1coDer(BA, B(ψ)) 􏱂 (BA)∨. We state a generalisation of lemma 4.
Proposition 3. Both φ∗ and ψ∗ are chain maps. Furthermore, φ∗ and ψ∗ are quasi-isomorphisms whenever φ and ψ are respectively.
The proof comes down to another application of lemma 1, the key point being that the twisted part of the differential on Homτ (BA, A′) decreases the weight filtration, and that gr(φ) : gr(BA) → gr(BA′) is a quasi-isomorphism whenever φ is by the Ku ̈nneth theorem. Details can be found in [31, proposition 2.27].
Suppose that φ : A → A′ is a quasi-isomorphism of A∞-algebras corresponding to a twisting cochain τ = πB(φ). An immediate consequence of the proposition is that we have a canonical chain of quasi- isomorphisms
∗′′φ∗ τ′φ∗∗
C (A,A)−−→Hom(A,A)←−−C (A,A).
And in particular a canonical isomorphism HH∗(A′, A′) ∼= HH∗(A, A).
If φ and ψ are strict morphisms of dg algebras then φ∗ and ψ∗ are easily seen to be morphisms of dg algebras. In general, the twisted convolution algebras inherit A∞ structures and φ∗ is a strict morphism of A∞ algebras, while ψ∗ extends canonically to a possibly non-strict morphism of A∞ algebras (see [31, section 2.3]).

Chapter 2. Background 29 The Projection and Shearing Morphisms
On the Hochschild cohomology of any dg or A∞-algebra A we have two well known maps Π : HH∗(A,A) → H(A) and χ : HH∗(A,A) → H(A!) = ExtA(k,k)
which we call the projection and shearing morphisms respectively. On the chain level the definitions are very simple: Π : Homπ(BA, A) → Hom(k, A) = A is defined by composing with the coaugmentation k → BA while χ : Homπ(BA,A) → Hom(BA,k) = A! is defined by composing with the augmentation A → k.
For ordinary graded algebras, the image of the projection map HH∗(A, A) → A is exactly the graded centre Z(A). Section 4.2 will be devoted to discussing the meaning of the image in general. Shamir [100] discusses the shearing map in detail.
Note that the projection morphism is the quotient by the positive part of the weight filtration. In [31, sections 2.3 and 3.4] it is explained that Hochschild cohomogy naturally has another filtration which is in some sense Koszul dual to the weight filtration. We call this the shearing filtration because the shearing morphism is the quotient by the positive part of the shearing filtration.
As a special case of the naturality from proposition 3, we get naturality of the projection and shearing maps for quasi-isomorphisms of A∞-algebras. That is, if φ : A → A′ is a quasi-isomorphism of A∞- algebras, then we have a diagram
(BA)∨ χ C∗(A,A) Π A
B(φ)∨ ≃ ≃• ≃φ
(BA′)∨ χ C∗(A′,A′) Π A′ which commutes after taking homology.
In terms of coderivations the shearing map is the obvious quotient
C∗(A, A) = s−1coDer(BA, BA) 􏱂 (BA)∨ → (BA)∨,
and there is a similar interpretation of the projection map in terms of derivations.
(2.1)
        Hochschild Cohomology for (Non-Augmented) Categories and Functoriality
Hochschild cohomology is also defined for small dg and A∞ categories (this is sometimes called Hochschild- Mitchell cohomology after [90]). If A is augmented, the definition C∗(A,A) = Homπ(BA,A) continues to make perfect sense. In this situation the bar construction BA is cofree as a cocomplete cocategory with the same objects as A. The composition gives rise to a differential on BA and the contents of this section so far above generalises verbatim to this situation. Rather than explain this properly we refer the reader to [70].
However, when working with categories the non-augmented situation will often arise by force, since module categories are never augmented. So, we collect here some definitions for later use, restricting to the dg case for simplicity.

Chapter 2. Background 30 Fix a small dg category A, and consider its unreduced bar construction
BunrA=Tco(ΣA)=􏰠(ΣA)⊗w = 􏰠 Σ(xwAxw−1)⊗···⊗Σ(x1Ax0), w≥0 w≥0
x0 ,...,xw
the cofree graded cocategory on the graded quiver ΣA. The obvious “bar” dg structure on BunrA is problematic (it is contractible), but we can still make sense of the differential on the A-bimodule A ⊗π Bunr A ⊗π A. We will be content cheating and simply defining it by the following formula: the boundary ∂π(f) of an element f = g ⊗ [f1|...|fw] ⊗ h is the sum
unr
xw xw−1 x1 x0 xw x0
(−1)|g|+1gf1 ⊗ [f2|...|fw] ⊗ h
∂(f) +
+ 􏰈(−1)εi+|fi|g ⊗ [f1|...|fifi+1|...|fw] ⊗ h
+ (−1)εn g ⊗ [f1|...|fw−1] ⊗ fwh
where ∂ is the usual tensor product differential on A⊗Tco(ΣA)⊗A, and where εi = (i−1)+|f1|+...+|fi−1|. ππ∼
The A-bilinear map A ⊗ Bunr A ⊗ A −→ A is a quasi-isomorphism.
As a graded vector space the unreduced Hochschild cochain complex C∗ (A, A) is
unr
Hom(B A,A)= 􏰤 Hom􏰁Σ( A )⊗···⊗Σ( A ), A 􏰂.
w≥0 x0 ,...,xw
ThedifferentialmaybedefinedthroughtheidentificationC∗(A,A)∼=Hom
unr A−A
(A⊗πB A⊗πA,A).It unr
is given by the classical formula of Hochschild: the boundary ∂π(φ) of φ ∈ C∗ (A, A) unr n
setting ∂π(φ)([f1|...|fw]) equal to
∂(φ)([f1|...|fw]) + (−1)|f1|n+1f1φ([f2|...|fw])
+ 􏰈(−1)εi +|fi | φ([f1 |...|fi fi+1 |...|fw ])
is determined by
+ (−1)εn φ([f1|...|fw−1])fw.
And the Hochschild cohomology of A is by definition HH∗(A, A) = H (C∗ (A, A)). If A is augmented
∗ unr
then the canonical restriction C∗ (A, A) → C∗(A, A) would be a quasi-isomorphism, so this is consistent
unr
with our previous definitions.
As Keller remarks in [69] if A → A′ is a fully faithful embedding of dg categories then one has
a restriction morphism C∗ (A′, A′) → C∗ (A, A) by forgetting those objects which do not come from unr unr
A. This fact is visible from the above formulas. In particular there is a canonical homomorphism HH∗(A′, A′) → HH∗(A, A). This functoriality will be extremely useful to us later in chapter 4.
2.6 Semi-Free Extensions and Acyclic closures
This section contains background of semi-free dg algebras and semi-free divided power algebras. Much more detail can be found in [12].
Let A be a strictly graded commutative ring, and let X be a graded set. The free strictly graded commutative A algebra on X is denoted A[X], see [12, section 2.1] for an explicit description. To

Chapter 2. Background 31
emphasise a different point of view we may also use the notation SymA(X), or Sym(X) when A is understood.
IfAisadgalgebraandz∈Ai isacycleandxisavariableofdegreei+1,thenA[x]hasaunique dg algebra structure for which A → A[x] is a morphism of dg algebras and ∂(x) = z. We may write A[x] = A[x : ∂(x) = z] to be explicit.
The morphism A → A[x] is an example of a semi-free extension. In general, we define a semi-free extension to be any morphism A → A[X] obtained by repeatedly adjoining variables in this way. That is, X should be a graded set with an increasing filtration ∅ = X(0) ⊆ X(1) ⊆ · · · and A[X] = 􏰇n A[X(n)] with ∂(X(n)) ⊆ A[X(n−1)]. In this thesis we work always with positively graded dg algebras, so we can and will take X(n) = X≤n without comment. In the dual, cohomological situation encountered in rational homotopy theory this doesn’t work, and the filtration on X should not be neglected. The following lifting property for semi-free extensions is fundamental. It is proven by induction on the filtration X≤n as in [12, proposition 2.1.9].
Lemma 5. Let A → A[X] be a semi-free extension. If φ : B → C is a surjective quasi-isomorphism of A algebras, then any morphism of A algebras A[X] → B lifts along φ.
AB
≃
A[X] C
That is, a morphism exists as above, making the diagram commute.
Now we assume A is a local dg algebra. A semi-free extension A → A[X] is called minimal if it is minimal as a homomorphism of local dg algebras, which means ∂(mA[X]) ⊆ mA + m2A[X].
Proposition 4. Any surjection A → B of local dg algebras can be factored as A → A[X] → B, where A → A[X] is a minimal semi-free extension and A[X] → B is a surjective quasi-isomorphism. Any two such factorisations are isomorphic. The set X is degree-wise finite and concentrated in positive degrees.
Such a factorisation is called a minimal model for the surjection A → B. We will discuss in the next section how Cohen factorisations are used to deal with the non-surjective case. The first and last sentences of the proposition can be found in [12, proposition 2.1.10]. By lemma 5 any two minimal models are connected by a quasi-isomorphism A[X] → A[X′] (compatible with A and B). By Nakayama’s lemma it suffices to show that k[X] → k[X′] is an isomorphism, and this is dealt with by [12, lemma 7.2.3].
Divided Powers
Now we discuss divided power structures. Let A be a strictly graded commutative algebra with an ideal I. A divided power structure on I is a collection of functions defined on even elements of I
x(0) =1 and x􏰀→x(n) :I2i →I2ni forx≥1,
these functions should satisfy the well-known axioms which can be found for instance in [55, section 1.7]. We will call (A,I) a divided power algebra. A homomorphism of divided power algebras φ : (A,I) → (A′, I′) should satisfy φ(I) ⊆ I′ and φ(x(n)) = φ(x)(n).
     
Chapter 2. Background 32 If A contains the field of rational numbers then any proper ideal supports a unique divided power
structure given by x(n) = 1 xn. n!
A key example is the free divided power algebra on a variable u of degree i. Let A be any strictly graded commutative algebra. If i is odd then A⟨u⟩ = A[u] is the usual exterior algebra A + uA with u2 = 0. If i is even then by definition A⟨u⟩ = A + uA + u(2)A + ... where each u(n) formally generates a rank one free module with |u(n)| = ni. Multiplication is given by the rule
u(m)u(n) = 􏰁m+n􏰂u(m+n) m
where 􏰁m+n􏰂 = (m+n)! . Alternatively one can define Z⟨u⟩ to be the Z subalgebra of Q[u] generated by m m!n!
un/n! for n ≥ 0, and then set A⟨u⟩ = A ⊗Z Z⟨u⟩.
More generally, if U is a degree-wise finite non-negatively graded set then by definition A⟨U≤n⟩ is
the tensor product 􏰡A A⟨u⟩ over u ∈ U≤n, and A⟨U⟩ = 􏰇n A⟨U≤n⟩ along the natural embeddings A⟨U≤n⟩ 􏰐→ A⟨U≤n+1⟩. An alternative notation for A⟨U⟩ is ΓA(U), or Γ(U) when A is understood.
  Throughout this thesis we will use the notation (U)(n) for the ideal in A⟨U⟩ generated by all mono- mialsu(n1)···u(nk) withn +...+n ≥nandu ∈U.
1k1ki
Lemma 6. The graded algebra A⟨U⟩ has a unique divided power structure on (U)(1) extending the
functions u 􏰀→ u(n) for u ∈ U.
This is more general than [55, proposition 1.7.6], but the proof there can be adapted to work in this
situation. The free divided power algebra A⟨U⟩ is characterised by the following important property.
Lemma 7. Let A → B be a homomorphism of strictly graded commutative algebras, and suppose that B has a divided power structure on an ideal I. If U is a degree-wise finite non-negatively graded set then any graded function U → I extends uniquely to a homomorphism of divided power algebras (A⟨U⟩,(U)(1)) → (B,I)
Again this is more general than [55, lemma 1.7.8] but the proof is similar.
Now we introduce some notation which will be useful later. Let B be a dg algebra with a divided power structure on a semi-ideal I. The indecomposables of B (with respect to this structure) are denoted indγ(B)=indγ(B,I)=mB/(m2B +I(2)).
A homomorphism A → A[X]⟨U⟩ will be called a mixed free extension. We can combine lemma 7 and the usual universal property for free extensions to obtain a universal property for mixed extensions. It says that homomorphisms from A[X]⟨U⟩ to an A algebra B with divided powers on I correspond bijectively to graded functions X → B and U → I.
Lemma 8. Let (A,k) be a local graded algebra with two mixed extensions A[X]⟨U⟩ and A[Y]⟨V⟩, with X,U,Y and V all degree-wise finite and in strictly positive degrees. Suppose we have a morphism
φ : A[X]⟨U⟩ → A[Y ]⟨V ⟩
of A algebras with divided powers on (U)(1) and (V)(1) respectively. Then φ is an isomorphism if and
only if indγ(φ ⊗A k) : indγ(k[X]⟨U⟩) → indγ(k[Y ]⟨V ⟩) is an isomorphism.
Proof. The proof is almost the same as [55, lemma 1.8.7]. It is only necessary to show φ is an isomorphism assuming that indγ (φ ⊗A k) is.

Chapter 2. Background 33
This assumption and the hypotheses imply that X and Y , and U and V respectively, have the same (graded) cardinality. It follows that each φi : A[X]⟨U⟩i → A[Y ]⟨V ⟩i is a map of free A0 modules of equal finite rank. Since A0 is Noetherian it therefore suffices to show that φ is surjective.
Assume towards a proof by induction that we know φ<i is surjective. Since indγ (φ ⊗A k)i is surjective 0 = A[Y ]⟨V ⟩i = k[Y ]⟨V ⟩i .
(mA,im(φ)i,(Y)2,(V)(2))i mA0 ·A[Y]⟨V⟩i +(A>0 ·A[Y]⟨V⟩<i)i +im(φ)i +(Y)2 +(V)(2) ii
By the induction hypothesis (A>0 · A[Y ]⟨V ⟩<i)i ⊆ im(φ)i and (Y )2i + (V )(2) ⊆ im(φ)i. Therefore i
A[Y ]⟨V ⟩i/(mA0 · A[Y ]⟨V ⟩i + im(φ)i) = 0 and by Nakayama’s lemma φi is surjective.
Next we discuss how this structure is used in the dg situation. Let A be a strictly commutative dg algebra with a semi-ideal I, that is, we assume I is an ideal in the underlying graded algebra of A but we do not impose the condition ∂(I) ⊆ I. A divided power structure on I is a divided power structure in the graded sense above which additionally satisfies ∂(x(n)) = ∂(x)x(n−1) for all n ≥ 1.
Let A be dg algebra with divided power structure on I, and let z ∈ Ai be a cycle. If u is a variable of degree i+1 then A⟨u⟩ is admits a unique differential making it a dg algebra with divided power structure on (z)(1) + I, for which A → A⟨u⟩ is a morphism of dg algebras with divided powers and ∂(u) = z. We may write A⟨u⟩ = A⟨u : ∂(x) = z⟩ to be explicit.
The morphism A → A⟨u⟩ is an example of a Tate extension, or a semi-free divided power extension (often also called a semi-free Γ extension). In general a Tate extension is any morphism A → A⟨U⟩ obtained as a colimit of such extentions, so that A⟨U⟩ = 􏰇n A⟨u1,...,un⟩ with ∂(un) ∈ A⟨u1,...,un−1⟩, where U = {u1 , u2 , ...} is a graded set of variables.
Then analogous lifting property for Tate extensions is similar to lemma 5 (with almost the same proof), but delicate to state. We will not need it below, so we skip it (but note that we will make the same lifting argument by hand to prove theorem 21).
A Tate extension A → A⟨U⟩ is called minimal if ∂(mA⟨U⟩) ⊆ mA + (U)(2). Analogous to lemma 4, every surjection of local dg algebras A → B can be factored as a minimal Tate extension A → A⟨U⟩ followed by a surjective quasi-isomorphism A⟨U⟩ → B. This factorisation is call a minimal Tate model or an acyclic closure of the homomorphism A → B.
The Tate Model for the Diagonal
We end this section by discussing the classical Tate model for the diagonal. Inspired by rational homotopy theory, Tate used semi-free divided power extensions to build dg algebra resolutions [106]. In particular, Tate wrote down the minimal resolution of the residue field of a complete intersection local ring (see [55, proposition 1.5.4]). The theorem below is a structural version of his construction which summarises and slightly extends several results from the literature. Similar statements can be found in [39, proposition 1.9], [18, theorem 1.1] and [12, proposition 7.2.9]. Because the statement here is more general than can be found in the literature, we will sketch a proof. In section 3.4 we will explain how this construction can be made functorial.
We say that Q is a smooth K algebra if we are given a homomorphism of commutative Noetherian rings K → Q which is essentially of finite type, and such that the Kernel I of the multiplication map μ : Q ⊗K Q → Q is locally generated by a regular sequence. This means that Ip is generated by a
   
Chapter 2. Background 34
regular sequence for every prime p of the enveloping algebra Qev = Q ⊗K Q. See for example [19, section 1] for discussion and other definitions of smoothness. In particular if Q is local with maximal ideal m and n = μ−1(m) then In is generated by a regular sequence x. We continue to use this notation in the theorem below. Note that Qev is Noetherian since K → Q is essentially of finite type.
We will often apply the theorem in the situation K = Q, then smoothness is trivial and our notation becomes less complicated (we will make this simplifying assumption in section 3.4). Another important case is when K is a local ring and Q is K[x1, ..., xn] localised at (mK , x1, ..., xn).
If Q → Q[X] is a semi-free extension, the double Q[X]⊗K Q[X] is simply denoted Qev[X,X] or even Q[X]ev. For geometric reasons, the multiplication map Qev[X, X] → Q[X] is referred to as the diagonal.
Theorem 10. Let (Q, m, k) be a local ring which is also a smooth K algebra as above, and let Q → Q[X]
be a semi-free extension with X degree-wise finite and concentrated in strictly positive degrees. The
multiplication map Qev[X, X] → Q[X] has a Tate model of the form n
Qev[X, X] → Qev[X, X]⟨Σx, ΣX⟩ → Q[X]. nn
The differential satisfies ∂(Σx) = x for x ∈ x and ∂(Σx) = 1 ⊗ x − x ⊗ 1 − Σ∂1(x) modulo decomposables
inm2 +(ΣX)(2) forx∈X. Q[X ]ev ⟨Σx,ΣX ⟩
n
If moreover Q → Q[X] is minimal as a semi-free extension then Qev[X,X]⟨Σx,ΣX⟩ is minimal as a n
dg module over Qev[X, X], that is ∂(ΣX) ⊆ (m ev )Q[X, X]⟨ΣX⟩. n Q[X]n
In the statement of the theorem ∂1 : XQ → XQ is the strict part of the differential. That is, the part which preserves the weight decomposition Q[X] = 􏰅w SymwQ(X). The ∂1(x) in the statement is really some lift of ∂1(x) to XQev. Any lift is equally good, and we continue with this abuse of notation below.
Lemma 9. Any map Qev[X, X]⟨Σx, ΣX⟩ → Q[X] whose differential has the form described in the theorem n
above is a quasi-isomorphism.
Because x is a regular sequence there is an obvious quasi-isomorphism Qev[X, X]⟨Σx, ΣX⟩ → Q[X, X]⟨ΣX⟩. n
Then by a homological version of Nakayama’s lemma it suffices to apply − ⊗LQ k and show that k[X,X]⟨ΣX⟩ → k[X] is a quasi-isomorphism. Finally this is essentially contained in [39, proposition 1.9] (the proof is an application of lemma 1).
Proof of theorem 10. Assume inductively that we have constructed a factorisation Qev[X, X] → Qev[X, X]⟨Σx, X ⟩ → Q[X]
        n n <n
whose differential has the above form. Given x ∈ Xn we must define ∂(Σx). Automatically the differential
 restricts to Qev[X , X ]⟨Σx, ΣX n<n<n <n
⟩. Consider ∂[1 ⊗ x − x ⊗ 1 − Σ∂ (x)], by the induction hypothesis 1
 this a cycle in the kernel I → Qev[X
n <n <n
]⟨Σx, ΣX ⟩ → Q[X ]. By the previous lemma I is acyclic, <n <n
, X
so there is y ∈ In such that ∂(y) = ∂[1 ⊗ x − x ⊗ 1 − Σ∂1(x)]. Automatically, y is decomposable, because
otherwise for degree reasons we could write y = aΣx′ +p with p a decomposable in m2 +(ΣX)(2) Q[X ]ev ⟨Σx,ΣX ⟩
n
and x′ ∈ X and a ∈ Qev 􏰒nQev. But then by the induction hypothesis we would have ∂(y) = a⊗x′ − n−1 n n
x′ ⊗a−aΣ∂1(x′)+q with q also decomposable. This is not the case since ∂[1⊗x−x⊗1−Σ∂1(x)] involves no terms of the form aΣ∂1(x′), using the fact that ∂12 ⊗Q k = 0. So setting ∂(Σx) = 1⊗x−x⊗1−Σ∂1(x)−y finishes the induction. Taking the colimit builds the Tate model for the diagonal.
  
Chapter 2. Background 35 For the final statement, first note that minimality of Q → Q[X] implies ∂1 ⊗Q k = 0, and therefore
by the description of the differential Qev[X,X] → Qev[X,X]⟨Σx,ΣX⟩ is a minimal Tate extension. In nn
other words, Qev[X, X] → Qev[X, X]⟨Σx, ΣX⟩ → Q[X] is an acyclic closure. nn
Applying − ⊗Qev[X]⟨Σx⟩ k produces an acyclic closure k[X]⟨ΣX⟩ → k. It suffices to show that this is a n
minimal dg module resolution, that is, ∂(ΣX) ⊆ (X)k[X]⟨ΣX⟩. This is [12, theorem 6.3.4].
Remark 1. For simplicity, assume K = Q. One can also construct the Tate model for the diagonal Q[X, X]⟨ΣX⟩ through Koszul duality methods. In short Q[X] = CQL is the cobar construction of a curved Lie∞ coalgebra L over Q (see section 2.8 for some details in this direction). Its universal envelope UL is a curved A∞ coalgebra, and there is an acyclic twisting cochain τ : UL → CQL over Q. One can use τ to build a twisted tensor product and an isomorphism CQL ⊗τQ UL ⊗τQ CQL ∼= Q[X, X]⟨ΣX⟩. In particular, the appearance of divided powers here can be explained by the Poincar ́e-Birkhoff-Witt theorem. Some of these words are explained (in much less generality) in section 2.8. See especially the proof of theorem 13. This construction will be explained properly somewhere else. This is also connected to joint work with Vincent G ́elinas on explicit universal envelopes of Lie∞ algebras, currently in preparation [30].
The case of a Koszul algebra over a field (when there is no higher structure) is a relatively easy verification. This is essentially lemma 13 below.
Example 3. The situation for complete intersections is classical. Let K be a commutative ring and set Q = K[x1,...,xn] (we won’t bother to localise as this wasn’t important in theorem 10). The kernel of μ : Q⊗K Q → Q is generated by the regular sequence x = {xi ⊗1−1⊗xi}. Now take a regular sequence f1,...,fc inQandsetR=Q/(f1,...,fc). AsabovewewriteQev =Q⊗K QandRev =R⊗K R.
≃
The Koszul complex Q → Q[η] −→ R is a semi-free model for R, where the η = η1,...ηc are degree one variables with ∂(ηi) = fi.
ev ev ≃
According to theorem 10 we can build an acyclic closure Q [η, η] → Q [η, η]⟨Σx, Ση⟩ −→ Q[η]. Ten-
              ev ev ≃ ev soring down to R we obtain an acyclic closure R → R ⟨Σx,Ση⟩ −→ R. This is the minimal R
free resolution of R. This construction goes back to Tate (he used it to resolve the residue field of R, see [55,
  proposition 1.5.4]).
Guccione and Guccione [52] use a similar construction to compute the Hochschild homology and
cohomology of R over K. Assume that K → R is flat (otherwise we compute Shukla homology instead). In short, HH∗(R/K,R) is the homology of
(Rev⟨Σx,Ση⟩)⊗Rev R∼=R⟨Σx,Ση⟩.
In characteristic zero this appears already in the work of Wolffhardt [110], and implicitly in the work of Quillen [96]. Note that in this dg algebra ∂(x) = 0. From this we see that R⟨Σx,Ση⟩, and hence HH∗(R/K,R),splitsintoadirectsumofcomponentsR⟨Σx,Ση⟩(w) =􏰆i+j=wΓiR(Ση)⊗R􏰣jR(Σx). This is the Hodge decomposition established in [52].
Similarly if R is projective over K then HH∗(R/K, R) is the homology of HomRev (Rev⟨Σx, Ση⟩, R) ∼= R[y, ξ] where y = (Σx)∨ and ξ = (Ση)∨. Hochschild cohomology also obtains a Hodge decomposition by these considerations.
The same argument gives a short proof of the more general result in [53]: all that was required was for the map K → Q to be smooth.
≃
Finally, note that we obtain resolutions M ⊗K R⟨Σx,Ση⟩ −→ M for any R module M. In particular if K = k is the residue field of R (so that R is an honest complete intersection ring) we have a resolution
                 
Chapter 2. Background 36 ≃
R⟨Σx, Ση⟩ −→ k, but this time R⟨Σx, Ση⟩ has a different differential (it can be written as a double complex in such a way that the vertical part computes Hochschild homology).
    Remark 2. Theorem 10 can be used to compute Hochschild homology (and cohomology) much more generally. Let Q be a local ring which is a smooth K algebra and let R = Q/I be a factor ring of Q. Assume that K → R is flat (otherwise we compute Shukla homology instead). Denote Rev = R ⊗K R andQev =Q⊗K Q,withnandxasaboveaswell.
≃
The theorem allows us to compute HH∗(R/K,R) from a minimal model Q → Q[X] −→ R. We first
need the observation that there is a canonical quasi-isomorphism R ⊗LRev R ≃ R ⊗LRev R, because R is n
already n-local. From the resolution Qev[X, X]⟨Σx, ΣX⟩ → Q[X] we obtain a resolution Rev⟨Σx, ΣX⟩ → R. nn
HenceR⊗Lev R≃(Rev⟨Σx,ΣX⟩)⊗ ev R∼=R⟨Σx,ΣX⟩. Rn n Rn
Therefore HH∗(R/K, R) is the homology of the semi-free divided power algebra R⟨Σx, ΣX⟩. Similarly, we can produce a dual model for HH∗(R/K,R) using theorem 10.
Note that in the cases Q = R we recover the famous Hochschild-Kostant-Rosenberg theorem.
2.7 Cohen Factorisations and Minimal Models
In this section we present the basic facts we need about the theory of Cohen factorisations, introduced by Avramov, Foxby and Herzog [15]. We will also introduce an important class of dg algebras which we call minimal models.
Let φ : (R, m, k) → (S, n, l) be a local homomorphism. By definition φ is weakly regular if it is flat and the fibre S/mS is a regular ring. A regular factorisation of φ is a factorisation of φ into local homomorphisms
R′ RφS
such that R → R′ is weakly regular and R′ → S is surjective.
For example, φ is said to be essentially of finite type if for some finite sequence x = x1,...,xn of variables φ can be factored as an extension R → R[x](x) followed by a surjection R[x](x) → S. Largely, these are the homomorphisms of interest in algebraic geometry. Since R → R[x](x) is weakly regular, such a homomorphism admits a regular factorisation by definition.
A regular factorisation R → R′ → S in which R′ is complete is called a Cohen factorisation. It is an important theorem of Avramov, Foxby and Herzog that any local homomorphism R → S in which S is complete admits a Cohen factorisation [15, (1.1)]. By this means, these authors initiated a program for investigating the local properties of ring homomorphisms, using Cohen factorisations to reduce to properties of surjective homomorphisms.
The composition R → S → S􏰊 of φ with the natural embedding of S into its completion is known as the semi-completion of φ, and is generally denoted φ`. By Avramov, Foxby and Herzog’s theorem φ` : R → S􏰊 always admits a Cohen factorisation.
A morphism between two Cohen factorisations R → R′ → S and R → R′′ → S is a commutative
              
Chapter 2. Background
37
diagram
R′ RψS
R′′
     of local homomorphisms. The factorisation R → R′ → S is said to be a deformation of R → R′′ → S (andR→R′′ →SareductionofR→R′ →S)ifψissurjective. Inthissituationthekernelofψis automatically generated by a regular sequence x. Moreover, if I denotes the kernel of R′ → S, then x descends to an l vector space basis for (I + mR′ + m2R′ )/(mR′ + m2R′ ). Conversely, any lift x ⊆ I of a basis for (I + mR′ + m2R′ )/(mR′ + m2R′ ) is a regular sequence in R′ and reducing modulo x produces a Cohen factorisation R → R′′ = R′/(x) → S which is a reduction of R → R′ → S. These facts can be found in [15, (1.5)], where it is also observed that diml(I +mR′ +m2R′ )/(mR′ +m2R′ ) = edim R′/mR′ −edim S/mS. With this in mind a Cohen factorisation R → R′ → S of φ is said to be minimal if edimR′/mR′ = edimS/mS, or equivalently, if it admits no proper reduction.
While Cohen factorisations cannot necessarily be compared directly, by [15, (1.2)] any two Cohen factorisations R → R′ → S and R → R′′ → S admit a common deformation
R′
RAS
R′′ .
So, the horizontal row is a Cohen factorisation and the two vertical homomorphisms are surjective. More- over, any two Cohen factorisations of φ can be connected by a sequence of codimension one deformations. This observation is often useful to simplify arguments which compare Cohen factorisations.
Complete Intersections and Quasi-Complete Intersection
Now we discuss some classes of homomorphisms which have been introduced using Cohen factorisations. A surjective homomorphism is called complete intersection if its kernel is generated by a regular sequence. In general a local homomorphism R → S is complete intersection if in some Cohen factorisation R → R′ → S􏰊 the homomorphism R′ → S􏰊 is complete intersection. This definition was introduced by
Avramov in [13], where it was used to settle some long-standing conjectures of Quillen.
It follows readily from the definition that any complete intersection homomorphism has finite flat
dimension. The next definition is an analogue which allows for infinite flat dimension.
A surjective local homomorphism R → S is called a quasi-complete intersection (qci) if it admits an
≃
acyclic closure R → R⟨U⟩ −→ S in which U is concentrated in degrees 1 and 2. These homomorphisms were introduced by Blanco, Majadas and Rodicio in [28], where they were characterised in terms of vanishing of Andr ́e-Quillen cohomology. In [17, section 7] this class is extended to include non-surjective homomorphisms: R → S is qci if in some Cohen factorisation R → R′ → S􏰊 the homomorphism R′ → S􏰊 is qci.
In both cases the property is independent of the choice of Cohen factorisation (the arguments can be found in the references given).
             
Chapter 2. Background 38 Minimal Models
Now we explain the construction of minimal models, which will be extremely important throughout this thesis.
Let R be a local ring. The classical Cohen structure theorem is the absolute analogue of the existence of Cohen factorisations. It says that there is a complete, regular local ring Q and a surjection Q → R􏰊. We can and will assume this presentation is minimal in the sense that ker(Q → R) ⊆ m2Q. By proposition 4 there is a minimal model Q → Q[X] → R􏰊. Note that Q[X] is in fact absolutely minimal, so ∂(mQ[X]) ⊆ mQ[X]. The dg algebra Q[X] will be called a minimal Cohen model for R.
We can use the theory of Cohen factorisations to make a relative version of this construction. Let φ : (R,k) → (S,l) be a local homomorphism. The semi-completion of φ admits a minimal Cohen factorisation R → R′ → S􏰊. By proposition 4 there is a minimal model R′ → R′[X] → S􏰊. The factorisation R → R′[X] → S􏰊 will be called a minimal Cohen model for φ. If Q = k ⊗R R′, then the fibre k ⊗R R′[X] = Q[X] is a dg algebra model for the completion of the derived fibre k ⊗LR S. Note that k → Q[X] is a minimal dg algebra morphism, and therefore Q[X] is absolutely minimal.
In both situations Q[X] is a semi-free extension of a regular local ring which is also absolutely minimal. In an abuse of terminology, we will call a local dg algebra of this form a minimal model. These dg algebras will be very important in what follows.
In section 2.4 minimal A∞ algebras were also called minimal models. Needless to say these are two very separate (but related) notions. The definition given here will be used exclusively in chapter 3, while the term minimal model is reserved for minimal A∞ algebras in chapter 4.
Golod Homomorphims
Another class of homomorphisms for which Cohen factorisations are elucidating are Golod homomor- phisms. However, these do not fit into the same basic pattern as complete intersection and quasi-complete intersection homomorphisms.
Let φ : (R, m, k) → (S, n, l) be a finite local homomorphism. We recall the classical bound P l S ( t ) ≤ P kR ( t )
(1 + t) − tPSR(t)
which is a coefficient-wise inequality of formal power series. The bound appears in [49] where it is attributed to Serre. In loc. cit. Golod characterised those surjective ring homomorphisms for which this bound is attained in terms of trivial Massey operations on TorR∗ (S, k).
Classically φ has been called Golod if the Serre bound above is an equality. However, in certain
exceptional cases this bound can be improved and Avramov gives a definition in [10] which takes this
into account. We give an equivalent definition now.
≃L
Let R → R⟨U⟩ −→ k be an acyclic closure, so that S⟨U⟩ ≃ S ⊗R k. Avramov defines φ to be Golod
 if S⟨U⟩ is a Golod dg algebra in the sense of [10, definition (2.2)]. Take also a minimal Cohen model ≃
R → R′[X] −→ S􏰊 and set A = k ⊗R R′[X]. It is easy to see that the Golod condition for dg algebras is invariant under completion and quasi-isomorphisms, therefore A is Golod if and only if S⟨U⟩ is so. Finally, it is most convenient to use the characterisation [10, theorem 3.4 (3)] for our definition: we say that φ is Golod if the map mA → mA/m2A induces an injection H∗(mA) 􏰐→ H∗(mA/m2A) = mA/m2A. The relation to the homotopy Lie algebra will be discussed in example 4.

Chapter 2. Background 39 Note that this definition implies that the fibre S = S/mS is Artinian with m2 = 0. In particular
S
R → S is automatically module finite. To account for the non-finite case one might wnonzerant to extend the definition using Cohen factorisations. The next proposition suggests such a generalisation. We present it only as an example of how Cohen factorisations are used to introduce new properties of ring homomorphisms.
Let us emphasise that the proposition is for the most part a consequence of the results of Avramov in [10], which builds on work of Golod [49] and Levin [77].
Following [10, (4.4)], a surjective homomorphism (R, m) → (S, n) is called exceptional if its kernel is generated by a single non zero-divisor in m 􏰒 m2, otherwise it is standard. Exceptional homomorphisms are Golod, but as the name suggests they are not representative of the typical situation.
Proposition 5. If φ : (R, m, k) → (S, n, l) is a local homomorphism then the following are equivalent: 1. for some Cohen factorisation R → R′ → S􏰊 the equality
  PR′(t) PS(t) = l
 l (1 + t)d+1 − tPR′ (t) S􏰊
holds, where d = edim(R′/mR′) − edim(S/mS);
2. the above equality holds for any Cohen factorisation;
3. in some minimal Cohen factorisation R → R′ → S􏰊 the map R′ → S􏰊 is standard and Golod;
4. in any minimal Cohen factorisation R → R′ → S􏰊 the map R′ → S􏰊 is standard and Golod.
The proposition will not be important to us later, and it is partly superseded by proposition 9, so we sketch the proof only. Proposition 9 will characterise the equivalent conditions here in terms of L.S. category. With that result in mind, a homomorphism satisfying the conditions above will be called generalised Golod of level 1.
We will need a standard lemma.
Lemma 10. If (R, m, k) is a local ring and x is a non zero divisor in m􏰒m2 then P R (t) = (1+t)P R/x(t)
for any R module M such that xM = 0.
The proof uses the simple calculation M ⊗LR k ≃ M ⊗LR/x k + ΣM ⊗LR/x k.
Proof of proposition 5. Since d = 0 if and only if the Cohen factorisation is minimal, the implications 2 =⇒ 4 =⇒ 3 =⇒ 1 are clear using the characterisation [10, theorem (4.6)]. Thus we must show that show that 1 =⇒ 2.
For this we appeal to the fact that any two Cohen factorisations R → R′ → S􏰊 and R → R′′ → S􏰊 are connected by a sequence of deformations. So we can assume we have a homomorphism R′′ → R′ (compatible with R and S􏰊) whose kernel is generated by a nonzero divisor x in mR′′ 􏰒 (m2R′′ + mR′′), and we must show that the formula in part 1 holds for R′ if and only if it holds for R′′.
Let e = edim(R′′/mR′′)−edim(S/mS) and d = edim(R′/mR′)−edim(S/mS), and note that e = d+1 since edim(R′′/mR′′) = edim(R′/mR′) + 1. Now we use lemma 10 to make the calculation
PR′′ (t) (1 + t)PR′ (t) PR′ (t) l=l=l.
MM
   (1+t)e+1 −tPR′′(t) (1+t)e+1 −(1+t)tPR′(t) (1+t)d+1 −tPR′(t) S􏰊 S􏰊 S􏰊

Chapter 2. Background 40 This concludes the proof.
Note that in the exceptional cases we have the improved bound
 PR′(t)
PS(t) = l .
 l (1 + t)d+2 − tPR′ (t) S􏰊
Remark 3. The Serre bound above is attained by the famous bar resolution. Details on this construction and the A∞ structure which underlies it are given by Burke in [34].
Let Q → R be a standard, surjective, Golod homomorphism, let A → R be the minimal Q free resolution of R, and let K → k be the minimal Q free resolution of k. Burke constructs an A∞ algebra structure on A making A → R a quasi-isomorphism of A∞ algebras, and an A∞ A module structure on K compatible with the R module structure of k. From this data one constructs the twisted tensor product K ⊗Q BA ⊗Q R, and Burke shows that the Golod property implies that K ⊗Q BA ⊗Q R → k is a minimal R free resolution.
Now suppose that R → S is generalised Golod of level 1. Let R → R′ → S􏰊 be a minimal Cohen factorisation, let A → S be the minimal R′ free resolution of S, and let K → k be the minimal R′ free resolution of k, note that these are both R flat resolutions. Then R′ → S is Golod so using the constructions of Burke we obtain a minimal S free resolution K ⊗R′ ⊗BA ⊗R′ S → k.
Gulliksen and Schoeller’s Theorem
To end this section we record the the following important consequence of theorem 10. It was proven independently by Gulliksen and Schoeller.
Theorem 11 (Gulliksen [55], Schoeller [99]). If Q[X] is a minimal model with residue field k and X0 ≃
is a minimal generating set for mQ then we have an acyclic closure Q[X ]⟨t, ΣX ⟩ −→ k where t is a set of variables in degree 1 with ∂(t) = X0. Moreover Q[X]⟨t, ΣX⟩ is minimal as a dg module over Q[X].
≃
In particular if Q[X] → R is a minimal Cohen model we have an acyclic closure R⟨t,ΣX⟩ −→ k which is minimal as a complex. Even if R does not admit a minimal Cohen model (without completing), the acyclic closure of R → k is minimal as a complex.
≃
If Q → Q⟨t⟩ −→ k is the Koszul complex which resolves k over Q, then lemma 5 produces a Q algebra ≃
morphism Q[X] → Q⟨t⟩. We obtain a quasi-isomorphism Q[X]⟨t,ΣX⟩ = Q[X,X]⟨ΣX⟩ ⊗Q[X] Q⟨t⟩ −→ ≃≃
Q⟨t⟩ −→ k. When Q[X] is a minimal Cohen model for R the quasi-isomorphism R⟨t,ΣX⟩ −→ k is given by adjunction. The last statement follows using the faithfully flat base change − ⊗R R􏰊 and uniqueness of acyclic closures.
2.8 Lie Algebras and Lie Coalgebras
In this section we will quickly define graded Lie algebras and graded Lie coalgebras, and explain why both of these objects are equivalent to certain semi-free dg algebras. Everything in this section takes place over a fixed field k, about which we make no additional assumptions. The content of this section is classical.

Chapter 2. Background 41
We define graded Lie algebras in terms of operations (bracket and reduced square) following [12, section 10], where more details can be found. This approach leads to a complicated definition, but one which should be at least partially familiar to all readers.
A graded Lie algebra is a graded vector space L over k equipped with a bilinear bracket [ , ] : L ⊗ L → L and a reduced square defined on odd elements ( )[2] : L2i+1 → L4i+2 which is quadratic, so (αu)[2] = α2u[2] for any odd u in L and α in k. These operations should satisfy the following axioms.
• Compatibility: for any odd elements u, v in L
(u+v)[2] =u[2] +[u,v]+v[2].
• Anti-symmetry: for any x, y, z in L with z even
[x, y] + (−1)|x||y|[y, x] = 0 and [z, z] = 0.
• Jacobi identity: for any x,y,z,u,v in L with u odd
[x, [y, z]] = [[x, y], z] + (−1)|x||y|[y, [x, z]], [u[2], v] = [u, [u, v]] and [u, [u, u]] = 0.
For example, any graded associative algebra A over k gives rise to a graded Lie algebra ALie with the same underlying graded vector space. The bracket is given by the graded commutator [x,y] = xy−(−1)|x||y|yx while the reduced square is simply u[2] = u2 for any x, y, u in A with u odd.
A morphism of graded Lie algebras is a map of graded vector spaces φ : L → L′ which respects the two operations, so that φ[x,y] = [φ(x),φ(y)] and φ(u[2]) = (φ(u))[2] for any x,y,u in L with u odd. The category of graded Lie algebras over k is denoted Liegr, leaving k implicit. We further assume that the objects of Liegr are degree-wise finite dimensional and concentrated in strictly positive degrees. Gradings here will be written cohomologically.
In characteristic zero a Lie coalgebra may be defined as a vector space L with a cobracket L → L ⊗ L which is anti-symmetric and satisfies the Jacobi condition laid out for instance in [98, section 1]. In general, the symmetry condition is more subtle and it is easiest to define Lie coalgebras as follows.
First, if V is a graded vector space then the exterior algebra 􏰣∗(V ) is the quotient of the tensor algebraT(V)bythetwosidedideal􏰁u⊗v+(−1)|u||v|v⊗u, w⊗w : u,v,w∈V withweven􏰂. Then 􏰣∗ (V ) has an internal grading inherited from V and an additional weight grading, with 􏰣w (V ) = (v1···vw : vi ∈V)spannedasavectorspacebyproductsoflengthw.
A graded Lie coalgebra over k is firstly a graded vector space L together with a cobracket ∆ : L → 􏰣2L. This gives rise to a map ∆∧1−1∧∆ : 􏰣2L → 􏰣3L, and we impose the condition that (∆ ∧ 1 − 1 ∧ ∆)∆ = 0. How this relates to the Jacobi identity is explained in the proof of theorem 12 below (which we sketch only).
A Lie∞ coalgebra is the structure one gets by allowing the cobracket to take arbitrary positive weight ∆ = ∆1 + ∆2 + ∆3 + ... : L → 􏰣>0 L. For details in characteristic zero see [74] or [80], and in arbitrary characteristic there is some discussion in [26].
Any graded associative coalgebra C has an associated Lie coalgebra CLie with the same underlying graded vector space. The cobracket is simply the coproduct C → C ⊗ C composed with the natural projection C ⊗ C → 􏰣2 C.

Chapter 2. Background 42 A morphism of Lie coalgebras is a map of graded vector spaces φ : L → L′ making the obvious
diagram commute:
L ∆ 􏰣2L
φ 􏰣2 φ
L′ ∆ 􏰣2L′.
By definition coLiegr is the category of degree-wise finite dimensional graded Lie coalgebras which are
concentrated in strictly positive degrees. Gradings here will be written homologically.
Finally, we introduce an important category of quadratic semi-free algebras over k. Once again k
will be left implicit in our notation. The objects of q-semi-free are bigraded algebras of the form
A = k[V ] = Sym(V ) where V is a degree-wise finite dimensional graded vector space with V = V≥0.
They should be graded cohomologically by weight Aw = Symw(V ) and homologically by the internal
degree Ai = k[V ]i = Sym(V )i induced from V , so that A is strictly graded commutative with respect
to its lower grading. The differential must satisfy ∂ : Aw → Aw+1. Morphisms in q-semi-free are local i i−1
homomorphisms of dg algebras which respect both gradings6.
These dg algebras are called quadratic because the differential applied to the generators V takes
values in the quadratics forms Sym2(V ). The relationship between this category and the category of minimal models will be made clear in section 3.1.
The following theorem is fundamental in the Koszul duality between Lie algebras and commutative algebras. It is essentially due to Quillen [95, appendix B] in characteristic zero and Avramov [9, theorem 4.2] in positive characteristic.
    Theorem 12. We have equivalences of categories
  q-semi-free
π∗ C
coLiegr
(−)∨ (−)∨
Liegr .
      The proof is a series of verifications, we sketch it only. The functors themselves will be defined as we go. The key point for the two functors on the left is that there is a natural isomorphism 􏰣w(ΣV ) ∼= ΣwSymw(V ), where we use Σ to denote the usual suspension acting on the internal degree only.
If A is an object of q-semi-free we define π∗(A) = ΣA1. Writing A = Sym(V), the graded Lie coalgebra structure on ΣA1 = ΣV is defined by commutativity of the left square in the following diagram
(ΣV ) ∆ 􏰣2(ΣV ) ∆∧1−1∧∆ 􏰣3(ΣV ) . iii
Since ∂2 = 0, the condition (∆ ∧ 1 − 1 ∧ ∆)∆ = 0 follows after checking that the right square above commutes.
This process is reversible: if L is an object of coLiegr then CL = Sym(Σ−1L) is a quadratic semi-free dg algebra with differential defined on V = Σ−1L by the left square in the above diagram. Then ∂
6These correspond to strict morphisms of graded Lie algebras. Working with non-strict morphisms, which may increase the weight filtration, gives extra flexibility which can be useful. Non-strict morphisms are homotopically no more general than strict morphisms, and we won’t need them, so we refer to [80] for more information.
V ∂ Sym2(V ) ∂ Sym3(V )
  i−1 i−2
∼= ∼= ∼=
i−3
      
Chapter 2. Background 43
extends uniquely to a derivation on CL, and the right square above implies ∂2 = 0.
The remaining functors in the theorem are just given by taking the k linear graded dual.
Let L be a graded Lie coalgebra. The projection T(L) → 􏰣(L) is dual to an embedding ι : (􏰣 L)∨ →
T(L∨), and in weight 2 the image may be described as the linear span
ι(􏰣2L)∨ =􏰃x⊗y−(−1)|x||y|y⊗x, u⊗u : x,y,u∈L∨ withuodd􏰄.
Using this fact, one may define the operations on the dual L∨ as follows. The cobracket ∆ : L → 􏰣2 L ∗ 􏰣 2 ∨ ∼= 􏰣 2 ∨ ∆ ∨ ∨
dualisestoalinearmap∆ :ι( L) −→( L) −−→L andweset [x,y]=∆∗(x⊗y−(−1)|x||y|y⊗x) and u[2] =∆∗(u⊗u).
One could also phrase this in terms of the divided power algebra structure on (Sym(Σ−1L))∨ ∼= Γ(ΣL∨). The compatibility and anti-symmetry conditions are quite clear already on the level of T2(L∨), because these identities hold for the tensors x⊗y−(−1)|x||y|y⊗x and u⊗u. The Jacobi conditions are equivalent to (∆ ∧ 1 − 1 ∧ ∆)∆ = 0. To see this one works in ι(􏰣3 L)∨, which is similarly spanned by certain anti- symmetric tensors in L∨ (of three types, corresponding to the three Jacobi identities). We can sketch the classical Jacobi identity for x, y, x in L∨. Denote the anti-symmetrisation of a tensor x1 ⊗ · · · ⊗ xn by x1 ⊗ · · · ⊗ xn, so for instance x ⊗ y = x ⊗ y − (−1)|x||y|y ⊗ x. The key identity is
x ⊗ y ⊗ z = x ⊗ y ⊗ z + (−1)|z|(|x|+|y|)z ⊗ x ⊗ y + (−1)|x|(|y|+|z|)y ⊗ z ⊗ x. With this, one can check easily that
(x ⊗ y ⊗ z)ι(∆ ∧ 1 − 1 ∧ ∆)∆ = [[x, y], z] + (−1)|z|(|x|+|y|)[[z, x], y] + (−1)|x|(|y|+|z|)[[y, z], x]
and this vanishes since (∆ ∧ 1 − 1 ∧ ∆)∆ = 0. This establishes the classical Jacobi identity, the other two are similar. Having checked this, it follows that a Lie coalgebra structure on L is equivalent to a Lie algebra structure on L∨, and this finishes the proof of the theorem.
Remark 4. If L is a graded Lie algebra then the composition C(L∨) is the well-known Chevalley- Eilenberg dg algebra of L.
Remark 5. At the same time, the functor C : coLiegr → q-semi-free is an example of a cobar construction in the sense of [80]. It can be extended to the category of dg Lie coalgebras (and ultimately, Lie∞ coalgebras). There is a corresponding bar construction L : Comdg → coLiedg which takes a strictly commutative augmented dg algebra A to the cofree Lie coalgebra coLie(ΣA) on the suspension of the augmentation ideal A = ker(A → k). Just as for CL, the Lie coalgebra LA is equipped with a differential which encodes exactly the product on A. Good properties of the adjunction (C,L) underlie the Koszul duality between commutative and Lie algebras, see [95] or [60] in characteristic zero. In any characteristic there is a natural quasi-isomorphism CLA → A, see [44]. On the other hand, L → LCL need not be a quasi-isomorphism outside of characteristic zero, but it is a weak-equivalence in a certain sense (unfortunately, not the fully-fledged model category sense). This point is delicate, and we choose to side-step these difficulties by working almost exclusively with minimal dg algebras, which means focusing our attention on the left adjoint C.
         
Chapter 2. Background 44
At this point we will very quickly discuss universal envelopes of Lie algebras and coalgebras. In short, the two functors A 􏰀→ ALie and C 􏰀→ CLie have left and right adjoints respectively.
In terms of explicit universal properties this means the following. Let L be a graded Lie algebra. There is a graded associative algebra UL equipped with a map of Lie algebras L → (UL)Lie, and for any graded associative algebra A, every morphism L → ALie factors as L → (UL)Lie → ALie for a unique algebra map UL → A. The algebra UL is the universal enveloping algebra of L. More details can be found in [12, section 10].
Similarly, every graded Lie coalgebra L has a universal enveloping coalgebra, which we will denote in the same way as UL. It enjoys the dual universal property: UL comes with a map of Lie coalgebras (UL)Lie → L, and for any graded associative coalgebra C, every morphism CLie → L factors as CLie → (UL)Lie → L for a unique coalgebra map C → UL.
Remark 6. Contemplating the construction in the proof of theorem 12 one concludes that the functors A 􏰀→ ALie and C 􏰀→ CLie are linearly dual to each other, and therefore the two universal properties above are linearly dual as well. It follows that for any graded Lie coalgebra L in coLiegr there is a canonical isomorphism (UL)∨ ∼= U(L∨).
As we will see in the proof below, it will actually be better for us to work with the completed cobar
􏰊􏰢w
construction CL = w C L. Note that this is the graded product: it only makes a difference if L is
non-zero in degree 1. These completed cobar constructions could be added to the equivalence of theorem 12.
Theorem 13. If L is a graded Lie coalgebra in coLiegr then the composition τ : UL → L 􏰐→ ΣCL is an acyclic twisting cochain.
Proof. To check that τ is a twisting cochain we only need the fact that (UL)Lie → L is a Lie coalgebra morphism. This makes the upper left part of the diagram below commute
UL⊗UL
∆
L
The lower square commutes by definition and the upper right part anti-commutes. Comparing the upper and lower paths yields the equality τ ⌣ τ + ∂(τ) = 0.
􏰊ττ􏰊􏰊
To see that τ is acyclic we verify that the bimodule homomorphism CL ⊗ UL ⊗ CL → CL is a
quasi-isomorphism. This is easily seen by reduction to the abelian case, as follows.
Firstly, UL admits a decreasing filtration U(w)L = 􏰿v<w ker(UL → UL⊗v → L⊗v). Since L is
􏰊 􏰊(w) concentrated in strictly positive degrees this filtration is complete. We also filter CL by weight C L =
2􏰊􏰊 Σ CL⊗CL
−
Σ 2 C 2 L
􏰊
     UL
L⊗L
􏰣2 L ΣC1L
2􏰊
Σ CL.
  ∼=
  ∼=
∂
  􏰢v≥w CvL. The effect of passing to the associated graded vector spaces is to replace L with the abelian ab 􏰊 ∼ ab∼
Lie coalgebra L on the same space but with cobracket equal to zero. In other words gr(CL) = CL = −1 ∼ab∼ 􏰊τ τ􏰊
k[Σ L] and by the Poincar ́e-Birkhoff-Witt theorem gr(UL) = UL = k⟨L⟩. We also give CL⊗ UL⊗ CL
􏰊ττ􏰊􏰊
the total weight filtration. By lemma 1 it suffices to show that gr(CL⊗ UL⊗ CL) → gr(CL) is a quasi-

Chapter 2. Background 45 isomorphism. This is exactly the Tate resolution of the diagonal
k[Σ−1L, Σ−1L]⟨L⟩ → k[Σ−1L] with ∂(x) = Σ−1x ⊗ 1 − 1 ⊗ Σ−1x
which is well-known to be a quasi-isomorphism. By theorem 4 and remark 6 we obtain
for x ∈ L,
 ∨≃
We end this section by stating a fact from [39, section 1], which is in a sense Koszul dual to the previous corollary. It can be proven similarly using theorem 13.
≃
Theorem 14. If L is in coLiegr there is a canonical quasi-isomorphism CL −→ RHomUL∨(k,k). This
p∼p
results in a bigraded algebra isomorphism H (CL)q = ExtUL∨(k,k)q.
Corollary 2. If L is a graded Lie coalgebra in coLiegr there is a canonical quasi-isomorphism UL −→ RHomC􏰊L(k, k).
􏰊

Chapter 3
Koszul Duality in Local Commutative Algebra
As we discussed in the introduction, the behaviour of the homotopy Lie algebra π∗(φ) reflects the character of the singularity defined by a local homomorphism φ : R → S. In quite a broad sense, anything about the homotopy Lie algebra is for us something to do with Koszul Duality. In this chapter we investigate a few ideas in this direction. However, many of directions remain to be properly explored, and some important avenues will be completely ignored for now.
3.1 The Homotopy Lie algebra
In this section we explain how to assign a graded Lie algebra to a local ring R or a local homomorphism φ : R → S, using the background from section 2.8.
Recall that we are calling a dg algebra A a minimal model if it is a semi-free extension Q[X] of a regular local ring Q with X in positive degrees, and A is absolutely minimal, so ∂(mA) ⊆ m2A. Whenever A is a minimal model we define π∗(A) = Σ(mA/m2A) and π∗(A) = π∗(A)∨. Using the constructions in section 2.7, minimal models come up for us in two ways:
≃
1. In the absolute situation we take a minimal Cohen model Q[X] −→ R􏰊, and then A = Q[X] is by definition a minimal model. We define π∗(R) = π∗(A) and π∗(R) = π∗(A).
≃
2. In the relative situation one builds a minimal Cohen model R → R′[X] −→ S􏰊 for a homomorphism
φ : (R, k) → (S, l). The fibre A = k⊗R R′[X] is then a minimal model, and we define π∗(φ) = π∗(A) and π∗(φ) = π∗(A).
These definitions depend a-priori on the construction of A. Independence is dealt with by the main theorem of this section, which we state now. It extends a classical theorem of Avramov [9, theorem 4.2], which only deals with π≥2(R).
Theorem 15. If A is a minimal model with residue field k then π∗(A) is canonically a graded Lie algebra over k, and there is a natural isomorphism Uπ∗(A) ∼= Ext∗A(k,k) of Hopf algebras with codivided powers. In particular:
46

Chapter 3. Koszul Duality in Local Commutative Algebra 47 1. If (R,k) is a local ring then Uπ∗(R) ∼= Ext∗R(k,k).
2. If φ : (R,k) → (S,l) is a local homomorphism then Uπ∗(φ) ∼= Ext∗F(l,l) where F → l is any augmented dg algebra model for k ⊗LR S → l.
The assertion about Hopf algebras with codivided powers will be explained later in this section. We call π∗(R) and π∗(φ) the homotopy Lie algebra of R and of φ respectively. The theorem states that our definition agrees with the classical one from, for example, [9].
Originally the homotopy Lie algebra was uncovered though Ext∗R(k,k). It was shown by Levin [79] and Shoeller [99] that Ext∗R(k,k) is a Hopf algebra whose dual TorR∗ (k,k) is commutative with divided powers in positive degrees. At the point the famous structure theorem of Milnor and Moore [89], and Andr ́e and Sj ̈odin in positive characteristic [101], shows that Ext∗R(k,k) is the universal envelope of a uniquely defined graded Lie algebra. Our approach is side step this structure theory and build π∗(R) directly. From theorem 15 is follows a fortiori that Ext∗R(k,k) is a Hopf algebra with codivided powers. We do not invoke the work of Levin or Schoeller.
To an absolutely minimal local dg algebra A we can associate a bigraded dg algebra gr(A) by setting grwAi = (mw/mw+1)i. The upper grading is referred to as weight, the lower grading is the internal degree.
Using the fact that A is minimal there is an induced differential ∂ : (mw/mw+1)i → (mw+1/mw+2)i−1. AAAA
It is convenient to fix a field k over which we will work implicitly from this point on. Let min-mod be the full subcategory of minimal models with residue field k. And recall that the category q-semi-free of quadratic semi-free dg algebras was defined in section 2.8. Since the associated graded algebra of a regular local ring is a polynomial algebra, we obtain a functor
gr : min-mod −→ q-semi-free.
Through this, the fact that π∗(A) = (ΣmA/m2A)∨ = (Σgr1A)∨ is a graded Lie algebra is dealt with by theorem 12.
The functor grA should be thought of roughly as taking the underlying graded Lie algebra of a minimal Lie∞ algebra. That is, at this point we throw away some homotopical information which might allow us to recover A from its homotopy Lie algebra.
AA
Note that grA = C(π∗(A)). As in section 2.8 the functor we really care about is the completion 􏰢w􏰊
g􏰊rA = w gr A. Then g􏰊rA = C(π∗(A)) and following lemma combined with corollary 2 finishes the first part of theorem 15.
Lemma 11. If A = Q[X] is a minimal model then there is a canonical isomorphism of graded algebras Ext∗ (k, k) ∼= Ext∗ (k, k).
A g􏰊rA
Proof. The key point is that the hypotheses guarantee that if F → k is the minimal dg A module resolution, then g􏰊rF → k is the minimal dg g􏰊rA module resolution. This can be seen from theorem 11 above, which says we may take F to be the acyclic closure Q[X]⟨t,ΣX⟩ of k, with a differential that satisfies ∂(Σx) = x modulo (m2A +mA(t,ΣX)(1)), and ∂(t) = X0 where X0 is a minimal set of generators for mQ. Then g􏰊rA = k􏰍X0, X􏰎 and by minimality g􏰊rF = k􏰍X0, X􏰎⟨t, ΣX⟩ obtains a differential
∂ : mw/mw+1Fi → mw+1/mw+2Fi−1 making it a graded dg module over g􏰊rA. The differential of g􏰊rF AAAA

Chapter 3. Koszul Duality in Local Commutative Algebra 48
still satisfies the conditions ∂(Σx) = x modulo (mg􏰊rA(t,ΣX)(1)) and ∂(t) = X0, and it’s well known that this makes g􏰊rF acyclic (see the proof of lemma 9).
For this we have a commutative diagram
The map along the bottom of the diagram is not a chain map. However, it is easily seen to be an algebra
map which takes cycles to cycles. The product of Ext∗A(k,k) may be computed by lifting two elements
to cycles in Hom (F,F) and composing them there, similarly for Ext∗ (k,k). With this in mind, the A g􏰊rA
We obtain a sequence of isomorphisms of graded vector spaces
Ext∗ (k, k) ∼= Hom (F, k) ∼= Hom (g􏰊rF, k) ∼= Ext∗ (k, k).
A A g􏰊rA g􏰊rA
It remains to understand why this isomorphism Ext∗ (k, k) ∼= Ext∗ (k, k) respects the algebra structure.
HomA(F, k) ∼= ≃≃
A g􏰊rA
Homg􏰊rA(g􏰊rF, k) HomA(F, F ) φ 􏰀→ g􏰊rφ Homg􏰊rA(g􏰊rF, g􏰊rF ).
    map φ 􏰀→ g􏰊rφ is good enough to witness the fact that the isomorphism above is one of algebras.
As is evident from the proof, the isomorphism Ext∗ (k, k) ∼= Ext∗ (k, k) need not lift to quasi-
 A g􏰊rA
isomorphism between RHomA(k, k) and RHomg􏰊rA(k, k). In fact, we’ve seen already that RHomg􏰊rA(k, k)
is always formal, while RHomA(k,k) is usually not so. Both 1 and 2 in theorem 15 are dealt with by
≃
Lemma 12. Let A −→ B be a quasi-isomorphism of local dg algebras with common residue field k. There are canonical isomorphisms of graded algebras
Ext∗ (k, k) ∼= Ext∗ (k, k) ∼= Ext∗ (k, k). A B B􏰊
The proof of the lemma is standard. With this 1 is established using the quasi-isomorphism A = ≃
Q[X] −→ R􏰊. For 2, if F is a model for the derived fibre k ⊗LR S then F􏰊 is connected to A by a chain of quasi-isomorphisms, where A = k ⊗R R′[X] is the minimal model arising from a minimal Cohen model R → R′[X] → S􏰊 for R → S􏰊. This is because R′[X] is a flat resolution of S􏰊 over R. Therefore Ext∗A(k, k) ∼= Ext∗F (k, k) by the lemma.
It remains to explain the assertion in theorem 15 about Hopf algebras with codivided powers.
TorA∗ (k,k) has the structure a graded coalgebra, dual to the Yoneda algebra structure on Ext∗A(k,k).
≃A∼
Taking an acyclic closure A → A⟨U⟩ −→ k we see that Tor∗ (k,k) = k⟨U⟩ by Gulliksen and Schoeller’s
minimality theorem 11. Thus TorA∗ (k, k) also has the structure of a (free) divided power algebra, with di- vided powers supported on the ideal of positive degree elements. It is classical that this makes TorA∗ (k, k) into a Hopf algebra with divided powers1, that is, the coproduct ∆ : TorA∗ (k,k) → TorA∗ (k,k)⊗2 is a homomorphism of divided power algebras. We say that the dual Ext∗A(k,k) = TorA∗ (k,k)∨ is a Hopf algebra with codivided powers.
1This generalises the work of Assmus, Levin and Schoeller [5, 77, 99] from the case that A is a local ring. The general cases can be shown (for example) by using lemma 11 to reduce to the equicharacteristic case and then using lemma 13 to
present Uπ∗(A) as a model for Torgr(A)(k,k) with this structure. ∗
 
Chapter 3. Koszul Duality in Local Commutative Algebra 49 The isomorphism constructed in lemma 11 clearly preserves this structure. That is, it was explicitly
dual to an isomorphism TorA(k,k) ∼= k⟨U⟩ ∼= Torg􏰊r(A)(k,k) of divided power algebras. ∗∗
The map from theorem 4 which was used to build the isomorphism in theorem 15 made use of the
􏰊τ
twisted tensor product Cπ∗(A) ⊗ Uπ∗(A) ≃ k.
Lemma 13. Let L be a graded Lie coalgebra in coLiegr, and let τ : UL → CL be the acyclic twisting cochain of theorem 13.
􏰊τ
The natural divided paper structure is compatible with the twist by τ. That is, CL⊗ UL is a divided
􏰊􏰊τ
power algebra with divided powers supported on the ideal UL and thus CL → CL ⊗ UL → k is an
acyclic closure.
􏰊ττ􏰊 Remark 7. The lemma works just as well for the bimodule resolution CL ⊗ UL ⊗ CL.
Proof. It is a classical theorem the universal envelope of a graded Lie coalgebra is a Hopf algebra with divided powers (this is a structural version of the Poincar ́e-Birkhoff-Witt theorem, it is explicit in [29, proposition 4.2]).
Let u be a primitive element of UL, with ∆(u) = 1⊗u+u⊗1. This implies ∆(u(n)) = 􏰆i+j=n u(i) ⊗ u(j), so
∂(u(n)) = (m ⊗ 1)(1 ⊗ τ ⊗ 1)(1 ⊗ ∆)(1 ⊗ u)
= 􏰈 (m⊗1)(1⊗τ ⊗1)(1⊗u(i) ⊗u(j))
i+j =n
= τ (u) ⊗ u(n−1) = ∂(u)u(n−1)
since τ(u(i)) = 0 unless i = 1. Since 􏰁UL􏰂 is generated by primitives as a divided power ideal it follows quite formally that ∂(u(n)) = ∂(u)u(n−1) for any u ∈ 􏰁UL􏰂 (this involves short a calculation for each of the divided power axioms).
Note that through the augmentation there is an algebra homomorphism εUL → k → CL. Note that τ is actually a derivation with respect to ε. It follows that the twisted differential satisfies
∂(uv) = (−1)|v′||u′′|τ(u′v′)u′′v′′
= (−1)|v′||u′′|(ε(u′)τ(v′)u′′v′′ + τ(u′)ε(v′)u′′v′′) = (−1)|v′||u|τ(v′)uv′′ + τ(u′)u′′v
= u∂(v) + ∂(u)v
where we have used an informal Sweedler notation ∆(u) = u′ ⊗ u′′ and ∆(v) = v′ ⊗ v′′. (Actually τ is a 􏰊
divided power derivation for the trivial divided power structure on the zero ideal of Cπ∗(A), so a similar trick can be used to simplify the verification above.)
􏰊τ 􏰊τ
In all, this shows that CL⊗ UL is a dg divided power algebra. Since CL⊗ UL is acyclic and minimal
as a complex, the last assertion is clear.
It follows from the lemma that the natural divided power structure on Uπ∗(R) gives rise to the divided
􏰁􏰂
􏰊
   􏰊
 Cπ∗(A) ∼ 􏰊 τ ∼
power structure of Tor􏰊 (k,k) = k⊗ (Cπ (A)⊗ Uπ (A)) = Uπ (R). This isomorphism is dual
∗ C􏰊π∗(A)∗∗∗ to the one given by theorem 4. We have finished the proof of theorem 15.

Chapter 3. Koszul Duality in Local Commutative Algebra 50
Example 4. Recall that Golod homomorphisms were discussed in section 2.7. Knowing from theorem 15 that our definition of the homotopy Lie algebra agrees with the usual one, it follows from [10, theorem (3.4)] that φ : R → S is Golod if and only if π∗(φ) is free as a graded Lie algebra.
Slightly extending the notion introduced by Avramov in [11] we also say that φ is generalised Golod of level n if the graded Lie algebra π>n(φ) is free. Thus, the Golod condition coincides with generalised Golod of level 0. It is not difficult to see that the conditions in proposition 5 are equivalent to being generalised Golod of level 1 (see proposition 9 for more detail).
Remark 8. A local ring R is Koszul if its residue field has finite linearity defect, in the sense of [57].
Equivalently, the graded algebra gr(R) is Koszul in the classical sense of section 2.3 (see remark 1.10 of
op. cit.). One can see using the proof of lemma 11 that R is Koszul if and only if gr(A) → gr(R) is a ≃
quasi-isomorphism whenever A −→ R is a minimal Cohen model. In particular, gr(R) can be recovered directly from the homotopy Lie algebra π∗(R) by taking H0(Cπ∗(R)).
Deviations of a Local Ring or Homomorphism
Let R → R⟨U⟩ → k be an acyclic closure of the residue field of R. Classically, the deviations of R have been defined as εn(R) = card(Un). By Gulliksen’s theorem 11 above there is an isomorphism k⟨U⟩ ∼= TorR∗ (k,k). It follows that the deviations are uniquely determined by the well-known formula
Pk (t) = 􏰢i≥1(1 + t2i)ε2i(R) ,
see [12, remark 7.1.1]. By theorem 15 the same formula characterises the numbers dimk πi(R). Taking
≃
a minimal model Q[X] −→ R and choosing a minimal set X0 of generators for mQ, we recover another theorem of Avramov that εn(R) = dimk πn(R) = card(Xn−1), see [9] or [12, proposition 7.2.3].
In [13, section 3] the deviations of a local homomorphism φ : (R, k) → (S, l) are (essentially) defined as εn(φ) = diml πn(φ). Theorem 15 allows one to express these invariants in terms of the Poincar ́e series of the dg algebra k ⊗LR S using exactly the same formula.
Functoriality of the Homotopy Lie Algebra
We end this section by describing briefly in what sense the homotopy Lie algebra is functorial. This is essentially classical, but (except for the absolute homotopy Lie algebra) details are difficult to find in the literature. So we sketch the arguments.
Suppose we have a commutative diagram of local homomorphisms
(R,k) φ (S,l) αβ
(T,t) ψ (U,u).
Following [15] we take a minimal Cohen factorisation T → T′ → U􏰊, then we form the fibre product T′ ×U􏰊 S􏰊. There is a natural homomorphism R → T′ ×U􏰊 S􏰊, and we can take a Cohen factorisation of this to obtain R → R􏰦′ → T′ ×U􏰊 S􏰊. Finally, if the induced factorisation R → R􏰦′ → S􏰊 is not minimal,
we can factor R′ = R􏰦′/(x) by a regular sequence x ⊆ m /m2 to obtain a minimal Cohen factorisation 􏰦′ ′
R → R ′ → S􏰊 .
􏰢 (1 + t2i−1)ε2i−1(R) R i≥1
     R R􏰦
  
Chapter 3. Koszul Duality in Local Commutative Algebra 51 We can then extend this construction to a diagram of minimal models
R
R􏰦 ′ [ Σ x , X ]
S􏰊
R′[X] ≃≃
≃
≃
         T ′ [ Y ] HavingdonethiswesetA=k⊗RR′[X]andA􏰦=k⊗RR􏰦′[X]andB=t⊗T T′[Y].
T
U􏰊 .
  Theorem 16. The induced map
π (φ)=Σm /m ⊗ u←−−H (Σm /m )⊗ u−→Σm /m =π (ψ)
2 ∼= 2 2
∗ A A l ∗ A􏰦 A􏰦 l B B ∗
is a homomorphism of Lie coalgebras over u. It is independent of all choices made, and we denote it by (α, β)∗ : π∗(φ) ⊗l u → π∗(ψ). By dualising we obtain a homomorphism (α, β)∗ : π∗(ψ) → π∗(φ) ⊗l u of Lie algebras.
If we have another diagram of local homomorphisms
(T,t) ψ (U,u) α′ β′
′′ψ′ ′′ (T , t ) (U , u ),
then ((α′, β′)∗ ⊗u u′)(α, β)∗ = ((α′α), (β′β))∗ : π∗(φ) ⊗l u′ → π∗(ψ′).
In many situations we can directly build compatible minimal Cohen models, see [91]. In this case it is clear from theorem 12 that (α,β)∗ is a homomorphism of Lie coalgebras.
The theorem can be proven by invoking theorem 15 to work instead with divided power Hopf algebras, after which this is essentially a classical theorem of Avramov [9, theorem 2.1].
≃≃
We sketch some details now. Let R → R⟨U⟩ −→ k and T → T⟨V⟩ −→ t be acyclic closures. The classical lifting property [55, lemma 1.8.6] allows us to lift k → t to R⟨V ⟩ → T ⟨W ⟩. By tensoring these homomorphisms together we get a diagram of dg algebras
S􏰊 ⟨ V ⟩
S􏰊 ⟨ V ⟩
    ≃≃
A R ′ [ X ] ⟨ U ⟩
     ≃≃
A􏰦 R􏰦 ′ [ Σ x , X ] ⟨ U ⟩
      ≃≃
B T′[Y]⟨W⟩ U􏰊⟨W⟩.
  with quasi-isomorphisms as indicated. Now we use the fact that TorC∗ (c,u) is a functor from local dg algebras (C, c) with a morphism c → u to the category of Hopf algebras over u with divided powers, and this functor takes quasi-isomorphisms to isomorphisms. The right column of the diagram is independent of the choice of Cohen factorisations and maps between them, while the left column is independent of

Chapter 3. Koszul Duality in Local Commutative Algebra 52
the choice of acyclic closure and lift between them. Thus applying this functor establishes independence and functoriality.
It remains to explain why the map described in the theorem is the same as the one induced by the functor Tor(−)(−, u) (after taking divided power indecomposables to recover π ). This is a technical fact
∗∗
which follows from the functoriality of the Tate model for the diagonal, proven in section 3.4. The result we need is theorem 22 from that section, which is really a version of [20, Theorem 3.4].
A local homomorphism φ : (R,k) → (S,l) also gives rise functorially to a homomorphism of Lie coalgebras which we will denote φ∗ : π∗(R) ⊗k l → π∗(S). It is dual to a homomorphism of Lie algebras φ∗ : π∗(S) → π∗(R) ⊗k l.
3.2 The L.S. Category of a Ring Homomorphism
To a local homomorphism φ : R → S we will associate a sequence of numbers cati(φ) for i = −1, 0, 1, 2..., which, in brief, can be thought of as the Lusternik-Schnirelmann category of the i-connected cover of the derived fibre of φ. The i-category can be a natural number, or it can be infinite. In this section we prove that this invariant is well-defined and we establish some of its basic properties.
The ideas in this section are old, and it should be considered mostly expository. However, the definitions given below do not seem to appear elsewhere in this generality, so the results are at least superficially new. Except for well-definedness of cat−1 and cat0, most of these these results follow without a great deal of fuss from known facts in the literature.
First, let us briefly describe the history of the L.S. category, beginning with topology. Much more detail can be found in [41] or [58].
Let X be a topological space. A subspace U of X is called contractible in X if the inclusion U → X is homotopic to a constant map. We then define the L.S. category of X to be the least integer m such that X can be covered by m + 1 open sets, each of which is contractible in X. This number is denoted cat(X) = m. If no such m exists then X has infinite L.S. category. The normalisation is chosen so that cat(X) = 0 precisely if X is contractible. Note also that cat(Sn) = 1 for the n-dimensional sphere Sn.
This invariant was introduced by Lusternik and Schnirelmann in [83], where it is shown that if X is a closed, smooth manifold then any smooth function on X has strictly more than cat(X) critical points. The L.S. category was imported to rational homotopy theory in the thesis of Lemaire [76]. After the ground-breaking work of F ́elix and Halperin in [38], the central position of L.S. category in rational homotopy theory was cemented. In short, a simply connected space X is called rational if all of the homotopy groups πi(X) are rational vector spaces, and crucially rational spaces can be represented algebraically by their Sullivan models, which are certain semi-free commutative dg algebras over Q. F ́elix and Halperin showed that for rational spaces L.S. category can be computed algebraically in terms of their Sullivan models. The definition given below for ring homomorphisms is a direct transcription of their characterisation. From this they were able to deduce the Mapping Theorem: if X → Y is a map of simply connected rational spaces such that each πi(X) → πi(Y ) is injective, then cat(X) ≤ cat(Y ). Further, they used the Mapping Theorem to prove the beautiful Dichotomy Theorem: if X is a simply connected rational space of finite category then the sequence of numbers dimQ πi(X) is either eventually zero, or it must grow exponentially.

Chapter 3. Koszul Duality in Local Commutative Algebra 53
Around the time of [38] Avramov and Roos began to uncover deep connections between local commu- tative algebra and rational homotopy theory. This has led to a great deal of collaboration and progress in both areas, some of which is described in the surveys [9] and [6]. As an example, Avramov in [13] has since established the local commutative algebra analogue of the Dichotomy Theorem: if φ : R → S is a local homomorphism of finite category, then either φ is complete intersection or the deviations εi(φ) grow exponentially (see also [20, corollary 5.5]). Another highlight is the so-called Five Author Paper of F ́elix, Halperin, Jacobsson, L ̈ofwall and Thomas [39], in which the authors use L.S. category to constrain the structure of the homotopy Lie algebra in both rational homotopy theory and local commutative algebra (see theorem 18 below).
We now define the i-category of a local homomorphism φ : R → S in stages, starting with category for dg algebras.
If (A, mA, k) is a local dg algebra then the category of A is the least integer m such that the quotient A → A/mm+1 factors as a split monomorphism followed by a surjective quasi-isomorphism. In other
A
words, cat(A) is the least m for which a diagram of local dg algebras exists ρ
AιB ≃
A/mm+1 A
in which the triangle commutes and ρι = 1. If no such m exists then by definition A has infinite category. While the definition makes sense for any local dg algebra, we will usually only apply it when A is a minimal model. That is, when ∂(mA) ⊆ m2A and A has the form Q[X] for a regular local ring Q and a graded set X in strictly positive degrees. It is these dg algebras for which category has the best properties. However, the extra generality is necessary and we will make no such assumption below unless
    explicitly mentioned.
Remark 9. Note that if cat(A) ≤ m then the maximal ideal mH∗(A) of H∗(A) satisfies mm+1 = 0, and
H∗ (A)
in particular the product of more than m positive degree elements must vanish. It is useful to have a
name for this nilpotency: if B is a local graded algebra then the Loewey length of B is the (possibly infinite) number
ll(B)=inf{i≥0:miB =0}.
So, the observation above may be rewritten as cat(A) ≥ ll(H∗(A)) − 1. However, finiteness of category
is a much stronger and more structural nilpotence condition than this. It says that, up to homotopy, A
is a retract of A/mm+1. A
≃
Remark 10. There is by proposition 4 a minimal semi-free model for the quotient A → A[Y ] −→ A/mm+1, and this model is unique up to isomorphism. If cat(A) = m then in fact this extension
A
A → A[Y ] admits a retract. This is because by the lifting property of lemma 5 there is an A algebra lift A[Y ] → B, which makes A → A[Y ] split via B. Hence, to establish the inequality cat(A) ≤ m we will
≃ m+1
always take the minimal model A → A[Y ] −→ A/mA and attempt to construct a splitting A ← A[Y ].
Remark 11. Let m ≤ n be two natural numbers and suppose that a retract exists as in the above
≃ n+1
diagram, demonstrating that cat(A) ≤ m. Then if A → A[Y ] −→ A/mA is a minimal model there is

Chapter 3. Koszul Duality in Local Commutative Algebra 54 also a retract A ← A[Y ]. This follows readily from the existence of the A algebra lift in the diagram
A[Y] B
   ≃
≃
A/mn+1 A/mm+1 . AA
Now suppose that (R, m, k) and (S, n, l) are local rings, and let φ : R → S be a local homomorphism. Let R → R′[X] → S􏰊 be a minimal Cohen model of φ, as in section 2.7. In particular, the fibre Q = R′/mR′ is regular and A = Q[X] = k⊗R R′[X] is a model for the derived fibre k⊗LR S. For a natural number i we define the i-category of φ to be
cati(φ) = cat(A/([mA]≤i))
where ([mA]≤i) is the ideal in A generated by all elements of mA with degree no more than i. In other words, cat−1(φ) is the category of Q[X], while cati(φ) is the category of l[X>i] = l[X]/(X≤i) for any i ≥ 0.
≃
We can also define the absolute i-category of a local ring by taking a minimal model A = Q[X] −→ R􏰊. Then exactly as before cati(R) = cat(A/([mA]≤i)) by definiton. If R is equicharacteristic we recover the absolute situation by considering a coefficient field k → R. That is, we have cati(R) = cati(k → R) for all i.
Remark 12. The homomorphism A → A/([mA]≤i) induces a map π∗(A/([mA]≤i)) → π∗(A) of graded Lie algebras, and by construction this will induce an isomorphism π∗(A/([mA]≤i)) ∼= π>i(A). In other words, the effect of factoring by ([mA]≤i) is to remove the homotopy groups π≤i(A). By analogy with topology we think of A/([mA]≤i) as the i-connected cover of A. Thus, the inequality cati(R) ≤ m says that the i-connected cover of R satisfies the strong (m + 1)-nilpotence condition described above.
Recall that when the extension k → l is separable any two minimal Cohen factorisations of R → S􏰊 are isomorphic, and hence A is determined up to isomorphism. In the general case, we need to establish that the numbers cati(R) and cati(φ) are well-defined.
Theorem 17. For all i the number cati(R) and cati(φ) is independent of the choice of minimal models. If R is a quotient of a regular local ring Q then the i-category may be computed using a minimal model
≃
 Q[X] −→ R (without completing R). Similarly, if φ admits a minimal regular factorisation R → T → S ≃
then the i-category may be computed using a minimal model T [Y ] −→ S (without completing S).
Note that the last statement applies in particular to surjective homomorphisms. To be more precise, the assertion is that cati (φ) = cat(T [Y ]/([mT [Y ] ]≤i )) for all i, where T is the fibre T /mT , even though cati(φ) is computed using a Cohen factorisation of the semi-completion φ` : R → S􏰊.
Let us point out that well-definedness of cati for i ≥ 1 is essentially proven by Avramov and Iyengar in [20, proposition 2.4]. The main difficulty will be in dealing with cat−1 and cat0. Since the proof of the theorem is long we delay it until the end of this section. Instead we start by discussing some properties of this invariant.
Firstly, the following fact is an immediate consequence of the mapping theorem, which will be stated later in this section (and proven in section 3.3).
   
Chapter 3. Koszul Duality in Local Commutative Algebra 55
Proposition 6. For any local homomorphism φ : R → S, the i-category decreases as i increases cat−1(φ) ≥ cat0(φ) ≥ cat1(φ) ≥ cat2(φ) · · ·
Remark 13. In [20] Avramov and Iyengar consider the weak category of a local homomorphism φ : R → S, which they define as follows
wcat(φ)=inf{m∈N : ll(H∗(A/([mA]≤i)))≤m+1foralli≥1},
where A = k⊗R R′[X] is the dg algebra constructed as above from a minimal Cohen model R → R′[X] → S􏰊. By the previous proposition wcat(φ) ≤ cat1(φ). Avramov and Iyengar show that finiteness of weak category suffices to establish good properties of the homotopy Lie algebra π∗(φ), and they prove that almost small homorphisms have finite weak category. In fact, it will be a consequence of the mapping theorem that almost small homomorphisms have finite 0-category. See corollary 3 for details and the definition of almost small homomorphisms.
Unsurprisingly, category and Loewy length are closely connected invariants. We have already ob- served that cat(A) ≥ ll(H∗(A)) − 1. In the other direction, the following lemma is extremely useful for bounding the i-category of a homomorphism.
If B is a local dg algebra then ll(B) is by definition the Loewy length of the underlying graded algebra. This is certainly not a quasi-ismorphism invariant. Rather, it is a property of a particular model for B.
Lemma 14. Let A and B be local dg algebras.
1. If there is a surjective quasi-isomorphism A → B then cat(A) ≤ ll(B) − 1. 2. If A is a retract of B then cat(A) ≤ cat(B).
≃ m+1 Proof. For 1 assume that ll(B) = m + 1 is finite. Let A → A[Y ] −→ A/mA
be a minimal model. Because mm+1 = 0 the homomorphism A → B factors through A/mm+1, as in the diagram
BA
 A A[Y] ≃
A/mm+1 B. A
Since A → B is a surjective quasi-isomorphism the standard lifting property from lemma 5 produces an A algebra splitting as showing in the diagram. A similar lifting argument easily establishes 2.
Note that cat−1(φ) = cat0(φ) for surjective homomorphisms. In general, cat−1(φ) is will be infinite unless the fibre S = S/mS is Artinian, because ll(S) ≤ cat−1(φ) + 1.
Example 5. Consider the homomorphism f : k􏰍f1, ..., fc􏰎 􏰐→ k􏰍x1, ..., xn􏰎 where f1, ..., fc is a regular se- quence in (x1, ..., xn)2. Then f is flat and the fibre A = k􏰍x1, ..., xn􏰎/(f1, ..., fc) is a complete intersection of codimension c. One can easily build a minimal Cohen factorisation
yi 􏰀→xi
k􏰍f1,...,fc􏰎 → k􏰍f1,...,fc,y1,...,yn􏰎 −−−−−→ k􏰍x1,...,xn􏰎.
        
Chapter 3. Koszul Duality in Local Commutative Algebra 56 Since the kernel of k􏰍f1, ..., fc, y1, ..., yn􏰎 → k􏰍x1, ..., xn􏰎 is generated by the regular sequence (f1(y) −
f1), ..., (fc(y) − fc) the homomorphism f is complete intersection in the sense of [13]. For a minimal ≃
model we have the Koszul complex k􏰍f1, ..., fc, y1, ..., yn􏰎[Z] −→ k􏰍x1, ..., xn􏰎 where Z = {z1, ..., zc} is a set of degree one variables with ∂(zi) = fi(y) − fi. Hence
cat−1(f) = cat(k􏰍y1, ..., yn􏰎[Z]), cat0(f) = cat(k[Z]) and cat≥1(f) = cat(k).
Thus cat≥1(f) = 0, and since k[Z] is an exterior algebra on c generators cat0(f) = c is the codimension of A. I claim that cat−1(f) = ll(A) − 1. Suppose that m + 1 = ll(A) is finite (this is equivalent to n = c). Then applying lemma 14 to the surjective quasi-isomorphism k􏰍y1,...,yn􏰎[Z] → A shows that cat−1(f) ≤ ll(A) − 1. As we have already mentioned the reverse inequality always holds, so this concludes the calculation of cati(f) for all i. Note that if the fi come from homogeneous forms in the standard graded polynomial algebra k[x1,...,xn] then (assuming n = c) the number cat−1(f) = ll(A)−1 is the socle degree of A, which is equal to the product deg(f1) · · · deg(fc).
On the other hand cat0(φ) is often finite even when the fibre S is not Artinian. As a consequence of the next proposition, this is always the case if R is regular.
Proposition 7. For any minimal model A such that A0 is a field we have cat(A) ≤ sup(A).
For a local ring R we have cat−1(R) = ll(R) − 1 and cat0(R) ≤ edim(R) − depth(R). In particular
cati(R) is always finite for i ≥ 0.
For a local homomorphism φ : R → S we have cat0(φ) ≤ fdRS + edim S/mS, where fdRS is the flat
dimension of S as an R module.
The analogous statement in rational homotopy theory is that a simply connected space X with finite dimensional cohomology H∗(X;Q) has finite rational category. This local algebra version is also essentially well known, compare [13, lemma 3.8] or [20, theorem 5.7].
Proof. Recall that m = sup(A) is by definition sup{i ∈ N : Hi(A) ̸= 0}. Define a graded subspace
I ⊆ A by setting Ii = Ai when i > m and Im = ∂(Am+1) and Ii = 0 when i < m. By construction I is
an acyclic ideal of A and hence A → A/I is a surjective quasi-isomorphism. But mm+1 = (A/I)m+1 ⊆ A/I >0
(A/I)≥m+1 = 0 so by lemma 14 cat(A) ≤ m.
For the second assertion we take a minimal model Q[X] → R􏰊. Then by lemma 14 cat−1(R) =
cat(Q[X]) ≤ ll(R)−1, and the other inequality is clear. Using the previous part cat0(R) = cat(k[X]) ≤ sup(k[X]) = pdQ(R) = edim(R) − depth(R).
≃
For the last assertion, take a minimal Cohen model R → R′[X] −→ S􏰊 and write Q = k ⊗R R′. By
definition of minimality dim Q = edim S/mS. Since Q[X] is a model for k ⊗LR S we have sup Q[X] =
fdRS. Now the 0-category of φ is cat(l[X]), which is bounded above by sup(l[X]). If K is the Koszul
 complex over Q on a minimal set of generators for mQ, then there is a quasi-isomorphism of complexes ≃
K ⊗Q Q[X] −→ k[X]. A simple spectral sequence argument now shows that sup(k[X]) = sup(K ⊗Q Q[X]) ≤ fdRS + dim Q. This establishes the inequality cat0(φ) ≤ fdRS + edim S/mS.
 The extent to which cat(A) only depends only on the Lie algebra π∗(A) is an interesting question. Example 5 shows that in general cat(A) cannot be computed from π∗(A): in the notation there π∗(f) only depends on the quadratic part of f while cat−1(f) does not. However a similar argument to the previous proposition yields the following result from the Five Author Paper [39].

Chapter 3. Koszul Duality in Local Commutative Algebra 57 Proposition 8. Let A be a complete minimal model and let L = π∗(A) be its homotopy Lie algebra.
Then cat(A) ≤ gldim(UL) where gldim(UL) is the global dimension sup􏰻i : ExtiUL(k,k)∗ ̸= 0􏰼.
Proof. We sketch the argument in [39]. If Ext>g (k,k)∗ = 0 then by theorem 14 also H>g(grA)∗ = 0. Let
UL
V ⊂ mg be any Q submodule whose image in mg /mg+1 is a complement to the kernel of ∂ : grg(A) → AAA
grg+1(A). Then I = V + mg+1 is an ideal in A and gr(I) is acyclic by construction. By lemma 1 I itself A
is acyclic, and just as in the proof above this forces cat(A) ≤ g.
The authors of [39] also show that depth(UL) ≤ cat(A), and that if this is an equality then so is cat(A) = gldim(UL).
An important theme is that it is desirable to have a homomorphism of finite i-category, and thus it is desirable to have theorems which bound category from above. This theme came up in the his- torical discussion above. For example, in the Five Author Paper it is shown that there are interesting consequences for the structure of the homotopy Lie algebra of a minimal model with finite category.
Theorem 18 (F ́elix-Halperin-Jacobsson-L ̈ofwall-Thomas [39, theorems B and C]). If A = k[X] is a minimal semi-free dg algebra over a field k such that cat(A) is finite, then the homotopy Lie algebra π∗(A) has finite dimensional radical, and
dim(rad(π∗(A))even) ≤ cat(A).
In particular this bounds the dimension of the centre of π∗(A). Let R be a local ring. By results of Avramov and Sun [22, theorem 5.3] and Avramov, Gasharov and Peeva [16, theorem 5.3] the complexity cxR(M) of any module M with finite complete intersection dimension is bounded above by the dimension of the degree 2 part of the centre of π∗(R). It follows in particular that cxR(M) ≤ cat0(R). Hence results which bound category above are potentially useful. A relative version of this fact involving π∗(φ) is also conceivable.
Another reason why it is desirable to have a homomorphism of finite category is that it allows one to construct long exact sequences of homotopy Lie algebras (see theorem 25 and the exact sequence (3.2) below it). This is proven in unpublished work of Avramov, see the discussion in [9] and [6]. Details for the case of a flat homomorphism are in [7]. Some details are also given below in section 3.5, where we discuss how to obtain long exact sequences in more general situations.
Aside from the question of finiteness, the values taken by i-category are interesting in their own right. The following proposition summarises in a few cases what it means for a homomorphism to have small i-category.
Recall that complete intersection homomorphisms, quasi-complete intersection (qci) homomorphisms and Golod homomorphisms were defined in section 2.7. The generalised Golod conditions were defined in example 4. In short, φ is generalised Golod of level i if the graded Lie algebra π>n(φ) is free.
Proposition 9. Let φ : (R, m, k) → (S, n, l) be a local homomorphism, then 1. cat−1(φ)=0 if and only if φ is flat and its fibre is a field.
2. cat0(φ) = 0 if and only if φ is weakly regular.
3. cat1(φ) = 0 if and only if φ is complete intersection.
 
Chapter 3. Koszul Duality in Local Commutative Algebra 58 4. cat2(φ) = 0 if and only if φ is quasi-complete intersection and either φ is a complete intersection
or k has characteristic zero.
5. cat−1(φ) ≤ 1 if and only if φ is Golod.
6. More generally cati(φ) ≤ 1 if and only if φ is generalised Golod of level i + 1.
Note that if the extension k → l is separable 1 means that φ is formally  ́etale, and if k → l is an isomorphism this means the completion φ􏰊 : R􏰊 → S􏰊 is an isomorphism. Similarly, in the separable case 2 means that φ is formally smooth.
Proof. The equivalences 1, 2 and 3 are all easy consequences of the definitions (but see [20, corollary 5.5] for more information on 3).
For 4, assume that char(k) = 0 and that φ is a quasi-complete intersection. Then we have a minimal ≃
Tate model R → R′⟨X⟩ −→ S􏰊 with X = X≤2. Since char(k) = 0 this is also a minimal Cohen model, so cat2(φ) = 0.
Conversely, suppose that cat2(φ) = 0 and φ is not complete intersection. Then we have a minimal ≃
Cohen model R → R′[X] −→ S􏰊 with X = X≤2. The key point is that the hypothesis guarantees that
R′[X] is minimal as a complex of R′ modules. Suppose towards a contradiction that k has characteristic
p > 0. Since φ is not complete intersection X2 contains some element x. If R′ is equicharacteristic
then we easily arrive at the contradiction that [xp] is a nontrivial class in H2p(R′[X]), even though
H∗(R′[X]) ∼= S􏰊. If R′ is not equicharacteristic, use Cohen’s theorem to obtain a surjection Q → R′ from ≃′
a regular local ring Q. Build a minimal model Q → Q[Y ] −→ R . By uniqueness of minimal models, ≃
this extends to a minimal model Q[Y] → Q[Y,X] −→ S􏰊 which is a lift of R′[X]. Now xp is a cycle in (Q/p)[Y,X]2p, and it cannot be a boundary since it maps to xp in (R′/p)[X]2p, which is nontrivial since (R′/p)[X]2p is minimal as a complex. This is a contradiction since (Q/p)[Y, X] ≃ (Q/p) ⊗LQ S􏰊 can have homology only in degrees 1 and 2. It follows that char(k) = 0, and the Tate model R′[X] = R′⟨X⟩ shows that φ is a quasi-complete intersection.
It remains to establish the equivalences 5 and 6. These will be straightforward corollaries of the results in [10]. We treat 6 since 5 is a special case.
≃
Let R → R′[X] −→ S􏰊 be a minimal model and define A = R′[X]/(m,[mR′[X]]≤i), so that cati(φ) =
cat(A). According to [10, theorem 3.4] A is a Golod dg algebra if and only π∗(A) ∼= π>i+1(φ) is free, if and only if H∗(mA) → H∗(mA/m2A) = mA/m2A = π∗(A) is injective. We will show that this last condition is equivalent to cat(A) ≤ 1. By definition if cat(A) ≤ 1 then H∗(mA) is a retract of H∗(mA/m2A) = mA/m2A, so this direction is clear. If H∗(mA) → mA/m2A is injective, chose any l vector space compliment Z in mA/m2A to the image of H∗(mA). The composition A → A/m2A → A/(m2A, Z) is then a surjective quasi-isomorphism, so cat(φ) ≤ 1 by lemma 14.
 The proposition should give some intuition on the behaviour of category. It may be instructive to

Chapter 3. Koszul Duality in Local Commutative Algebra 59
display the conditions cati(φ) = j in an array: 01···
   cat−1 cat0 cat1 cat2
.
flat with field fibre weakly regular complete intersection qci with char(k) = 0
Golod gen.Golod of level 1 gen. Golod of level 2 gen. Golod of level 3
    As we move downwards we see increasingly relaxed regularity conditions. However, even going down the first column we immediately run into the conjectures stated by Quillen in [96]. The first of these conjec- tures has been settled by Avramov [13], and using these ideas Avramov and Iyengar prove [20, corollary 5.5], showing that the first column of the table stabilises almost immediately under the assumption wcat(φ) < ∞: the conditions cati(φ) = 0 all imply that φ is complete intersection.
Moving to the right in the table one obtains increasingly relaxed Golod-like conditions. Intuition from Koszul duality is useful here: a trivial commutative algebra is Koszul dual to a free Lie algebra. As the derived fibre of φ becomes less trivial its category increases, and the Koszul dual Lie algebra π∗(φ) becomes less free.
We leave the absolute version of the proposition to the reader. In short, cat−1(R) = 0 only when R is a field; cat0(R) = 0 means that R is regular; and cat1(R) means that R is a complete intersection. The Golod terminology is slightly miss-matched: the strong condition cat−1(R) ≤ 1 is satisfied only when the multiplication of R is trivial, that is, when m2R = 0. Instead R is called a Golod local ring if cat0(R) ≤ 1 (we might also call R generalised Golod of level 1, since this is equivalent to π>1(R) being free).
By [11, theorem 1.5 and lemma 1.7] if R is generalised Golod of some finite level then every finitely generated module has a rational Poincar ́e series with a denominator which depends only on R.
Example 6. The generic short local ring is generalised Golod of level 2. Building on work of Conca [35], Avramov, Iyengar and S ̧ega [21] show that for a generic local ring (R, m, k) satisfying m3 = 0 there is a quadratic hypersurface ring (Q, n, k) and a surjective Golod homomorphism φ : Q → R whose kernel is contained in n2. Since φ is Golod it is small [8, theorem 3.5], and it follows that there is a short exact sequence of homotopy Lie algebras
0 → π∗(φ) → π∗(R) → π∗(Q) → 0
(this will be explained in section 3.5). Note that π∗(Q) is edim(Q) = edim(R) dimensional in degree 1 and one dimensional in degree 2, after which it vanishes. Now the fact that a sub-Lie algebra of a free Lie algebra is free implies π>2(R) is free (see [76, proposition A.1.10] and remark 15 below). Generically m2 ̸= 0 so φ is not an isomorphism, and it follows that π>1(R) is not free. At this point we can completely calculate the sequence cati(R):
cat−1(R)=2, cat0(R)=2 and cati(R)=1 foralli≥1.
On the other hand by results of Anick [3] and Avramov [11] short local rings exist which are not generalised Golod. These rings satisfy cati(R) = 2 for all i.
...

Chapter 3. Koszul Duality in Local Commutative Algebra 60
At the beginning of this section we alluded to the fact that theorems in rational homotopy theory have often produced analogous theorems in local commutative algebra, and vice versa. The local commutative algebra version of the Mapping Theorem has apparently been missing for some time. We will give a proof in this thesis.
Theorem (theorem 20 below). If φ : A → B is a surjective homomorphism of minimal models then catA ≥ catB.
Keeping in mind the inequalities sup(k[X]) ≥ cat(k[X]) ≥ llH∗(k[X]), this generalises a theorem of Avramov and Iyengar, which may be stated as follows.
Theorem 19 (Avramov-Iyengar [18, theorem 1.2]). If k[X] → k[Y ] is a surjection of minimal semi-free dg algebras over a field k, then
sup k[X] ≥ llH∗(k[Y ]) + 1.
Proof of Well-Definedness
To finish this section we will return to the proof of theorem 17, which says that the numbers cati(φ) associated to a local homomorphism φ : (R, m, k) → (S, n, l) are well-defined.
The main point is the following lemma, which we will set up now. If Q → P is a surjection of regular local rings, then the kernel is automatically generated by a regular sequence x in mQ 􏰒 m2Q. Let Q → Q[t] → P be the Koszul complex which resolves P over Q, where t is a set of variables in degree 1 with ∂(t) = x. Given a minimal semi-free extension Q[t] → Q[t, X], we can apply − ⊗Q[t] P to get a (quasi-isomorphic) minimal semi-free extension P → P[X].
Lemma 15. In the situation just described, cat Q[t, X ] = cat P [X ].
To establish this we first separate out the key technical observation.
Lemma 16. The natural surjection Q[t,X]/mm+1 → P[X]/mm+1 is a quasi-isomorphism Q[t,X] P[X]
Proof. We can simplify the situation by noting that it suffices to treat the codimension one case. In other words, we may assume that P = Q/(x) for a single non-zero-divisor x in mQ 􏰒 m2Q. In
x∂t m+1
particular the Koszul complex Q[t] looks like tQ −−→ Q. As a Q module Q[t,X]/mQ[t,X] is the di-
rect sum t(Q[X]/mm ) + (Q[X]/mm+1 ), but the differential has components crossing in both direc- Q[X ] Q[X ]
tions. To fix this we filter by setting F(i)(Q[X]/mm+1 ) = t(Q[X]/mm )≤i+1 + (Q[X]/mm+1 )≤i. We Q[X] Q[X] Q[X]
also filter P [X ]/mm+1 by degree, so F(i) = (P [X ]/mm+1 )≤i . By lemma 1 it suffices to show that P[X] P[X]
  gr(π) : gr(Q[t, X]/mm+1 ) → gr(P [X]/mm+1 ) is a quasi-isomorphism. Q[t,X] P [X]
like
m x∂t m+1 t(Q[X]/mQ[X]) −−−→ (Q[X]/mQ[X])
with only the differential x∂t as indicated, and gr(P[X]/mm+1) has no differential at all. It is clear P[X]
that the cokernel of x∂t is P[X]/mm+1. Thus to show that gr(γ) is a quasi-isomorphism we must show P[X]
mx m+1
that multiplication Q[X]/mQ[X] −→ Q[X]/mQ[X] is injective. This map diagonalises: both sides split
into a direct sum of Q modules generated by monomials in X, and multiplication by x respects this decomposition. So for a monomial M of weight i < m in SymiQ(X) ∼= (X)i/(X)i+1, we must show that
jx j+1 jxj+1 MQ/MmQ −→ MQ/MmQ is injective, where i + j = m. But this is isomorphic to Q/mQ −→ Q/mQ .
But gr(Q[t, X]/mm+1 Q[t,X]
) looks

Chapter 3. Koszul Duality in Local Commutative Algebra 61 Finally, this is injective because x is a non-zero-divisor in the associated graded ring grmQ, which is a
polynomial algebra since Q is regular.
Proof of lemma 15. First we deal with the inequality cat Q[t, X ] ≤ cat P [X ]. This is formal and applies to any sequence of extensions Q → Q[t] → Q[t, X ] with a quasi-isomorphism Q[t] → P , with no need for
≃
 regularity. SupposethatcatP[X]≤misfinite,andconstructminimalmodelsQ[t,X]→Q[t,X,Y]−→ m+1 ≃ m+1
Q[t,X]/mQ[t,X] and P[X] → P[X,Z] −→ P[X]/mP[X]. By the lifting property of semi-free extensions there is a Q[t, X] algebra map α : Q[t, X, Y ] → P [X, Z] as in the following commutative diagram
Q[t,X,Y] α P[X,Z] ≃
P [X ]/mm+1 . P[X]
By definition of category the map P[X] → P[X,Z] is split by some β : P[X,Z] → P[X]. Then we use the lifting property again on the following diagram of Q[t,X] algebra homomorphisms
Q[t,X] Q[t,X,Y] ≃
βα
P[X],
to produce a splitting Q[t, X, Y ] → Q[t, X]. This means that cat(Q[t, X]) ≤ m.
TheinequalitycatQ[t,X]≥catP[X]reliesmoreonthespecificsituation. SosupposecatQ[t,X]≤m is finite. First observe that using lemma 16 and the commutative square
Q[t, X, Y ] ≃ Q[t, X]/mm+1 Q[t,X ]
≃≃
P[X,Y] P[X]/mm+1, P[X]
thehomomorphismP[X,Y]→P[X]/mm+1 isaquasi-isomorphism. NowtakeaminimalmodelQ[t,X]→ P[X]
≃ m+1
Q[t, X, Y ] −→ Q[t, X]/mQ[t,X] with a splitting Q[t, X, Y ] → Q[t, X]. We apply − ⊗Q[t] P to get the dia-
          gram
 P[X] P[X,Y] ≃
   and this is witness to the inequality cat P [X ] ≤ m.
P [X ]/mm+1 , P[X]
 Proof of theorem 17. We treat only the relative situation, for a local homomorphism φ : R → S. The absolute statement is similar and slightly simpler.

Chapter 3. Koszul Duality in Local Commutative Algebra 62 Assume that we have two minimal Cohen factorisations connected by a deformation as in the diagram
R′
RAS
R′′ .
The fibres R′ = R′/mR′, R′′ = R′′/mR′′, and A = A/mA are all regular local rings.
Recall from the discussion in section 2.7 that up to isomorphism we may assume R′ = A/(x) and
R′′ = A/(y), where x and y are regular sequences in A which both descend to bases for (I + mA +
m2A)/(mA + m2A), with I being the kernel of A → S (see also [15, (1.5)]). Note that x and y can be
                 extended in the same way to a minimal generating set for I, so we may build a minimal model for ≃
A → S of the form A → A[s,X] = A[t,X] −→ S, where s and t are sequences of variables in degree 1 with ∂(s) = x and ∂(t) = y, and where s ∪ X and t ∪ X both freely generate A[s,X] = A[t,X]. We obtain minimal models
  ′ ≃ ≃ ′′
R [X] = A[s,X]/(x,s) ←−− A[s,X] = A[t,X] −−→ A[t,X]/(y,t) = R [X].
  For i ≥ 1 we have identifications R′[X]/(mR′ , X≤i) = A[s, X]/(mA, s, X≤i) = A[t, X]/(mA, t, X≤i) = R′′[X]/(mR′′ , X≤i). Hence in this case the dg algebras used to compute cati(φ) are all isomorphic. This argument appears already in [20, proposition 2.4].
For i = −1 we pass to fibres
R [X] ←−− A[s,X] = A[t,X] −−→ R [X].
Then the lemma says that cat(R′ [X ]) = cat(A[s, X ]) = cat(A[t, X ]) = cat(R′′ [X ]). This shows that cat−1(φ) is well-defined.
To deal with i = 0, let z be a regular sequence in A whose image in mA/m2 is a basis for a complement A
to the inclusion (I + mA + m2A)/(mA + m2A) 􏰐→ mA/m2 . By construction (z)R′ = mR′ and (z)R′′ = mR′′ . A
′≃ ≃′′
                    We obtain quasi-isomorphisms
l[s, X]/(s) ←−− (A/z)[s, X] = (A/z)[t, X] −−→ l[t, X]/(t).
At this point our notation could become misleading: l[X] = l[s,X]/(s) and l[X] = l[t,X]/(t) are isomorphic as algebras but their differentials will be different in general. In any case, we can use the lemma again to conclude that cat(l[s, X]/(s)) = cat((A/z)[s, X]) = cat((A/z)[t, X]) = cat(l[t, X]/(t)).
This establishes well-definedness of i-category for all i.
Knowing this, the final part of the theorem is dealt with by the following proposition.
Proposition 10. If A is a minimal model then cat(A) = cat(A􏰊).
Proof. Say A = Q[X] for some regular local ring Q, so that A􏰊 = Q􏰊[X].
Note that if Q is a field then A = A􏰊 and the proposition is obvious. This is the case when A is being
used to compute cati(φ) or cati(R) for any i ≥ 0. The difficultly is in dealing with i = −1.
≃≃
         
Chapter 3. Koszul Duality in Local Commutative Algebra 63 ≃ m+1
If cat(A) ≤ m then one can build a minimal model A → A[Y ] −→ A/mA with a splitting A[Y ] → A. Simply applying − ⊗Q Q􏰊 shows that cat(A􏰊) ≤ m. Hence cat(A) ≥ cat(A􏰊).
The key point for the reverse inequality is that if cat(Q􏰊[X]) ≤ m is finite then H0(A􏰊) = Q􏰊/(∂(X1)) =
(Q/(∂(X1)))􏰊 is Artinian, and hence so is H0(A) = Q/(∂(X1)), which means H0(A) is already complete.
It follows that A → A􏰊 is a quasi-isomorphism. This is because H∗(A􏰊) ∼= H∗(A) ⊗Q Q􏰊 ∼= H∗(Q[Y ])
since each Hi(Q[Y ]) is a finitely generated H0(A) = H0(A)􏰊 module. Next, since Q􏰊/(∂(X1)) is Artinian
there is a system of parameters x for Q􏰊 which lies in the kernel of Q􏰊 → S/mS. We can find a subset
z ⊆ X1Q􏰊 such that ∂(z) = x. Since Q􏰊 is Cohen-Macaulay x is automatically a regular sequence, so the
homomorphism Q􏰊[z] → Q􏰊/(x) is a quasi-isomorphism. Note that the composition Q → Q􏰊 → Q􏰊/(x) is
is a minimal model, and α : A􏰊[Y] → A􏰊 is a splitting, then we can β
A A[Y] ≃α
A􏰊 ≃
A􏰊/(x, z).
Since the composition A → A􏰊 → A􏰊/(x, z) is a surjective quasi-isomorphism, a A algebra lift β exists as
shown in the diagram, by lemma 5. This shows that cat(A) ≤ cat(A􏰊) and concludes the proof.
3.3 The Mapping Theorem
The purpose of this section is to prove the following theorem, which has been discussed already in the previous section.
Theorem 20. If φ : A → B is a surjective homomorphism of minimal models then catA ≥ catB.
Remark 14. Suppose that φ : A → B is a morphism of minimal models such that φ∗ : π∗(A) → π∗(B) is surjective. Then gr(A) → gr(B) is surjective, and it follows that φ􏰊 : A􏰊 → B􏰊 is surjective. According to the theorem cat A􏰊 ≥ cat B􏰊, and by proposition 10 we can conclude that cat A ≥ cat B. Therefore the hypotheses of the mapping theorem can be weakened to surjectivity of φ∗ : π∗(A) → π∗(B).
From now on we take A = Q[X] and B = P[Y ].
Both P and Q are regular local rings, so the kernel of Q → P is generated by a regular sequence
2≃
x in mQ 􏰒 mQ. Thus the Koszul complex Q → Q[t] −→ P with t = Σx is a model for P. We need a
theorem of Avramov and Iyengar which generalises Gulliksen and Schoeller’s theorem 11 from section 2.7, it explains how to extend this Koszul complex to an acyclic closure of φ.
Theorem (Avramov-Iyengar [18, theorem 1.1]). There are sets Y􏰦,Z ⊆ Q[X] which together freely generate Q[X ] = Q[Y􏰦 , Z ], such that the kernel of φ is (x, Z ) and φ maps Y􏰦 bijectively onto Y . Moreover
     surjective since Q􏰊/(x) is Artinian. ≃ m+1
 Now, if A → A[Y] −→ A/mA build the following diagram
          
Chapter 3. Koszul Duality in Local Commutative Algebra 64 φ admits an acyclic closure of the form
≃
Q [ X ] → Q [ X , t ] ⟨ U ⟩ −→ P [ Y ] where U is a graded set with a bijection ΣZ ∼= U, Σz 􏰀→ uz, such that
∂(uz) = z modulo 􏰃m2Q[X],mQ[X](U)(1)􏰄 for all z in Z.
We are treating t as a set of free exterior variables, but these are the same as odd divided power variables, so can freely switch between the two notations Q[X,t]⟨U⟩ = Q[X]⟨t,U⟩.
Since P → P[Y] is a semi-free extension and P[X]⟨U⟩ → P[Y] is a surjective quasi-isomorphism there is a P algebra splitting α : P[Y ] → P[X]⟨U⟩.
Lemma 17. In the above situation, the splitting satisfies α(Y ) ⊆ (mP [X ] )P [X ]⟨U ⟩.
Proof. We use induction on degree. Assume α(Y<n) ⊆ (mP[X])P[X]⟨U⟩. Our goal is to show that if y is in Yn then α(y) is in (mP[X])P[X]⟨U⟩ as well. By minimality ∂(y) ∈ m2P[Y ] so ∂(α(y)) = α(∂(y)) is in (m2P[X])P[X]⟨U⟩ by assumption. But we will show that this is impossible unless f = α(y) is in (mP[X])P[X]⟨U⟩.
P[X]⟨U⟩ has a P module basis of monomials in X and U with divided powers of elements of U, and an element is in (mP[X])P[X]⟨U⟩ precisely when all its monomials which are purely divided power monomials in U have coefficients from mP . So, if f is not in (mP[X])P[X]⟨U⟩ we may consider an element z in Z of maximal degree i such that uz appears in a divided power monomial with unit coefficient in f. Denote Z′ = Zi 􏰒 {z}. By considering each monomial in f separately, and using the precise descrip- tion of the differential described in Avramov and Iyengar’s theorem, we see that ∂(f) = zf′ modulo (mP ,X<n,Z′,m2P[X])P[X]⟨U⟩, where f′ is the sum of the divided power monomials in f involving Σz, each with the divided power exponent of Σz reduced by 1. But zf′ is not in (mP ,X<n,Z′,m2P[X])P[X]⟨U⟩, so we reach the contradiction that ∂(f) is not in (m2P[X])P[X]⟨U⟩. This completes the induction step.
Proof of theorem 20. If we assume that cat(Q[X]) = m is finite, then by definition we have a diagram of local dg algebras
Q[X] C ≃
Q[X ]/mm+1 Q[X ]
making Q[X] a retract of C. The only assumption we need to make about C is that x is regular on it, so that C ⊗Q Q[t] → (C/x) is a quasi-isomorphism. This is easy to arrange.
≃
We obtain a dg algebra C⟨t,U⟩ = C⊗Q[X]Q[X]⟨t,U⟩ and a quasi-isomorphism C⟨t,U⟩ −→ (C/x)⟨U⟩. Consider the two ideals I = (mC/x)(C/x)⟨U⟩ and J = (mP[X])P[X]⟨U⟩/(mm+1). From these we obtain
P[X]
the original statement).
With this setup, we separate the proof into two claims.
Claim 1: cat(A) ≤ m. Claim 2: P[Y ] is a retract of A. Having established these we will be done by lemma 14.
        P[X]
subalgebras A = P +I ⊆ (C/x)⟨U⟩ and B = P +J ⊆ P[X]⟨U⟩/(mm+1) (not the same A and B as in
   
Chapter 3. Koszul Duality in Local Commutative Algebra 65 ≃ m+1
We start with claim 1. Apply − ⊗Q[X] Q[X]⟨t,U⟩ to the quasi-isomorphism C −→ Q[X]/mQ[X] to ≃ m+1
get another one C⟨t,U⟩ −→ Q[t,X]⟨U⟩/(mQ[X]). We have a commutative diagram of dg algebras C⟨t, U⟩ ≃ Q[t, X]⟨U⟩/(mm+1 )
Q[X ]
≃≃
(C/x)⟨U⟩ P[X]⟨U⟩/(mm+1). Q[X ]
The left vertical arrow is a quasi-isomorphism by our assumption on C, and the right vertical arrow is a quasi-isomorphism by lemma 16. Hence the lower arrow is a quasi-isomorphism. Now we have two short exact sequences
0 I (C/x)⟨U⟩ k⟨U⟩ 0 ≃
0 J P[X]⟨U⟩/(mm+1) k⟨U⟩ 0. Q[X ]
By the five lemma the left-most map I → J is a surjective quasi-isomorphism. It follows that the homomorphism A → B is also a surjective quasi-isomorphism. Note also that ll(B) ≤ m + 1 since by construction Jm+1 = 0 . Therefore cat(A) ≤ m by lemma 14.
It remains to establish claim 2. If we apply −⊗Q[X]P[X]⟨U⟩ to the split monomorphism Q[X] → C we obtain a split monomorphism β : P[X]⟨U⟩ → (C/x)⟨U⟩. In the discussion before lemma 17 we remarked that P[Y] is a P algebra retract of P[X]⟨U⟩ via α. The composition βα is a split monomorphism as well, and by lemma 17 we have βα(Y ) ⊆ β((mP[X])P[X]⟨U⟩) ⊆ (mC/x)(C/x)⟨U⟩. Therefore βα factors through the subalgebra A:
                     P[Y] βα (C/x)⟨U⟩
A
     making P [Y ] a retract of A.
Remark 15. The mapping theorem can be seen as a generalisation of the fact that a sub-Lie algebra of
a free Lie algebra is itself free (see [76, proposition A.1.10]). Indeed, suppose that L′ is a sub-algebra of
a free graded Lie algebra L (concentrated in strictly positive degrees). Then one may construct minimal 􏰊∨ 􏰊′∨ ∗ ∗ ′
modelsA=C(L )andB=C(L )withπ (A)=Landπ (B)=L,andamorphismA→Binducing the inclusion L′ → L on homotopy Lie algebras. By the argument in the proof of proposition 9 we have cat(A) ≤ 1. Since L′ → L is injective A → B is surjective. Hence by the mapping theorem cat(B) ≤ 1 and therefore L′ is also free. Note however that Avramov does make use of this fact about Lie algebras for his characterisation of Golod dg algebras in [11].
Example 7 (Large homomorphisms). Levin [78] defined a surjective homomorphism φ : (R, k) → (S, k)
to be large if the induced map TorR∗ (k, k) → TorS∗ (k, k) is surjective. This is closely related to the
hypothesis of the mapping theorem. By theorem 3.4 in [20] (which appears with a simpler proof as
corollary 4 below), φ is large precisely if π∗(R) → π∗(S) is surjective. Taking compatible minimal ≃≃
models Q[X] −→ R􏰊 and P[Y ] −→ S􏰊 we see that R → S is large if and only the induced homomorphism Q[X] → P[Y ] is surjective. Hence by the mapping theorem cati(R) ≥ cati(S) for all i.

Chapter 3. Koszul Duality in Local Commutative Algebra 66
In general, given a sequence of local homomorphisms ψ : A → R and φ : R → S one might say that φ is large relative to A if φ∗ : π∗(ψ) → π∗(φψ) is surjective. In this case the mapping theorem says that cati(ψ) ≥ cati(φψ) for all i.
The following corollary strengthens [20, theorem 5.6]. It is a consequence of the mapping theorem and another theorem of Avramov and Iyengar.
Corollary 3. If φ : R → S is an almost small homomorphism then cat0(φ) ≤ edim(R) − depth(S) and cat1(φ) ≤ edim(S) − depth(S).
Theorem (Avramov-Iyengar [20, theorem 4.11]). Let φ : R → S be a surjective local map. Assume R has a minimal regular presentation Q → R, and choose a minimal set x ⊆ Q such that P = Q/x → S is a minimal regular presentation. Let Q[t] be the Koszul complex with t = Σx resolving P over Q. If φ is almost small, one can build the following commutative diagram in which every row, column and diagonal is a minimal model:
Q Q[t] ≃ P
Q[X] Q[t,X,T] ≃ P[X,Y] ≃≃≃≃
R R[t,Y] ≃ S.
In [20] minimality of the diagonal is not stated, but the proof explicitly shows that ∂(t,X,Y) ⊆
(mQ)+(t,X,Y)2.
Proof of corollary 3. Let R → R′ → S􏰊 be a minimal Cohen factorisation. By [20, proposition 4.8] the surjective homomorphism R′ → S􏰊 is almost small.
In the notation of the theorem applied to R′ → S􏰊, we have a surjection k[t, X, Y ] → k[t, Y ] of minimal semi-free dg algebras over k. By the mapping theorem and proposition 7
cat0(φ) = cat k[t, Y ] ≤ cat k[t, X, Y ] ≤ sup(k[t, X, Y ]) = pdQ(S􏰊)
and pdQ(S􏰊) = edim(R′) − depth(S􏰊) = edim(R) + edim(R′/mR′) − depth(S􏰊), with edim(R′/mR′) =
edim(S􏰊/mS􏰊) by minimality of the Cohen factorisation. Similarly
cat1(φ) = cat k[Y ]/(Y1) ≤ cat k[X, Y ] ≤ sup(k[X, Y ]) = pdP (S􏰊)
and pdP (S􏰊) = edim(S􏰊) − depth(S􏰊).
3.4 Functoriality of the Tate model for the diagonal
The main result of this section is theorem 21, which concerns functoriality of the Tate model for the diagonal.
In this section Q is a local ring and Q[X] is a semi-free Q algebra with X in positive degrees. Later on we will take Q to be regular, but we make no such assumption now. The Tate model for the diagonal was constructed in theorem 10. We state a slightly simplified version here:
                  
Chapter 3. Koszul Duality in Local Commutative Algebra 67
Theorem. Let Q → Q[X] be a semi-free extension of a local ring (Q,k) with X degree-wise finite and concentrated in strictly positive degrees. The multiplication map Q[X,X] → Q[X] has a Tate model of the form
Q[X, X] → Q[X, X]⟨ΣX⟩ → Q[X].
The differential satisfies ∂(Σx) = 1 ⊗ x − x ⊗ 1 − Σ∂1(x) modulo decomposables in m2Q[X,X]⟨ΣX⟩ + (ΣX)(2). If moreover Q → Q[X] is minimal as a semi-free extension then Q[X,X]⟨ΣX⟩ is minimal as a dg
module over Q[X, X].
Recall that in remark 1 it was briefly indicated that the Tate model for the diagonal can be constructed using twisting cochains, and from this perspective its form is a reflection of the Poincar ́e-Birkhoff-Witt theorem. Details on that construction will appear elsewhere.
Example 8. Let (R,k) be a local ring with a minimal regular presentation Q → R, and extend this
to a minimal model Q[X] → R. Let X0 denote some choice of minimal generating set for mQ. One
may also build an acyclic closure R → R⟨U⟩ → k of the residue field of R. The deviations of R are
by definition the numbers εn(R) = card(Un). Recall from section 3.1 that Avramov has shown that we
have card(Xn−1) = εn(R) for all n ≥ 1. A proof was sketched in section section 3.1. But one may also
deduce this from theorem 10, which produces a minimal Tate model Q[X, X] → Q[X, X]⟨ΣX⟩ → Q[X].
First, if K = Q⟨ΣX0⟩ is the Koszul complex with ∂(ΣX0) = X0, then the lifting property 5 applied to ≃
Q[X] → k ←− K provides a dg algebra morphism Q[X] → K. One may then apply − ⊗Q[X] K to ≃≃
the Tate model for the diagonal to obtain quasi-isomorphisms Q[X]⟨ΣX0,ΣX⟩ −→ K −→ k, which by ≃
adjunction gives a quasi-isomorphism R⟨ΣX0,ΣX⟩ −→ k. This is an acyclic closure which is witness to Avramov’s equalities.
Theorem 21. Let Q be a complete local ring and let ξ : Q[X] → Q[Y ] be a homomorphism of minimal semi-free Q algebras. Both Q[X] and Q[Y] have Tate models as in theorem 10, and ξ extends to a homomorphism of divided power algebras, as in the commutative diagram below
Q[X,X] ξ⊗ξ Q[Y,Y]
Q[X, X]⟨ΣX⟩ ξ􏰦 Q[Y, Y ]⟨ΣY ⟩
      Q[X] ξ Q[Y].
􏰦􏰦 2(2)
 , for x ∈ X. In the statement of the theorem ξ1 : XQ → Y Q is the strict part of ξ. That is, the part which
Moreover we can build ξ so that ξ(Σx) = Σξ1(x) modulo decomposables mQ[Y,Y ]⟨ΣY ⟩ + (ΣY ) preserves the weight decomposition Q[X] = 􏰅w SymwQ(X) and Q[Y ] = 􏰅w SymwQ(Y ).
Remark 16. The analogous theorem for a morphism of semi-free dg algebras Q[X] → P[Y] over a homomorphism Q → P follows from theorem 21 by adjunction.
Let us introduce some notation to use in the next lemma. We will denote by K the kernel of Q[X,X]⟨ΣX⟩ → Q[X], and K(n) is the ideal generated by (x ⊗ 1 − 1 ⊗ x) for all x ∈ X≤n, and all the divided powers (ΣX)(1). Note that K = 􏰇K(n). Because of the form of the differential in

Chapter 3. Koszul Duality in Local Commutative Algebra 68
the Tate model for the diagonal we have for any x ∈ Xn that ∂(Σx) = x⊗1−1⊗x+q where q ∈ K(n − 1) + mQK(n). Below we will also use the notation Dec = m2Q[X,X]⟨ΣX⟩ + (ΣX)(2) for decomposables, and sDec = (X ⊗ 1, 1 ⊗ X, ΣX)2 + mQ(ΣX)(1) + (ΣX)(2) for strongly decomposables.
Lemma 18.
1. Any element t in Dec ∩ K can be written as t = ∂(u) + v with u ∈ mQ(ΣX)(1) and v ∈ sDec. 2. Any element f in K can be written as f =∂(g)+h with both g,h∈(ΣX)(1).
Proof. For 1, assume that t has degree n. Then we can write t = 􏰆x∈Xn a1(x⊗1−1⊗x)+v0 = 􏰆 (a1∂(Σx) + a1t1) + v0 with a1 ∈ mQ and t1 ∈ Dec and v0 ∈ sDec (we are suppressing the indexes in these summations). I will show by induction that for all i we can write
t = 􏰈 (a1∂(Σx1) + ... + ai∂(Σxi) + aiti + v0 + a1v1 + ... + ai−1vi−1)
whereaj ∈miQ andtj ∈Dec∩Kandvj ∈sDecandallthexi areinXn. Thebasecasehasbeen dealt with. Next one writes ti = 􏰆a(x⊗1−1⊗x)+vi = 􏰆(a∂(Σx)+ati+1)+vi with a ∈ mQ and ti+1 ∈ Dec and vi ∈ sDec as before. Substituting this into the previous expression for t finishes the induction step. Part 1 is then established by setting u = a1Σx1 + a2Σx2 + ... and v = v0 + a1v1 + ... using completeness of Q.
For 2 it suffices to show the following instead: Any element f in K can be written as f = ∂(g) + h with g ∈ (ΣX)(1) and h ∈ (ΣX)(1) + mQK. Using completeness of Q a similar induction to part 1 will finish the proof.
Towards this we take f ∈ K(n), and proceed by induction on n. So write f = r+s with r ∈ (X≤n ⊗ 1 − 1 ⊗ X≤n) and s ∈ (ΣX)(1). It suffices to prove the lemma for r.
Write r = 􏰆x∈X≤n(x⊗1−1⊗x)a = 􏰆∂(Σx)a−􏰆qa, where the q ∈ K(n−1)+mQK(n) are as in the paragraph before the lemma, and a ∈ Q[X, X]⟨ΣX⟩. The first summation differs from 􏰆(Σx)∂(a) by ∂(􏰆(Σx)a), while the second summation is in K(n − 1) + mQK, so we are done by induction.
Recall that ∂(Σx) = x⊗1−1⊗x modulo Dec. This means ξ<n(∂(Σx)) = ξ1(x)⊗1−1⊗ξ1(x)+s = ∂(Σξ1(x)) + t, where s and t are in Dec.
Since t is a decomposable element in the kernel of Q[Y, Y ]⟨ΣY ⟩ → Q[Y ] we can write t = ∂(u) + v as
in part 1 of lemma 18. Note that v is automatically in the kernel K of Q[Y<n,Y<n]⟨ΣY<n⟩ → Q[Y<n].
Since t is a cycle so v. But K is acyclic so v = ∂(f) for some f in K. We apply part 2 of the lemma to get
 Proof of theorem 21. We just need to define ξ􏰦 on ΣX, which we do inductively. So assume we already 􏰦􏰦
have ξ<n : Q[X, X]⟨ΣX<n⟩ → Q[Y, Y ]⟨ΣY<n⟩. Fix x ∈ Xn. By lemmas 6 and 7, in order to define ξ(Σx) (1)
we must find an element y ∈ (ΣY )n whose boundary is ξ<n(∂(Σx)), and which has the form y = Σξ1(x) modulo Dec.
v = ∂(f − ∂(g)) with h = f − ∂(g) in (ΣY<n)(1). Having degree n + 1, h is automatically decomposable. 􏰦
􏰦
 Thus y = Σξ1(x) + u + h has the desired properties, and we set ξ(x) = y. The Functoriality of Avramov and Iyengar
In [20] Avramov and Iyengar state a theorem which they call a functorial enhancement of the equalities card(Xn−1) = εn(R). Their proof is extremely technical and spans more than six pages. Theorem 21 will allow us to give a shorter proof of their result, which we state after some setup.
􏰦

Chapter 3. Koszul Duality in Local Commutative Algebra 69 Let φ : (R,k) → (S,l) be a local homomorphism of complete local rings. Then R and S admit
compatible, minimal Cohen presentations as in the diagram below
QP
R S.
By the lifting property of lemma 5 one may extend this to a morphism of minimal models
QP
Q[X] ξ P[Y] ≃≃
R S.
And hence a morphism of minimal semifree dg algebras φsf : l[X] → l[Y]. At the same time, by a standard lifting property analogous to proposition 5 there is a morphism of acyclic closures
RS
R⟨U⟩ S⟨V⟩ ≃≃
k l.
And hence a morphism of free divided power algebras
TorR(k,l) TorS(l,l) φγ
l⟨U⟩ l⟨V⟩.
Corollary 4 (Avramov-Iyengar [20, Theorem 3.4]). In the above above situation, for every n ≥ 2 there
is a a commutative diagram of homomorphisms of l vector spaces
                      indn−1(l[X]) ∼=
indγn(l⟨U⟩) in which the vertical maps are isomorphisms.
indn−1(φsf )
indγn(φγ )
indn−1(l[Y ]) ∼=
indγn(l⟨V ⟩)
    Let ξ􏰦 : P[X,X]⟨ΣX⟩ → Q[Y,Y]⟨ΣY⟩ be the morphism of Tate models for the diagonal given by Remark 16. By uniqueness, we are free to use the construction of acyclic closures explained in example 8. So let s and t be minimal generating sets for mP and mQ respectively. Proposition 5 produces a
  
Chapter 3. Koszul Duality in Local Commutative Algebra 70 commutative diagram of dg algebras
Q[X] P[Y]
Q⟨Σt⟩ P ⟨Σt⟩
≃≃
k l.
From this one easily produces a morphism R⟨Σt,ΣX⟩ → S⟨Σs,ΣY⟩ of acyclic closures constructed as in 􏰦
           example 8. It is now clear from the description ξ(Σx) = Σξ1(x) modulo decomposables in theorem 21 that the following diagram commutes
indn−1(l[X]) lXn−1
indγn(l⟨t, ΣX⟩) lΣXn
thus we have deduced Avramov-Iyengar’s theorem from theorem 21.
Finally, we state a more general version of Avramov-Iyengar’s theorem, which can be established using the same proof. This version can be applied to the homotopy Lie algebra of a homomorphism, and in particular we needed it to establish theorem 16.
Let(P,m,k)and(Q,n,l)becompleteregularlocalrings,andletQ→A=Q[X]andP →B=Q[Y] be minimal semi-free extensions (we do not assume A or B are absolutely minimal). If we take a
≃
minimal generating set a for m and b for n then we can build acyclic closures A → A⟨Σa,ΣX⟩ −→ k and ≃
Theorem 22. In the notation above, a local homomorphism ξ : A → B induces a uniquely defined homomorphism Torξ : TorA∗ (k, l) → TorB∗ (l, l) of divided power Hopf algebras over l, and there is a commutative diagram
lYn−1 indn−1(l[Y ])
     lΣYn indγn(l⟨s, ΣY ⟩),
     B → B⟨Σb, ΣY ⟩ −→ l using theorem 10.
H∗(ΣmA/m2A) ⊗k l ∼=
indγTorA∗ (k,l)
Σind(ξ)
indγ(Torξ)
H∗(ΣmB/m2B) ∼=
indγTorB∗ (l,l).
    Non-minimality makes little difference since ΣmA/m2A can only have a differential at the first step. We include this because it was necessary for theorem 16.
The theorem follows from the existence of a homomorphism ξ􏰦 : A⟨Σa, ΣX⟩ → A⟨Σa, ΣX⟩ → B⟨Σb, ΣY ⟩ 􏰦
extending ξ, with the property that ξ(Σx) = Σξ(x) modulo decomposables. This is produced by theorem 21.
3.5 Some Long Exact Sequences
In this section we discuss long exact sequences for the homotopy Lie algebra (or coalgebra). In short, to
ψφ
a sequence (Q, u) −→ (R, k) −→ (S, l) of local homomorphisms one would like to associate a Jacobi-Zariski exact sequence
···→πi+1(φ)→πi(ψ)⊗k l→πi(φψ)→πi(φ)→πi−1(ψ)⊗k l→···

Chapter 3. Koszul Duality in Local Commutative Algebra 71
This is always possible when the residual characteristic is zero. In general however it is necessary to impose additional hypotheses on φ and ψ. We will introduce a variation π􏰦∗(−) which produces an analogous long exact sequence in all situations. Then we discuss the question of calculating this variation, and in particular of when π􏰦∗(−) agrees with π∗(−).
Gulliksen Minimality and Avramov’s Six-Term Exact Sequences
We first explain how Avramov established the existence of a long exact sequence of homotopy Lie algebras (in some circumstances) by building on work of Gulliksen. This subsection is essentially classical, if somewhat revisionist.
We begin with some definitions abstracted from [55, section 3]. We say that a semi-free extension A → A[X] is Gulliksen minimal if ∂(A[X]even) ⊆ mAB + m2A[X]. With divided powers the condition is reversed: a Tate extension A → A⟨U⟩ is called Gulliksen minimal if ∂(A⟨U⟩odd) ⊆ mAB + (U)(2).
Theorem 23 (Gulliksen [55, lemma 3.2.1 and theorem 3.2.3]). Let R → R⟨U⟩ be a Gulliksen minimal Tate extension of a local ring R. There is a minimal Tate extension R → R⟨V ⟩ and a surjective
≃
quasi-isomorphism R⟨U⟩ −→ R⟨V⟩ of divided power algebras which induces a quasi-isomorphism of indecomposables
γ≃γ
ind (R⟨U⟩)−→ind (R⟨V⟩).
Essentially the same proof shows the following semi-free version:
Theorem 24. Let R → R[X] be a Gulliksen minimal semi-free extension of a local ring R. There is
≃
a minimal semi-free extension R → R[Y ] and a surjective quasi-isomorphism R[X] −→ R[Y ] of divided power algebras which induces a quasi-isomorphism of indecomposables
2≃2 mR[X]/mR[X] −→ mR[Y ]/mR[Y ].
≃
Let φ : (R,k) → (S,l) be a local homomorphism, and build a minimal model Q[X] −→ R􏰊. At this
point we can take a minimal Cohen factorisation of the Q → Q′ → S􏰊 of the composition Q → R􏰊 → S􏰊.
Note that Q′ is automatically regular. Then we apply proposition 4 to the surjection Q′[X] → S􏰊 to ≃
obtain a minimal Cohen model Q[X] → Q′[X, Z] −→ S􏰊. Crucially, Q′[X, Z] can and typically does fail to be absolutely minimal, since the differential ∂(z) of z ∈ Z may involve indecomposables from Q′[X]. In
≃
any case, tensoring down produces a minimal model R􏰊 → R′[Z] = R ⊗Q[X] Q[X, Z] −→ S􏰊. The following
diagram summarises the situation
Q[X]
R φ S. In particular, we obtain a fibre sequence of semi-free dg algebras
Q[X] −→ Q′[X, Z] −→ Q[Z]
where Q[Z] = k ⊗Q[X] Q′[X, Z] = k ⊗R R′[Z]. By taking indecomposables we get a short exact sequence
Q′[X,Z]
≃
R′[Z] ≃≃
      􏰊􏰊
  
Chapter 3. Koszul Duality in Local Commutative Algebra 72
of chain complexes
0 −→ mQ[X] ⊗k l −→ mQ′[X,Z] −→ mQ[Z] −→ 0. (3.1) m2Q[X ] m2Q′ [X,Z ] m2
     Q[Z ]
Theorem 25 (Avramov). If wcat(φ) is finite then the extension Q′ → Q′[X, Z] is Gulliksen minimal.
A published proof of this is difficult to find. However, the case that φ is flat is in [7, theorem 1.1], and the proof there can be adapted to general case.
Having established Gulliksen’s condition, one constructs Avramov’s long exact sequence as follows. It follows from theorem 24 that there is a minimal semi-free extension Q′ → Q′[Y′] and surjective quasi-isomorphisms
′≃′′≃
Q [ X , Z ] −−→ Q [ Y ] −−→ S􏰊 ,
with the property that mQ′[X,Z]/m2Q′[X,Z] → mQ′[Y ′]/m2Q′[Y ′] is a quasi-isomorphism as well. If the
homomorphism Q′ → S􏰊 fails to be a minimal Cohen presentation then we may find a regular sequence
q ⊆ mQ′ 􏰒 m2Q′ such that P = Q′/q → S􏰊 is. After possibly making a change of basis, there is a
subsety⊆Y1′ with∂(y)=q. WesetY =Y′􏰒y,andthenwehaveaminimalCohenmodelP[Y]=
≃
Q′[Y ′]/(q, y) −→ S􏰊 and it is easy to see that the induced map of indecomposables
        ≃ mP [Y ] −−→ m2
P [Y ]
is a quasi-isomorphism as well (it is in isomorphism except in degrees 1 and 2, where we collapse a con- tractible subcomplex). Putting all this together, there is a natural isomorphism ΣH∗(mQ′[X,Z]/m2Q′[X,Z]) ∼= Σ(mP [Y ]/m2P [Y ]) ∼= π∗(S).
Observe that the Gulliksen minimality condition implies that the differential of mQ′[X,Z]/m2Q′[X,Z] vanishes on even elements. Therefore half of the connecting homomorphisms vanish in the long exact homology sequence associated to 3.1. After applying Σ this looks like
mQ′ [Y ′ ] m2
  0
π2i(R) ⊗k l π2i(S) π2i(φ)
Q′ [Y ′ ]
   δ
π2i−1(R) ⊗k l π2i−1(S) π2i−1(φ) 0. These are the six-term exact sequences of Avramov.
(3.2)
    Remark 17. When char(k) = 0 the conclusion of theorem 24 holds without any minimality hypothesis (this follows from [55, lemma 3.2.1]). In other words, taking indecomposables is an exact functor in characteristic zero. It follows that these six term exact sequences exist without any additional hypotheses on φ.
How one can patch these sequences together into a Jacobi-Zariski long exact sequence of relative homotopy Lie coalgebras is dealt with by proposition 11 and theorem 30.
Translating Between Semi-Free Models And Tate Models
The above sketch is historically somewhat apocryphal, since Avramov and Gulliksen both worked on the divided power side. We will describe now how the two approaches are directly connected.

Chapter 3. Koszul Duality in Local Commutative Algebra 73 ≃
First we recall that if R → R⟨U⟩ −→ k is an acyclic closure then there is a canonical isomorphsim πi(R) ∼= indγ(k⟨U⟩)i; see the discussion in section 3.1 or corollary 4, or one may deduce this from theorem 10 as we do now.
First recall the construction of the dg algebra Q′[X, Y ] as above, starting from the local homomor- phism φ : R → S. According to theorem 10 we have a Tate model for the diagonal
′ ≃′≃′≃
Q [X,Z,X,Z]⟨ΣX,ΣZ⟩ −−→ Q [X,Z] −−→ R [Z] −−→ S􏰊. ′≃′
Let Q [t] −→ l be the Koszul complex resolving l over the regular ring Q . The standard lifting property oflemma5producesaQ′ algebramapQ′[X,Z]→Q′[t]. NowwecanapplyQ′[t]⊗Q′[X,Z]−toobtain
′ ≃′≃
a quasi-isomorphism Q [t, X, Z]⟨ΣX, ΣZ⟩ −→ Q [t] −→ l, and by adjunction we get a quasi-isomorphism ≃
isomorphism
Therefore the semi-free extension Q′ → Q′[X,Z] is Gulliksen minimal if and only if the Tate extension S → S⟨t, ΣX, ΣZ⟩ is Gulliksen minimal. This explains the shift between the two definitions of Gulliksen minimality.
≃
S􏰊⟨t,ΣX,ΣZ⟩ −→ l.
This is a Tate model for S􏰊 → l. By the description of the differential in theorem 10 there is a canonical
􏰽m′ 􏰾
Q [X,Z] ∼ γ
Σ m2 =ind (l⟨t,ΣX,ΣZ⟩). Q′[X,Z]
 We use the same construction to build an acyclic closure R􏰊 → R􏰊⟨s,ΣX⟩ −→ k, starting from the ≃
Koszul complex Q[s] −→ k. We use theorem 21 (and remark 16) to produce a morphism of divided power algebras ξ : Q[X, X]⟨ΣX⟩ → Q′[X, Z, X, Z]⟨ΣX, ΣZ⟩ compatible with the inclusion Q[X] → Q′[X, Z] such that ξ(Σx) = Σx for x ∈ X. This is enough to witness the Tate extension S􏰊 → S􏰊⟨t,ΣX,ΣZ⟩ as the composition of two minimal Tate extensions
S􏰊 → S􏰊⟨s, ΣX⟩ → S􏰊⟨s, r, ΣX, ΣZ⟩ with t = s ∪ r. The result is a fibre sequence of divided power algebras
l⟨s, ΣX⟩ → l⟨s, r, ΣX, ΣZ⟩ → l⟨r, ΣZ⟩.
Much as in the semi-free case one obtains a short exact sequence of indecomposables, and from here one can hope to obtain a long exact sequence of homotopy Lie coalgebras. Avramov argues directly in [7, theorem 1.1] (in the case that φ is flat) that l⟨s, r, ΣX, ΣZ⟩ is Gulliksen minimal, and obtains his six-term exact sequences by these means.
We have shown that by going through the Tate model for the diagonal one can translate between semi-free models and Tate models, with Gulliksen minimality being equivalent on either side. Both sides have advantages, but it seems that the semi-free side is more intuitive.
The Six-Term Exact Sequences for πγ∗(φ)
≃
When φ : R → S is surjective one can take an acyclic closure R → R⟨U⟩ −→ S. Then we can take the fibre k⟨U⟩ = k ⊗R R⟨U⟩ ≃ k ⊗LR S. Thinking of this as a divided power analogue of the minimal model

Chapter 3. Koszul Duality in Local Commutative Algebra 74 for S over R, we define
πγ∗(φ) = Σindγk⟨U⟩
The uniqueness of acyclic closures makes πγ∗(φ) well-defined. Certainly nothing like theorem 15 holds
for this object, but the following considerations make πγ∗(φ) a useful computational tool. ≃
We continue R⟨U⟩ to an acyclic closure R⟨U⟩ → R⟨U,V⟩ −→ k. Base changing reveals an acyclic ≃γ
closure S⟨V ⟩ −→ k. In order to compare π∗(φ) with π∗(S) and π∗(R) we need to understand the extent ≃
to which the Tate model R → R⟨U, V ⟩ −→ k can fail to be minimal. Avramov remarks that his proof of [7, theorem 1.1] shows the following theorem.
Theorem 26 (Avramov [7, remark 1.10]). If R → S admits an acyclic closure which is minimal as a complex of R modules, then R → R⟨U, V ⟩ is Gulliksen minimal. Therefore from the short exact sequence
0 −→ indγ (k⟨U ⟩) −→ indγ (k⟨U, V ⟩) −→ indγ (k⟨V ⟩) −→ 0
we obtain a long exact homology sequence which splits into six-term exact sequences
0 πγ2i+1 (φ) π2i (R) π2i (S )
δ π γ2 i ( φ ) π 2 i − 1 ( R ) π 2 i − 1 ( S ) 0 .
(3.3)
       The theorem applies in particular to large homomorphisms by [78, theorem 2.5] (large homomor- phisms were independently proven to have this property by Avramov and Rahbar-Rochandel, according to loc. cit.)
Example 9. Recall from section 2.7 that a surjective homomorphism φ : R → S with kernel I is a quasi-complete intersection if its two-step Tate model is acyclic. In other words, it admits an acyclic
≃
closure R → R⟨U1,U2⟩ −→ S. In this case minimality forces R⟨U1,U2⟩ to be minimal as a complex, therefore theorem 26 applies in this situation. It is clear that πγ1(φ) = 0, πγ2(φ) ∼= kU1 ∼= k ⊗S I/I2 and πγ3(φ) ∼= kU2 ∼= k ⊗S H1 where H1 = H1(R⟨U1⟩) is the first Koszul homology of I (see [28]). In fact, it follows readily from the definitions that quasi-complete intersections are characterised by the vanishing of πγ≥4(φ), see theorem 33 for a variation on this. We obtain an exact sequence
φ2 2φ1
0−→k⊗S H1 −−→π2(R)−→π2(S)−→k⊗S I/I −→π1(R)−−→π1(S)−→0,
and isomorphisms φi : πi(R) ∼= πi(S) for i ≥ 3. This appears as [17, theorem 5.3]. The case of a map of embedded deformations (which are natural examples of qci homomorphisms, see [17]) appears already in [7, remark 1.10] (but note that qci homomorphisms had not been defined at the time of op. cit.)
The lifting property of lemma 5 means that a minimal model and an acyclic closure can always be compared:
R R⟨U⟩ ≃
R[X] ≃ S.
Passing to fibres produces a homomorphism k[X] → k⟨U⟩, and then taking indecomposables builds the comparison map π∗(φ) → πγ(φ). This map will be an isomorphism in characteristic zero (by uniqueness
     
Chapter 3. Koszul Duality in Local Commutative Algebra 75
of minimal models) or when φ is complete intersection, But in general it will fail dramatically to be so. Below we factor this comparison through another variation π􏰦∗(φ) which has the advantage of producing exact sequences in all situations (and the disadvantage of being slightly more mysterious).
The Mixed Version of Gulliksen’s Theorem
Now we state a mixed version of the two theorems 23 and 24. It could easily be expanded to include these theorems as special cases, but for notational convenience we refrain from doing so.
Theorem 27. Let R → R[X] be a minimal semi-free extension of a local ring (R,k), and let R[X] → R[X]⟨U⟩ be a minimal Tate extension. There is a semi-free mixed extension R → R[Y ]⟨V ⟩ such that
1. the extension is minimal in the sense that the differential of indγ (k[Y ]⟨V ⟩) vanishes; ≃
2. there is a surjective quasi-isomorphism φ : R[X]⟨U⟩ −→ R[Y]⟨V⟩ of dg R algebras with divided powers on (U )(1) and (V )(1) respectively;
3. and φ induces a quasi-isomorphism γγ≃γ
ind (k ⊗R φ) : ind (k[X]⟨U⟩) −−→ ind (k[Y ]⟨V ⟩).
Our notation could be ambiguous, so let us emphasise that we do not claim that the reduced mixed extension R → R[Y ]⟨V ⟩ can be obtained as a composition R → R[Y ] → R[Y ]⟨V ⟩ (i.e. ∂(Y ) could involve terms from W). The proof doesn’t show this, and we don’t use it below.
We need the following lemma, which is a direct consequence of lemma 8.
Lemma 19. Let R[X]⟨U⟩ be a mixed extension of a local ring (R,k) and suppose X′ → R[X]⟨U⟩ and U′ → (U)(1) are two graded functions from positively graded sets. Then the induced map R[X′]⟨U′⟩ → R[X]⟨U⟩ is an isomorphism if and only if the induced function
X′ ∪U′ →indγ(k[X]⟨U⟩) makes X′ ∪U′ a basis of the k vector space indγ(k[X]⟨U⟩).
Proof of theorem 27. As a graded vector space indγ(k[X]⟨U⟩) ∼= kX + kU. Since the two extensions indγ (∂)
k → k[X] and k[X] → k[X]⟨U⟩ are minimal the differential looks like kX ←−−−− kU (i.e. all other components of indγ(∂) vanish with respect to this decomposition). Let U′ ⊆ kU be a basis for the kernel of indγ(∂) : kU → kX and let V ⊆ kU be a basis for any k linear complement to kU′. Choose a lift f : U′ ∪ V → (U)(1) and set X′ = ∂(f(U′)) ⊆ R[X]⟨U⟩. Note that the image of X′ in indγ(k[X]⟨U⟩) is precisely indγ(∂)(U′) ⊆ kX. Finally, choose a subset Y ⊆ kX which freely spans a complement to k(indγ(∂)(U′)), and a lift g : Y → R[X]⟨U⟩.
Togetherf andginduceahomomorphismofgradedalgebrasR[X′,Y]⟨U′,V⟩→R[X]⟨U⟩(forgetting the differential or now). By lemma 19 this homomorphism is an isomorphism.
It follows that the composition
φ : R[Y ]⟨V ⟩ 􏰐→ R[X ′ , Y ]⟨U ′ , V ⟩ → R[X ]⟨U ⟩ → R[X ]⟨U ⟩/(X ′ , (f (U ))(1) )

Chapter 3. Koszul Duality in Local Commutative Algebra 76
is an isomorphism as well. But now note that by construction the ideal (X′,(f(U))(1)) is closed under the differential of R[X]⟨U⟩. In this way R[Y ]⟨V ⟩ obtains a well-defined differential making it a dg algebra with divided powers supported on (V)(1), and there is a surjective homomorphism φ : R[X]⟨U⟩ → R[Y ]⟨V ⟩ of dg algebras with divided powers.
By construction the differential of indγ (k[Y ]⟨V ⟩) ∼= kY + kV vanishes, so condition 1 is clear.
It is also clear that indγ(k[X]⟨U⟩) → indγ(k[Y ]⟨V ⟩) is a quasi-isomorphism, because by construction
this map kX + kU → kY + kV simply collapses the contractible subcomplex kX′ + kU′, so 3 holds also.
It remains to show that φ is a quasi-isomorphism. By the derived Nakayama lemma it suffices to show thatk⊗φ:k[X]⟨U⟩→k[Y]⟨V⟩isaquasi-isomorphism. Thisisanotherapplicationoflemma1. Weuse the weight filtration with k[X]⟨U⟩(n) = 􏰆i+j=n(X)i(U)(j) and k[Y ]⟨V ⟩(n) = 􏰆i+j=n(Y )i(V )(j). After passing to the associated graded algebras the differential of k[Y ]⟨V ⟩ vanishes, while gr(k[X]⟨U⟩) becomes isomorphic to k[Y ]⟨V ⟩ ⊗ k[X′]⟨U′ : ∂(U′) = X′⟩. It is well-known that k[X′]⟨U′ : ∂(U′) = X′⟩ ≃ k is acyclic (see for example [39, proposition 1.9]), and part 2 follows.
Definition of π􏰦∗(φ) and Long Exact Sequences
In general a local homomorphism will fail dramatically to induce a long exact sequence of homotopy Lie coalgebras like 3.2 (see for example [9]). In this section we present a modification of the homotopy Lie coalgebra which will produce a long exact sequence in all situations.
It is well-known that the Andr ́e-Quillen (co)homology functors also repair this defect. By simplicial methods Andr ́e and Quillen independently associated a graded Lie algebra D∗(φ; l) to a local homomor- phism φ : (R, k) → (S, l) (and more generally). The excellent formal properties of these functors is the foundation for many important results in commutative algebra and algebraic geometry.
There is a natural homomorphism of graded Lie algebras D∗(φ; k) → π∗(φ) (see [2] for the absolute situation). This comparison map is an isomorphism when char(l) = 0 and always in low degrees (see [96]).
However D∗(φ;l) can be very difficult to compute, and it often produce strange results from the perspective of Koszul duality. For instance, if k is the field with two elements and φ is the inclusion k → k[x, y]/(x, y)2 then the difficult calculation of D∗(φ; k) is performed by Goerss in [48]. On the other hand π∗(φ) is the free Lie algebra on two elements of degree 1, as predicted by Koszul duality.
∗∼∗ ∗ cases. For example π􏰦 (φ) = π (φ) will be a free Lie algebra whenever φ is Golod. Homotopically π􏰦 (φ)
does not appear to have any significant meaning (there is no analogue of theorem 15), but it seems to be computationally quite useful.
We can give some intuition as follows. π∗(φ) only depends on the derived fibre k ⊗LR S, and somehow this doesn’t seem to be enough data to extract a long exact sequence (except in characteristic zero). We will construct a mixed model for k ⊗LR S, and π􏰦∗(φ) will be given by the (shifted) indecomposables of this mixed model. The way the semi-free and divided power structures are made to interact uses slightly more information about the homomorphism φ, and results in a long exact sequence in all situations. Roughly, we will see that π􏰦∗(φ) interpolates between π∗(φ) and πγ∗(φ).
All this said, we start with an extremely simple definition of π􏰦∗(−) which may make it appear unlikely
 ∗∗
The variation π􏰦 (φ) we present in this section shares some of the good properties of D (φ, l) while being much more computable, and while giving the expected Koszul duality results in some important

Chapter 3. Koszul Duality in Local Commutative Algebra 77 to be useful. If φ : (R, k) → (S, l) is a local homomorphism then we set
π􏰦∗(φ) = H∗(cone(φ∗ : π∗(R) ⊗k l → π∗(S))). ∗∨
One can equally well define π􏰦 (φ) = π􏰦∗(φ) , but we will work homologically in this section. Almost tautologically there is a long exact sequence
···→π􏰦i+1(φ)→πi(R)⊗k l→πi(S)→π􏰦i(φ)→πi−1(R)⊗k l→··· (3.4) associated to any local homomorphism. We can slightly generalise this as follows:
ψφ
Proposition 11. Let (Q, u) −→ (R, k) −→ (S, l) be a sequence of local homomorphisms. There is a long exact sequence
···→π􏰦i+1(φ)→π􏰦i(ψ)⊗k l→π􏰦i(φψ)→π􏰦i(φ)→π􏰦i−1(ψ)⊗k l→···
Proof. This is an immediate consequence of the Octahedral axiom (which certainly holds for complexes of l vector spaces). As stated for example in [85], it says that the two unraveled triangles (long exact sequences from 3.4) below can be interlaced with a third, indicated by the dashed arrows
   π∗(Q) ⊗u l
···
Σ−1π􏰦∗(φ)
π∗(R)⊗k l
π∗(S)
π􏰦∗(ψ) ⊗k l
π􏰦∗(φψ)
π􏰦∗(φ)
Σπ∗(Q) ⊗u l
Σπ∗(R)⊗k l
Σπ􏰦∗(ψ) ⊗k l ··· Σπ∗(S).
                The real interest of this proposition comes from the fact that there is a natural map π∗(φ) → π􏰦∗(φ), and that this map is often an isomorphism. This is our strategy for uncovering Jacobi-Zariski exact sequences for the homotopy Lie algebra. By these means π􏰦∗(φ) is a potentially useful computational tool.
An Alternative Construction for π􏰦∗(φ)
As before we start with a local homomorphism φ : (R,k) → (S,l). The key to calculating π􏰦∗(φ) is an alternative construction which explains how it interpolates between π∗(φ) and πγ∗(φ) (see also theorem 30 specifically).
We show in particular that now there is a natural model F for the (completed) fibre k ⊗L S􏰊 such R􏰊
that indγ(F) = π􏰦∗(φ). As above we repeatedly use the Tate model for diagonal to mediate between free extensions and divided powers.
≃
As before we take a minimal Cohen model Q[X] −→ R􏰊. Then using a minimal Cohen factorisation

Chapter 3. Koszul Duality in Local Commutative Algebra 78 Q → Q′ → S􏰊 we obtain a minimal Cohen presentation P = Q′/q → S􏰊 (the regular sequence q is as
above, in the construction of Avramov’s six-term exact sequences). Then we extend to a minimal model
≃
P → P [Y ] −→ S􏰊. The basic lifting property of lemma 5 produces a diagram
Q[X] φ􏰦 P[Y]
≃≃
     R φ􏰊 S
 􏰊􏰊
≃
which can be used to define φ∗ : π∗(R) → π∗(S). Similarly, if Q[t] −→ k is the Koszul complex on a
minimal set x of generators for mQ, then there is a homomorphism of Q algebras Q[X] → Q[t] lifting the quotient homomorphism Q[X] → k.
≃
 We use theorem 10 to build Q[X,X]⟨ΣX⟩ −→ Q[X] with ∂(Σx) = x modulo decomposables, for x ∈ X. ≃
From this we apply Q[t] ⊗Q[X ] − to obtain a quasi-isomorphism Q[t, X ]⟨ΣX ⟩ −→ Q[t], and finally we use φ􏰦 to apply − ⊗Q[X ] P [Y ] and build P [Y ]⟨t, ΣX ⟩.
≃≃≃
Note that through Q[X] −→ R􏰊 there are natural quasi-isomorphsims Q[t,X]⟨ΣX⟩ −→ R􏰊⟨t,ΣX⟩ −→ k. ≃
ThroughP[Y]−→S􏰊isalsoanaturalquasi-isomorphismP[Y]⟨t,ΣX⟩→S􏰊⟨t,ΣX⟩∼=S􏰊⊗R􏰊R􏰊⟨t,ΣX⟩. Hence thedgalgebraP[Y]⟨t,ΣX⟩isamodelforthederivedtensorproductS􏰊⊗L k.
R􏰊
Finally, we examine the differential of P[Y]⟨t,ΣX⟩. Firstly ∂(t) is determined by the image of x
 under Q → P. Next, for x ∈ X we have ∂(Σx) = φ(x) modulo decomposable elements, thanks to the description of the differential in theorem 10. Putting all these facts together one obtains the following
􏰦
Theorem 28. Let (R,k) → (S,l) be a local homomorphism. The dg algebra P[Y]⟨t,ΣX⟩ constructed above is naturally a model for S􏰊 ⊗L k. There is a canonical isomorphism
R􏰊
􏰽m indγ(∂) m 􏰾
Σindγ(P[Y]⟨t,ΣX⟩)∼=Σ ( P +lY)←−−−−−−(l⊗ Q +lX) ∼=cone(φ :π (R)⊗ l→π (S)), m2 km2 ∗∗ k ∗
  PQ and therefore π􏰦∗ (φ) ∼= ΣH∗ (indγ (P [Y ]⟨t, ΣX ⟩)).
We use this description of π􏰦∗(φ) to build the comparison maps in the following theorem. In it we
continue to use the notation from the constructions made above. Note also that by base-changing the
minimal Cohen factorisation Q → Q′ → S􏰊 along Q → R􏰊 we obtain a minimal Cohen factorisation ≃
R􏰊→R′ →S􏰊. WeextendthistoaminimalCohenmodelR→R′[Z]−→S􏰊. Thefibrek⊗QQ′ ∼=k⊗R􏰊R′ will be denoted Q. The dg algebra Q[Z] is a minimal model and by definition π∗(φ) = π∗(Q[Z]).
   Theorem 29. There are quasi-isomorphisms of dg algebras ≃′≃
 Q[Z ] ←−− Q [t, Z ] −−→ P [Y ]⟨t, ΣX ⟩
which induce the identity map on TorR􏰊(S􏰊,k). Taking indecomposables produces a comparison map
∗
π∗(φ) −→ π􏰦∗(φ).
≃
Assume that φ is surjective and take an acyclic closure R⟨U⟩ −→ S. There is a quasi-isomorphism
P[Y ]⟨t,ΣX⟩ −−→ k⟨U⟩
≃

Chapter 3. Koszul Duality in Local Commutative Algebra 79 of dg algebras with divided powers supported on (t,ΣX)(1) and (U)(1) respectively, which again induces
the identity on TorR􏰊(S􏰊,k). Taking indecomposables produces a comparison map ∗
π􏰦 ∗ ( φ ) − → π γ∗ ( φ ) . ≃
Proof. We may take a minimal model Q′[X] → Q′[X, Z] −→ S􏰊 and then obtain R′[Z] as R⊗Q[X] Q′[X, Z]. ≃
Recall that Q[t] −→ k is the Koszul complex of Q and that we have a homomorphism Q[X] → Q[t] ′′≃′
of Q algebras. It extends to a homomorphism Q [X] → Q [t] −→ k ⊗Q Q . Note that there is a natural quasi-isomorphism
′′′≃′′
 Q[t,Z]=Q[t]⊗Q′[X] Q[X,Z]−→(k⊗Q Q)⊗Q′[X] Q[X,Z]=Q[Z].
This constructs the first quasi-isomorphism in the theorem. It is easy to see that this homomorphism induces a quasi-isomorphism upon taking indecomposables:
mQ′ [t,Z ] m2
≃ mQ[Z ] −−→ m2 .
   Q′ [t,Z ]
Because this map is an isomorphism except in degrees 0 and 1 where it collapses the contractible
∂
subcomplex l · (x) ←− l · (t).
Intermediate to the construction of the mixed model P[Y]⟨t,ΣX⟩ we can build the dg algebra
P[X,Y]⟨ΣX⟩ = Q[X,X]⟨ΣX⟩⊗Q[X] P[Y]. It comes with a homomorphism from Q′[X] (using the re-
 Q[Z ]
 maining copy of X on the left and the surjection Q′ → P ) and a natural surjective quasi-isomorphism ≃
P [ X , Y ] ⟨ Σ X ⟩ −→ S􏰊 .
Now lemma 5 produces a lift
Q′[X] P[X,Y]⟨ΣX⟩
≃ (3.5)
    Q ′ [ X , Z ]
≃
S􏰊 .
 Applying Q′[t]⊗Q′[X] − to this lift produces the desired map Q′[t,Z] → P[Y]⟨t,ΣX⟩. It is a quasi- isomorphism because Q′[X,Z] is semi-free as a dg Q′[X] module and P[X,Y] is semi-free as a dg P[X] module. Taking indecomposables and shifting produces the desired map
􏰽m􏰾∼ 􏰽m′ 􏰾
 Q[Z] = π∗(φ)=Σ m2 ←−ΣH∗
Q[Z ]
Q [t,Z] γ ∼
m2 −→ΣH∗(ind (P[Y]⟨t,ΣX⟩))=π􏰦∗(φ).
Q′ [t,Z ]
   It remains to establish the second part of the theorem, in which we assume that φ is surjective. We continue with the same notation as before, but now we may assume that Q = Q′ and k = l.
≃
We complete our acyclic closure to obtain R􏰊 → R􏰊⟨U⟩ −→ S􏰊. ≃≃
We can build a minimal model Q → Q[s,Y] −→ S􏰊 lifting the model P → P[Y] −→ S􏰊. Here s is a degree one set of variables with ∂(s) = q, so that Q[s] ≃ P.
 ≃
Similarly to above the Tate model for the diagonal builds a surjective quasi-isomorphism Q[X, s, Y ]⟨ΣX⟩ −→

Chapter 3. Koszul Duality in Local Commutative Algebra 80 S􏰊. We now have a commutative diagram
Q
R􏰊 ⟨ U ⟩ ≃
    Q[X,s,Y]⟨ΣX⟩ ≃ S􏰊.
There are no problems in using the analogue of lemma 5 for this mixed extension, since R􏰊⟨U⟩ has divided
powers supported on the ideal of all positive degree elements. Therefore a homomorphism of α dg Q
algebras with divided powers exists, as indacted by the dashed arrows. We tensor this homomorphism
≃
α
 with the Koszul resolution β : Q[t] −→ k to obtain a quasi-issomorphism β⊗Q[X]α
Q[t,s,Y]⟨ΣX⟩=Q[t]⊗Q[X] Q[X,s,Y]⟨ΣX⟩−−−−−→k⊗Q[X] R􏰊⟨U⟩=k⟨U⟩ ≃
Finally, this descends along the quasi-isomorphism Q[t,s,Y]⟨ΣX⟩ −→ P[t,Y]⟨ΣX⟩ to give the desired homomorphism, as stated in the theorem.
 Properties of π􏰦∗(φ)
Theorem 30. Let φ : R → S be a local homomorphism. We can identify π􏰦∗(φ) in the following cases:
1. If wcat(φ) is finite then the comparison π∗(φ) → π􏰦∗(φ) is an isomorphism. This applies for example if φ has finite flat dimension, or is Golod, or more generally when φ is almost small.
≃
2. If φ is surjective and admits an acyclic closure R → R⟨U⟩ −→ S which is minimal as a complex then π􏰦∗(φ) → πγ∗(φ) is an isomorphism. This applies for example if φ is large or quasi-complete intersection.
3. If the residual characteristic of S is zero then π∗(φ) → π􏰦∗(φ) → πγ∗(φ) are both isomorphisms.
Proof. Part 3 follows from remark 17 and the fact that all algebras have divided powers in characteristic zero. Part 1 uses Avramov’s six term exact sequences 3.2 while part 2 uses the divided power version 3.3. Since the proofs are similar we only treat 1.
The point is that the dg algebra morphisms from theorem 29 allow us to construct a commutative diagram of dg algebras
Q[X] Q′[X, Z] Q′[Z, t] ≃≃
Q[X] P[Y ] P[Y ]⟨t,ΣX⟩.
Here we have used the notation from theorem 29. Then we take indecomposables, shift and pass to
homology. By theorems 24, 25 and 28 this results in two long exact sequences
··· πi(R)⊗k l πi(S) πi(φ) ···
··· πi(R)⊗k l πi(S) π􏰦∗(φ) ···
We conclude that the comparison π∗(φ) → π􏰦∗(φ) is an isomorphism using the five lemma.
                   
Chapter 3. Koszul Duality in Local Commutative Algebra 81 Combining this theorem with proposition 11 produces a Jacobi-Zariski long exact sequence for the
homotopy Lie algebra (or for πγ∗(−)) in a variety of situations.
ψφ
Example 10. Suppose that the local homomorphisms (Q, u) −→ (R, k) −→ (S, l) are both Golod. By [8, theorem 3.5] they are also small, so their composition is small, and therefore all three of φ,ψ and φψ have finite 0-category by corollary 3. By theorem 30 and (the linear dual of) proposition 11 there is a long exact sequence
···→πi+1(φ)←πi(ψ)⊗k l←πi(φψ)←πi(φ)←πi−1(ψ)⊗k l←··· sandwiching π∗(φψ) between the two free Lie algebras π∗(φ) and π∗(ψ).
We can generalise the situation for small and large homomorphisms (and give a shorter, independent proof that does not use the long exact sequences of Avramov or the Gulliksen minimality conditions).
Theorem 31. Let (R, k) → (S, l) be a local homomorphism.
1. If φi : πi(R) ⊗k l → πi(S) is injective for all even i then π∗(φ) → π􏰦∗(φ) is an isomorphism.
2. If φ is surjective and φi : πi(R) ⊗k l → πi(S) is surjective for all odd i then π􏰦∗(φ) → πγ∗(φ) is an isomorphism.
This is quite surprising. Only the injectivity of φeven is enough to guarantee that we have the full six term exact sequences 3.2. And only the surjectivity of φodd is enough to guarantee that we have the full six term exact sequences 3.3.
Proof. We start with 1. We use the constructions and notation of theorem 29 and its proof.
Recall that the homomorphism Q′ → S􏰊 factors through the minimal Cohen presentation Q′ → P =
Q/q → S􏰊. Recall that we also constructed a quasi-isomorphism Q′[X] → R′ and a semi-free model ≃
 Q′[X] → Q′[X, Z] −→ S􏰊. Since edim(Q′) = edim(R′) it follows (possibly making a change of basis) that wecanassumeZ=Z′∪vforsomev⊆Z1 with∂(v)=q.
 We need to slightly improve the construction in the proof of theorem 29: when we built the lift in
The upshot is that we may assume that the homomorphism Q′[t,Z] → P[Y]⟨t,ΣX⟩ of that theorem factors as
diagram 3.5 we could have first passed to the quotient Q [X, Z] −→ P [X, Z ] = Q [X, Z]/(q, v) and done this via a lift P [X, Z′] → P [X, Y ]⟨ΣX⟩.
′≃′′
 ′≃′≃
Q[t,Z]−→P[t,Z ]−→P[Y]⟨t,ΣX⟩.
Having made this technical assumption, part 1 is now a relatively painless consequence of theorem 27. That theorem says we can reduce P [Y ]⟨t, ΣX ⟩ to a quasi-isomorphic mixed extension P [W ]⟨V ⟩ which is minimal in the sense that indγ (l[W ]⟨V ⟩) has vanishing differential, and moreover the induces chain map indγ (l[Y ]⟨t, ΣX ⟩) → indγ (l[W ]⟨V ⟩) is a quasi-isomorphism:
P[t,Z′] ≃ P[Y]⟨t,ΣX⟩
α
   ≃
P[W]⟨V⟩.

Chapter 3. Koszul Duality in Local Commutative Algebra 82
The key point is that the hypothesis that φi : πi(R) ⊗k l → πi(S) is injective for even i implies that the construction in theorem 27 must remove all the even parts of ΣX. In other words, V is concentrated in odd degrees. Therefore P [W ]⟨V ⟩ = P [W, V ] is actually semi-free. Since indγ (l[W ]⟨V ⟩) = ind(l[W, V ]) has no differential the extension P → P[W,V] is minimal. Therefore α : P[t,Z′] → P[W,V] is a quasi- isomorphism or minimal semi-free P algebras. By [12, lemma 7.2.3] α is an isomorphism. In particular it induces an isomorphism on indecomposables. We have canonical isomorphisms
􏰽m ′􏰾 􏰽m 􏰾 π (φ)∼=ΣH P[t,Z ] ∼=ΣH P[W,V]
∼=ΣH (indγ(P[Y]⟨t,ΣX⟩))∼=π􏰦 (φ). ∗∗m2∗m2∗ ∗
  P[t,Z′] P[W,V ]
This establishes part 1.
The proof of part 2 is similar (and simpler), using theorem 27 to produce a model for P[Y]⟨t,ΣX⟩
which involves only divided power variables. We omit it.
Both parts 1 and 2 in the theorem below are true for the homotopy Lie algebra. One of the purposes
of π􏰦∗(−) is to extend a step further to 3. Theorem 32. A local map φ:R→S is
1. weakly regular if and only if π􏰦≥2(φ) = 0;
2. complete intersection if and only if π􏰦≥3(φ) = 0;
3. quasi-complete intersection if and only if π􏰦≥4(φ) = 0.
The interesting part of theorem 32 is 3, so we separate it and elaborate slightly in the following theorem. All three parts are consequences of theorem 27, so we omit the proofs of 1 and 2. One direction of the theorem below is due to Avramov, Henriques and S ̧ega [17, theorem 5.3] (this was discussed in example 9), we establish the converse.
Theorem 33. If φ : (R, m, k) → (S, n, l) is a local homomorphism then the following are equivalent: 1. φ is quasi-complete intersection;
2. π􏰦≥4(φ) = 0;
3. π≥3(R) ⊗k l → π≥3(S) is an isomorphism.
And in this case there is an exact sequence in low degrees
0→π3(φ)→π2(R)⊗k l→π2(S)→π2(φ)→π1(R)⊗k l→π1(S)→π1(φ)→0. Moreover if R → R′ → S is a minimal Cohen factorisation then
π1(φ) = (n/mS) ⊗S l, π2(φ) = (I/I2) ⊗S l and π3(R) = H1(KI ) ⊗S l
where I is the kernel of R′ → S and KI is the Koszul complex on a minimal generating set for I.
Because of long exact sequence ... → π∗(R) → π∗(S) → π􏰦∗(φ) → ... the condition π􏰦≥4(φ) = 0 is equivalent to πi(R) → πi(S) being an isomorphism for i ≥ 4 and π3(φ) being injective. Note that exactly same statement holds for Andr ́e-Quillen homology, by the characterisation of Blanco, Majadas
 
Chapter 3. Koszul Duality in Local Commutative Algebra 83
and Rodicio [28]. Thus qci homomorphisms behave as if they were characterised by vanishing of π∗(−), if only there were a long exact sequence of homotopy Lie algebras. This is exactly the role that π􏰦∗(−) plays. Part 3 of the theorem says that in this situation π3(R) ⊗k l → π3(S) is automatically an isomorphism as well.
φ′
Proof. Let R → R′ −→ S􏰊 be a minimal Cohen factorisation of φ. By the Jacobi-Zariski exact sequence
(proposition 11) associated to this factorisation, and part 1 of theorem 32, all of the conditions 1 2 and 3 are unchanged if we replace φ with φ′. Therefore we may assume that φ is surjective.
The implications 1 ⇒ 3 ⇒ 2 are all clear from example 9 and the basic long exact sequence ... →
π∗(R)→π∗(S)→π􏰦∗(φ)→.... Sowemustshow2⇒1.
We apply theorem 27 to a dg algebra similar to the one constucted in theorem 28. Let Q[X] −→ R􏰊
≃
be a minimal model, and also build a minimal model Q → Q[Y ] −→ S􏰊 (we do not worry about the fact that Q → S􏰊 may not be minimal, and so Y1 may be “too large”). Lemma 5 produces a lift
≃
Q[X] → Q[Y] of dg Q algebras. We use theorem 10 to build a model Q[X,X]⟨ΣX⟩ −→ Q[X], then ≃
finally we apply R􏰊 ⊗Q[X] − ⊗Q[X] Q[Y ] to build a surjective quasi-isomorphism R􏰊[Y ]⟨ΣX⟩ −→ S􏰊. In
low degrees we were lazy about minimality, but the description of the differential in theorem 10 allows
us to identify indγ(R􏰊[Y]⟨ΣX⟩)≥2 ∼= Σ−1cone(π≥2(R) → π≥3(S)). Therefore the hypothesis 2 implies
that indγ(P[Y]⟨t,ΣX⟩) has homology in degrees 1 and 2 only. Theorem 27 produces a surjective quasi- ≃
isomorphism R􏰊[Y ]⟨ΣX⟩ −→ R􏰊[Z]⟨U⟩ with Z and U both concentrated in degrees 1 and 2 only. ≃
In characteristic zero R􏰊[Z]⟨U⟩ = R􏰊⟨Z,U⟩ and the augmentation R􏰊⟨Z,U⟩ −→ S􏰊 is witness to that
fact that φ is qci. If char(k) = p is positive we must show that Z2 = ∅. For degree reasons R􏰊[Z]⟨U⟩ is
automatically minimal as a complex, therefore k[Z]⟨U⟩ ∼= TorR􏰊(S􏰊,k). But if z ∈ Z this contradicts the ∗2
fact that TorR􏰊(S􏰊,k) has a natural divided power algebra structure supported on the ideal of positive ∗
degree elements, since this means zp ̸= 0 should be impossible. Therefore the two step Tate model ≃
R􏰊⟨Z1,U⟩ −→ S􏰊 is witness to that fact that φ is qci.
Finally, remembering again that φ might not be surjective, we must establish that there is a low degree
exact sequence as shown. There is always such an exact sequence using π􏰦∗(φ) in place of π∗(φ). The calculation that π􏰦i(φ) = πi(φ) is as described for i = 1,2,3 is relatively simple, and already essentially part of [17, theorem 5.3] (where surjectivity is assumed), so we leave it to the reader. Details can be found in the proof of loc. cit. and in example 9 above.
Finally, the conjectures stated by Quillen in [96] for Andr ́e-Quillen homology (and extended by Avramov in [13]) have an obvious analogue for π􏰦∗(−). If φ : (R,k) → (S,l) is a local homomorphism then π􏰦i(φ) = 0 for large i if and only if φi : πi(R) ⊗k l → πi(S) is an isomorphism for large i. So we can ask:
Question. If there is an n such that φi : πi(R) ⊗k l → πi(S) is an isomorphism for all i > n then must φ be a quasi-complete intersection?
≃
 
Chapter 4
The Characteristic Action of Hochschild Cohomology
This chapter contains some highlights from the preprint [31]. An overview of its contents was given in the introduction. Everything here is joint work with Vincent G ́elinas, and our contribution to this work should be considered equal.
4.1 Enriching the Characteristic Action
This section is adapted from [31, section 3.1].
Let A be a dg algebra which is augmented over a field k1. This section concerns the characteristic
action of Hochschild cohomology on the derived category, which is a homomorphism χ : HH∗(A,A) → Z(D(A)) (the graded centre Z(D(A)) was defined in section 2.1. This map is important in many ar- eas of mathematics. In representation theory alone, it has been used in connection with the classical cohomology operators of Gulliksen, the theory of support varieties and with the obstruction theory for deforming modules, to name a few applications. As such, it is important to understand the image of the components χM : HH∗(A,A) → Z(Ext∗A(M,M)). Towards this, we will show that the homomorphisms χM can be enriched to land in HH∗(R,R), where R = RHomA(M,M). This implies that an endomor- phism in the image of χM must satisfy some strong homotopy centrality conditions. We also show that for certain dg modules the image of χM is exactly the image of Π : HH∗(R,R) → Z(Ext∗A(M,M)).
As explained in section 2.1 Ddg(A) is dg category of all semi-free dg modules over A. It’s homotopy
category D(A) = H0(Ddg(A)) is the full derived category of A. We use the same notation for the graded
category D(A) = H∗(Ddg(A)). Similarly Ddg (A) is our notation for the dg category of perfect semi-free perf
dg modules, and perf(A) = H0(Ddg (A)) is the perfect derived category of A. perf
It is well known that the restriction C∗ (Ddg (A), Ddg (A)) → C∗ (A, A) is a quasi-isomorphism unr perf perf unr
(this is easily proven with Keller’s theorem in [65], for example). Less well known, it follows from the work of To ̈en [107] that the restriction C∗ (Ddg(A), Ddg(A)) → C∗ (A, A) is a quasi-isomorphism (see
also [71, section 4.3]). This section contains a proof of this fact. The main theorem is
1The augmentation is not important for this section because we could work with the unreduced bar construction BunrA instead of BA. Since we are most interested in applying this section to the augmentation module kA we will continue to make this assumption anyway.
unr unr
 84

Chapter 4. The Characteristic Action of Hochschild Cohomology 85 Theorem 34. The restriction map C∗ (Ddg(A), Ddg(A)) → C∗ (A, A) is a quasi-isomorphism. Through
unr unr
the induced isomorphism in cohomology, the projection map from HH∗(DdgA,DdgA) and the character- istic action of HH∗(A,A) coincide. That is, the following diagram commutes
HH∗(DdgA, DdgA) ∼= HH∗(A, A) res
   χ
Given a morphism ζ : A → ΣnA in D(Ae) we get a family of morphisms {M ⊗LA ζ : M → ΣnM} in D(A) which define a natural transformation 1D(A) → Σn. This determines a map χ : HH∗(A,A) ∼=
∗
Π
Z(D(A)).
ExtAe (A, A) → Z(D(A)), which is a homomorphism of graded k algebras. We call this the characteristic action of HH∗(A,A) on D(A). The two most important components are for the modules A and k:
HH∗(A, A)
χA χk
H(A) res Z(D(A)) res
ExtA(k, k).
     It is not difficult to check that χA and χk are the projection and shearing morphisms respectively, which were introduced in section 2.5. In that section χk was denoted by χ alone, in this section we reserve χ for the full characteristic action.
Let us be more explicit about this construction. A Hochschild cocycle ξ : BA → A canonically lifts toabilinearmapAξA :A⊗π BA⊗π A→A,andforanydgmoduleM wegetanA-linearmap
MξA =M⊗AAξA :M⊗πBA⊗πA−→M.
SinceM⊗πBA⊗πAisasemi-freeresolutionofM,thisMξA representsanelementofExtA(M,M). Nat- urality up to homotopy is easy to see, so the family {M ξA} defines an element of Z(D(A)). This explicit description suggests a further enhancement of the characteristic action. First, note that Homπ(M ⊗π BA,M)∼=HomA(M⊗πBA⊗πA,M)hasaconvolutionproduct givenby
ψ⊗BA φ φ⌣ψ : M⊗BA→M⊗BA⊗BA−−−−−→M⊗BA−−→M,
for φ, ψ : M ⊗ BA → M. With this product the natural inclusion HomA(M, M) → Homπ(M ⊗πBA, M) becomes a quasi-isomorphism of dg algebras (for semi-free M). In fact, this extends to a convolution enhancement Dconv(A) of the derived category D(A), with NDconv(A)M = Homπ(M ⊗πBA,N). The obvious embedding Ddg(A) → Dconv(A) is then a quasi-equivalence of pre-triangulated dg categories.
The point is that the characteristic action χM now lifts to a homomorphism of dg algebras ∗ππ M⊗ξ
C (A,A)→Hom(M⊗ BA,M) ξ:BA→A 􏰀→ Mξ:M⊗BA−−−−→M⊗A→M.
In fact it lifts further, all the way to the Hochschild cochain complex of RHomA(M,M), as long as one is willing to work with two enhancements at once. More generally, one can do this for any set of objects together.

Chapter 4. The Characteristic Action of Hochschild Cohomology 86
Proposition 12. Let M be a set of objects in D(A) and let R = REndA(M) be the full dg subcategory of Ddg(A) on M. Denote also by Rconv the corresponding full dg subcategory of Dconv(A). The char- acteristic action of HH∗(A,A) on H∗(R) lifts canonically to map χ􏰦 of dg algebras, as in the following commutative diagram:
C∗ (A, A) χ􏰦 C∗ (R, Rconv) ≃ C∗ (R, R) HH∗(A, A) χ􏰦 HH∗(R, R) unr unr unr
χΠΠχΠ
≃
        Z􏰦(Rconv )
In the proposition Z􏰦(R) denotes the ‘pre-centre’ 􏰢m∈M REndA(m), and similarly for Rconv.
Z􏰦(R) Z(H∗ (R)). η α conv
 The lift χ􏰦 takes a cochain ξ : BA → A to the composition BunrR −→ kM −→ R , where α takes 1m to (−)·ξ in Homπ(m⊗π BA,m). It is not difficult to verify that this is an anti-homomorphism of dg algebras (i.e. reversing the order of composition, but in particular respecting the differential), but we can make things clearer by writing them in a more symmetrical way. We can think of M as an R − A bimodule. Just rewriting things through the tensor-hom adjunction, the top row in the diagram of proposition 12 becomes2
Homπ(BA,A)→Homπ(BunrR⊗π M⊗π BA,M)←Homπ(BunrR,R) ξ 􏰀→ η·(−)·ξ ζ·(−)·η ←􏱄 ζ
where η is being used for the counits of both BA and BunrR.
This symmetry suggests that the homologically balanced condition from section 2.1 may play a role.
Theorem 35. Let M be a set of objects in D(A) and let R = REndA(M) be the full dg subcategory of Ddg(A) on M. If the bimodule M is homologically balanced then χ􏰦 : C∗ (A, A) → C∗ (R, Rconv) is a
quasi-isomorphism.
In the case that M contains the free module A, the restriction map C∗ (R, R) → C∗ (A, A) is a
unr unr
quasi-isomorphism, inverse in cohomology to χ􏰦.
The advantage of the last statement is that the restriction map is one of B∞-algebras (as Keller points out in [69]), and also that it respects the weight filtration on Hochschild cohomology.
Note that we only need to check half of the definition of homologically balanced: in this context the map R → REndA(M) is a quasi-equivalence by definition.
Proof. In light of the above discussion we just need to show that
Φ : Homπ (BA, A) → Homπ (Bunr R ⊗π M ⊗π BA, M )
is a quasi-isomorphism. But using the tensor-hom adjunction on the other side we have Homπ(BunrR⊗π M ⊗π BA,M) ∼= Homπ(BA,Homπ(BunrR ⊗π M,M)) (as usual checking that the various twists match up). Note though that Homπ(BunrR⊗πM,M) is simply a convolution model for REndRop(M), that is Homπ(BunrR⊗πM,M)∼=HomR(R⊗πBunrR⊗πM,M)←HomR(M,M)isaquasi-isomorphism. Henceby
2The twist on Homπ(BunrR ⊗π M ⊗π BA, M) is the one which makes it isomorphic to HomR−A(R ⊗π BunrR ⊗π M ⊗π BA⊗π A,M).
RA unr unr
 
Chapter 4. The Characteristic Action of Hochschild Cohomology 87
assumptionthemapAop →Homπ(BunrR⊗πM,M)isaquasi-isomorphism,andbylemma4thismakes Φ a quasi-isomophism as well.
To make the last statement more precise, we mean that the upper triangle in the following diagram commutes after taking cohomology
Homπ(Bunr R, R) ≃ res χ􏰦
Homπ(Bunr R, Rconv ) res
    Homπ(BA, Aconv) ∼= Homπ(BA ⊗π A ⊗π BA, A). paths are equalised by a quasi-isomorphism, as follows:
ππππ∼π
Hom (BA,A)⇒Hom (BA⊗ A⊗ BA,A)−→Hom (BA,A).
Thetwomapsontheleftaretheleftandrightactionsξ􏰀→ξ·(−)·ηandη·(−)·ξrespectively. The final map is obtained by pulling back along the natural bicomodule map BA → BA ⊗π A ⊗π BA. Either composition from left to right is the identity. The statement follows.
Now we will deduce theorem 34 by taking M to be the collection of all dg modules in D(A). Those uneasy about the size of D(A) can just use a sufficiently large set instead, but this subtlety will not be important here.
Proof of theorem 34. Because of theorem 35, we just need to show that D = DdgA is homologically balanced as a D − A bimodule. We have a sequence of quasi-fully-faithful functors
Ddg (Aop) RHomAop (−,A) (Ddg (A))op Dop y Ddg (Dop), perf ≃ perf perf
D ⊗ LA −
where the Yoneda embedding y is quasi-fully-faithful by the Yoneda lemma (note that dg modules in the image of y are automatically perfect and semi-free). One can check that the diagram commutes (up to a natural quasi-isomorphism). Now since D ⊗LA − is quasi-fully-faithful it follows from lemma 3 that Aop → REndDop (D) is a quasi-isomorphism.
Remark 18. The proof works for any dg subcategory between Ddg (A) and Ddg(A). perf
Finally, theorem 35 allows us to give a conceptual proof of the following theorem of Buchweitz, Green, Snashall and Solberg.
Theorem 36 (Buchweitz-Green-Snashall-Solberg [33]). If A is a Koszul algebra then χk : HH∗(A, A) → Z(ExtA(k, k)) is surjective.
Proof. Since A is Koszul there is a quasi-isomorphism A! ≃ RHomA(k,k) ≃ Ext∗A(k,k) respecting the augmentation module k. By corollary 1 k is homologically balanced as an A! − A bimodule. Therefore
Homπ(BA, A) ≃
The outer rectangle clearly commutes. The lower triangle commutes in cohomology because the two
        
Chapter 4. The Characteristic Action of Hochschild Cohomology 88 by theorem 35 we have a commutative diagram
HH∗(A, A) χ􏰦k HH∗(Ext∗ (k, k), Ext∗ (k, k)) ∼= A A
   χk
Z(Ext∗A(k, k)).
Π
Therefore im(χk) = im(Π) = Z(Ext∗A(k, k)).
In the next section we will explain the analogous statement in the non-Koszul case in terms of A∞
centres.
4.2 The A∞ centre
In this section we introduce and begin to study a notion of A∞ centre for minimal A∞ algebras. Let me remind the reader everything here is joint work with Vincent G ́elinas.
To start with, take A to be a strongly augmented dg algebra. From now on we return to the notation χ = χk and χ􏰦 = χ􏰦k. Most of the proof of theorem 36 goes through without any Koszul assumption, and we get
Corollary 5. If A is a strongly connected augmented dg algebra then there is a canonical isomorphism making the following diagram commute:
 ∼= HH∗(A!, A!) χ􏰧k
Π
HH∗(A, A)
In the Koszul case the isomorphism of algebras HH∗(A,A) ∼= HH∗(A!,A!) was first established by Buchweitz [32]. For dg algebras it is due to F ́elix, Menichi and Thomas [42], who proved further that it can be upgraded to an isomorphism of Gerstenhaber algebras.
Our construction is very similar to the one used by Keller in [69], where he recasts things in terms of the restriction maps (as in theorem 35) to see that the isomorphism lifts to one in the homotopy category of B∞-algebras. However, the purpose of our approach is to make it clear that the isomorphism χ􏰦 interacts well with the characteristic action.
After corollary 5, it remains to understand the image of Π : HH∗(A!,A!) → Z(H∗(A!)). In general there is no reason for this to be surjective. Instead the answer will be a kind of A∞ centre, which can be calculated using a minimal A∞ model for A!.
Motivation and Definition of the A∞ Centre
There are several possible notions of centre, and of commutativity, for A∞ algebras, all generalising the usual concepts for graded algebras. A common answer is that a commutative A∞ algebra is a C∞ algebra (introduced by Kadeishvili in [64]). In characteristic zero certain aspects of commutative algebra generalise well to C∞ algebras. However, this does not obviously give rise to a notion of centre for A∞ algebras. A more immediate disadvantage is that this property is not even invariant under isomorphisms of A∞ algebras.
   χ
Z(H∗ (A! )).

Chapter 4. The Characteristic Action of Hochschild Cohomology 89
Ultimately, E∞ algebras encapsulate the right notion of commutative algebras up to homotopy, as far as generalising commutative algebra goes. Commutativity at this level is an extra structure on, rather than a property of, an A∞ algebra. The commutativity property we introduce below is a completely different and much weaker notion.
Let A be an A∞ algebra. The space of homotopy derivations of A is by definition the positive weight part of the suspended Hochschild cochain complex
hoDer(A,A) = ΣHomπ(BA,A) = ΣC(1)(A,A).
It is a sub-Lie algebra of ΣC∗(A,A). We can interpret the projection morphism as the obvious map
Π : C∗(A,A)=Σ−1hoDer(A,A)􏱂A−→A,
just as we saw shearing morphism in terms of coderivations in section 2.5.
The reason for this notation is the following proposition, which goes back to Stasheff and Schlessinger
[98], and ultimately Quillen. A proof is in [59], or more explicitly in [42, Lemma 4.2].
Proposition 13. The dg Lie algebra hoDer(A, A) is quasi-isomorphism invariant, and there is a canon-
ical chain of quasi-isomorphisms
∼
hoDer(A, A) −−→ Der(A, A)
of dg Lie algebras, where A = ΩBA. Or more generally, A can be any semi-free dg algebra quasi-
isomorphic to A.
Now, from the short exact sequence
 0 → Σ−1hoDer(A,A) → C∗(A,A) → A → 0 ad
we get a connecting homomorphism H∗(A) −→ H∗(hoDer(A,A)). In fact, this canonically lifts to the chain level: the assignment
ad : A −→ hoDer(A, A) ∼= 􏰤 Σ1−nHom(A⊗n, A) a 􏰀→ 􏰈(−1)|a|Σ1−n[a; −]1,n. n≥1 n≥1
is a chain map giving rise to the above connecting homomorphism in homology3. Here we have used the higher commutators against a from section 2.5. Under the quasi-isomorphism of proposition 13 this corresponds to the classical adjoint homomorphism
ad : A −→ der(A,A) a 􏰀→ [a,−].
With this is mind, we define the A∞ centre of a minimal A∞ algebra A to be
􏰃ad 􏰄􏰃∗Π􏰄 Z∞(A) = ker A −−→ H∗(hoDer(A, A)) = im HH (A, A) −−→ A .
So, a is A∞-central if there exists p ∈ hoDer(A,A) with ad(a) = ∂(p). Writing this out explicitly in
3We were relaxed about signs here because we didn’t specify the isomorphism hoDer(A, A) ∼= 􏰢n≥1 Σ1−nHom(A⊗n, A).
The map can be written precisely using the shuffle product on BA as in [31, section 3.2]. However, the the signs in (4.1) should be correct, and that expression is what we use to make calculations.
   
Chapter 4. The Characteristic Action of Hochschild Cohomology 90
terms of the higher multiplications, this means that a is central if for n ≥ 2 the higher commutators [a; −]1,n : A⊗n → A vanish together up to a sequence of ‘homotopies’ pi : A⊗i → A of degree |a| − i for i ≥ 1, meaning precisely that [a; −]1,n =
􏰈 (−1)r(|a|+s)+t(|a|+1)mr+1+s(1⊗r ⊗ ps ⊗ 1⊗t) − (−1)|a|(−1)rs+tpr+1+t(1⊗r ⊗ ms ⊗ 1⊗t). (4.1) r+s+t=n
In particular the usual commutator [a; −]1,1 vanishes, and so Z∞ (A) ⊆ Z(A). Being the image of a map of graded algebras, Z∞(A) is itself a graded commutative subalgebra of A.
The intuition is that keeping track of the homotopy p for which ad(a) = ∂(p) gives the full derived centre, i.e. Hochschild cohomology
HH∗(A,A)={(a,p) : ad(a)=∂(p)wherea∈Aandp∈hoder(A,A)/(boundaries)},
and forgetting p is exactly the projection morphism.
The reason for introducing Z∞(A) in terms of hoDer(A,A) is that this perspective will be computa-
tionally useful. In particular, examples show that the homotopies pi for the higher commutators in (4.1) can sometimes be ignored.
Properties of Z∞(A)
If A and A′ are isomorphic minimal A∞ algebras, it follows from naturality of the projection morphism (diagram 2.1 in section 2.5) that Z∞(A) ∼= Z∞(A′) as graded algebras. In particular, if A is a dg algebra, then the A∞ centre Z∞(H∗(A)) of a minimal model H∗(A) for A is an invariant of the quasi-isomorphism type of A. In fact Z∞(H∗(A)) is just the image of Π : HH∗(A, A) → H∗(A).
If A is formal (isomorphic to a minimal A∞ algebra with vanishing higher structure) then Z∞(A) = Z(A), but in general A∞ centre will be much smaller than the graded centre.
From theorem 5 we can deduce
Theorem 37. If A is a strongly connected augmented dg algebra then the image of χ : HH∗(A,A) →
Ext∗A(k, k) is exactly Z∞(Ext∗A(k, k)).
This is a direct consequence of the definitions and the diagram of theorem 5, along with naturality (2.1) of the projection morphism from section 2.5). However, it will become useful once we have methods for computing A∞ centres. Note also that theorem 36 of Buchweitz, Green, Snashall and Solberg is precisely the special case that A and A! are both formal. It can be generalised to other modules4.
Corollary 6. Let M be a right dg module over A, and take Ext∗A(M,M) to be a minimal A∞ model for RHomA(M,M). For every dg module M, the characteristic morphism χM : HH∗(A,A) → ExtA(M,M) lands in the A∞ centre of Ext∗A(M,M). If M is homologically balanced as an REndA(M)−A bimodule then im(χM) = Z∞(Ext∗A(M,M)).
This time the corollary is deduced from proposition 12 and theorem 35. Aside from the augmentation module k, any generator for Dperf(A) is homologically balanced, for example.
4Technically we have not discussed minimal models for non-augmented dg algebras like RHomA(M,M), but there is no problem with Kadeishivili’s minimal model theorem [63] in this generality. The necessary naturality for Hochschild cohomology is also fine in the non-augmented situation.
 
Chapter 4. The Characteristic Action of Hochschild Cohomology 91
Remark 19. According to the classical work of Gerstenhaber [45], a first order deformation of a graded algebra A is classified by a weight 2 element ξ ∈ HH2(A, A). The obstruction to continuing a module M along such a deformation is Char(ξ) = [MξA] ∈ Ext2A(M,M). The corollary tells us that the obstruction must actually be in Z∞(ExtA(M,M)). Lowen [81] has extended this picture to deformations of abelian categories. Here the image of the characteristic morphism contains the obstruction to deforming objects along a given deformation of an abelian category. This is an important motivation for us to compute A∞ centres.
In section 4.3 we will give examples of interesting A∞ centres, explaining how one can compute them with the philosophy of this section. For now, let us note down a few examples with Z∞(A) = A.
We say that a minimal A∞ algebra A is A∞ commutative if Z∞(A) = A, or equivalently if the projection map Π : HH∗(A,A) → A is surjective. At the end of this section we make note of one interesting consequence of this condition.
Any algebra with the homotopy type of a commutative dg algebra will be A∞ commutative, but our condition is much weaker than this.
The shearing map for is split surjective for any Hopf algebra. By theorem 37 this means the Koszul dual to any strongly connected Hopf algebra is always A∞ commutative.
The algebra C∗(X;k) of cochains on a space X is always A∞ commutative. More generally, E∞ algebras satisfy this condition, because of the next paragraph.
One can see (e.g [46, theorem 7]) from the defining formulas that for any algebra over the “brace operad”, denoted S2 in [87], the projection morphism is split surjective. Alternatively it is shown in [112] that the bar construction of such an algebra is a Hopf algebra. It is proven in [86] that this brace operad S2 is an E2 operad, see also [87]. Since this operad is Σ-split, by [59] any E2 algebra has a model which is a brace algebra, and hence any E2 algebra is A∞ commutative.
The Associated Lie∞ Algebra and A∞ Commutativity
For the rest of this section we assume that the based field k has characteristic zero. Lie∞ algebras were discussed tangentially in section 2.8. Here we rapidly record the details we need to establish corollary 7, more information can be found in [80].
To start with we need the symmetric coalgebra and the shuffle product.
Let V be a graded vector space and define Symco(V ) = SymTco(V ) to be the subspace of symmetric elements with SymTco(V ) = Sw (V ⊗w). This makes Symco(V ) a sub-coalgebra of Tco(V ). In fact it is the
cofree commutative cocomplete coalgebra on V .
The tensor coalgebra is naturally a Hopf algebra with the shuffle product
(v1 ⊗ ... ⊗ vp) (vp+1 ⊗ ... ⊗ vp+q) = 􏰈 (−1)|σ;v|vσ−1(1) ⊗ ... ⊗ vσ−1(p+q), σ∈sh(p,q)
where sh(p,q) is the set of permutations in Sp+q which separately preserve the order of {1,...,p} and
of {p + 1, ..., p + q}. This is the unique coalgebra morphism m : Tco(V ) ⊗ Tco(V ) → Tco(V ) such that
the corresponding maps m : Tco(V ) ⊗ Tco(V ) → V vanish unless p + q = 1, in which case our hand is pqp q
forced by unitality. With this product Symco(V ) is in fact a sub Hopf algebra of Tco(V ).
Since k has characteristic zero Symco(V ) is exactly the subalgebra of Tco(V ) generated by V under
the shuffle product.
w
∈

Chapter 4. The Characteristic Action of Hochschild Cohomology 92
Now we define a Lie∞ algebra structure on a graded vector space L to be specified by a degree −1 coderivation b on Symco(ΣL) which is augmented and square zero. By definition the cobar construction CcoL of L is the dg commutative coalgebra Symco(ΣL) equipped with this differential.
Analogously to the associative case, one can extract from the components b : CcoL → L a sequence nn
of anti-linear maps ln : L⊗n → L for n ≥ 2. These can be thought of as higher brackets. The condition that b2 = 0 becomes a sequence of Stasheff-like quadratic identities in the ln generalising the Jacobi identity. These can be found in [74].
It follows from the discussion in section 2.8 that a graded Lie algebra is precisely a Lie∞ algebra such that the bar differential b decreases weight by exactly 1. More generally, a dg Lie algebra is a Lie∞ algebra such that b decreases weight by no more than 1. In the other direction, we say that L is minimal if its bar differential strictly decreases weight. In other words, the underlying differential of L vanishes. We say that a minimal Lie∞ algebra L is completely abelian if the differential of CcoL vanishes entirely. Equivalently, all of the operation ln vanish for n ≥ 2.
Lemma 20. Every coderivation p : Tco(V ) → Tco(V ) restricts to Symco(V ).
The lemma follows immediately from the fact that Tco(V ) and Symco(V ) share the same universal property for coderivations. Or it can be proven by examining Quillen’s formula for p given in lemma 2. Consequently, if A is an augmented A∞ algebra then bar differential of BA automatically restricts to Symco(ΣA). This defines a Lie∞ algebra with bar construction CcoALie = (Symco(ΣA),b), which we
call the associated Lie∞ algebra.
Theorem 38. Assume k has characteristic zero. If A is a minimal A∞ algebra which is A∞ commutative
then ALie is completely abelian.
Proof. By induction on weight we show that the bar differential b vanishes on the symmetric tensors Cco(ALie) ⊆ BA.
Since k has characteristic zero, any weight w + 1 symmetric element can be written as a linear combination of elements of the form [a] x, where a is in A and x is symmetric of weight w. Since a is in the image of the projection map there is a coderivation p which (weakly) decreases weight such that [b, [a] −] = [b, p]. Thus
b([a] x) = bp(x) + (−1)|a|pb(x) − (−1)|a|[a] b(x).
Since p decreases weight and preserves Cco(ALie) by lemma 20, this formula and the inductive hypotheses
on b means b([a] x) = 0.
We can rephrase this entirely in terms of dg algebras:
Corollary 7. Assume k has characteristic zero and let A be an augmented dg algebra such that HH∗ (A, A) → H∗(A) is surjective. Then the associated dg Lie algebra ALie is formal and quasi-isomorphic to an abelian Lie algebra.
The corollary follows by taking a minimal model for A. One only needs to observe that (−)Lie is functorial even for non-strict morphisms and preserves quasi-isomorphisms.
A dg algebra A satisfying the hypotheses of the corollary need not be quasi-isomorphic to a com- mutative algebra, so this is an example of what subtler forms of commutativity can be deduced from A∞-commutativity of the minimal model H∗(A).
   ∈
∈
∈
∈
∈

Chapter 4. The Characteristic Action of Hochschild Cohomology 93
In the literature these dg Lie algebras have been called quasi-abelian. Understanding when this condition holds is important because it means the associated deformation problem is extremely simple, and in particular unobstructed.
Corollary 7 is actually an algebraic generalisation of a result of F ́elix, Thomas and Vigu ́e-Poirrier in rational homotopy theory [43] (see [31, section 5] for this story).
4.3 Examples and Applications
This section is adapted from [31, section 4]. As such it is also joint work with Vincent G ́elinas.
First we admit that, for the sake of writing down more interesting examples, we work here with a (superficially) more general setup than in the rest of the paper. Instead of working with algebras augmented over a field k, we work over a semi-simple base k isomorphic to a finite product of copies of k. Instead of vector spaces we work in this section with (graded or dg) k bimodules on which k acts centrally. It is equivalent to work with (graded or dg) quivers whose set of objects S is indexed by the factors of k ∼= k×S. Undecorated tensor products and homs are taken over k, and in particular (−)∨ is the k linear duality Hom(−, k).
An augmented k algebra is by definition a retraction k → A → k of k algebras. In particular A is a (possibly non-symmetric) k bimodule and there is a canonical decomposition of k bimodules A = k + A. It is equivalent to think of A as a k linear category whose objects are indexed by the factors of k. In particular the bar construction can be thought of as a cofree cocategory on the same set of objects (as was hinted at in section 2.1).
We hope the reader accepts in good faith that all the definitions and results of the sections leading up to this one generalise immediately to this context (simply replace the word ‘algebra’ with ‘category’ throughout).
We need to explain one more notational convention for this section. So far we have not been explicit
about the meaning of the asterisk in HH∗(A,A) or in Ext∗A(k,k), except that we used HH(w)(A,A) to
denote the weight filtration. This also passes to a weight filtration Ext(w)(k,k) on Ext∗ (k,k) through AA
the shearing morphism. When A is a graded algebra (that is, when its differential vanishes) the weight filtration splits into a weight grading. This is also known as the cohomological or resolution degree. Thus Hochschild cohomology is bigraded with HHw(A, A)i coming from Homπ(BwA, A)i. The same goes for ExtwA(k, k)i. If x ∈ ExtwA(k, k)i then we will write wt(x) = w and |x| = i.
When A is simply an algebra concentrated in degree zero the internal degree coincides with weight, so HHw(A, A)i = 0 and ExtwA (k, k)i = 0 unless w + i = 0. More interestingly, when A is generated in degree 1 as a k algebra, it follows from theorem 7 that A is Koszul if and only if Ext∗A(k,k) is concentrated along the diagonal according to the bigrading (wt(x), −|x| − wt(x)) (that is, ExtwA (k, k)i ̸= 0 implies 2w + i = 0).
For us, interesting and relevant A∞ algebras arise for the most part as the Koszul duals to actual graded algebras (but this is by no means the only way; for instance, symplectic topology is a notable source of examples).
The A∞ structure on Kadeishvili’s minimal model A! = Ext∗A(k, k) can be produced by homological perturbation methods (possibly first exploited by Huebschmann beginning with [61], and made explicit by Merkulov in [88]). This approach has some theoretical advantages, but it is typically easiest to
 
Chapter 4. The Characteristic Action of Hochschild Cohomology 94 !≃
produce a minimal model for A by building the noncommutative Tate model ΩC −→ A and setting A! = C∨. This was briefly sketched in section 2.4, but see [23] for details on the construction.
From the Tate model one deduces Keller’s theorem 9. This fundamental calculation is the beginning of understanding the higher structure on A!. Explicitly understanding the higher structure in full is only possible in special cases5.
Our main source of examples will be the d-Koszul algebras discussed below. They were introduced by Berger in [25], and the Koszul dual A∞ structure was computed completely by He and Lu in [56].
Another case where this structure can be understood completely is that of monomial algebras, when A = kQ/(R) for some quiver Q and some set R of paths in Q. This has been done recently by Tamaroff in [105] using the noncommutative Tate construction. The same calculation was made independently in unpublished work of Chuang and King.
Algebras of finite global dimension
Assume that gldim(A) = g is finite, so that Ext>g (k, k) = 0. The conditions (4.1) defining a top degree A
element ξ ∈ Z∞(ExtgA(k, k)) are vacuous aside from [ξ, s] = 0 for s ∈ Ext0A(k, k) = k, since the non-trivial higher products against ξ strictly increase weight. The condition [ξ, s] = 0 cuts out the symmetric part of the k bimodule ExtgA(k,k), which we denote ExtgA(k,k)cyc since these will correspond to cycles in the quiver path algebra case. So
Proposition 14. If gldim(A) = g is finite then the image of χ : HHg(A,A) → ExtgA(k,k) is ExtgA(k,k)cyc. Restricting now to gldim(A) = 2 theorem 9 determines the entire A∞-algebra Ext∗A(k,k), since all
other products vanish for strict unitality or degree reasons. We are left to determine Z∞(Ext1A(k,k)). Proposition 15. Assume A is finite dimensional with global dimension 2. Then the image of χ :
HH∗(A, A) → Ext∗A(k, k) is the graded centre Z(Ext∗A(k, k)).
Proof. The result follows from proposition 14 because Z(Ext1(k,k)) = 0 by the No Loop Conjecture
(established in the global dimension 2 case in [51]).
The proposition means we will need to look to algebras of global dimension at least 3 for interesting examples.
d-Koszul algebras
As we saw is section 2.3 a Koszul algebra is necessarily quadratic. Nevertheless, classical Koszul duality can be generalised naturally to d-homogeneous algebras. A d-homogeneous algebra is by definition an algebra with a presentation A = T(V )/(R) for some k bimodule V and some sub-bimodule R ⊆ V ⊗d.
If d > 2 then according to theorem 7 the Koszul to such an A cannot be formal. That is, the minimal model A! = Ext∗A(k, k) must have some non-trivial higher products. Rather, a d-Koszul algebra will be one whose A∞ structure is as simple as possible subject to the contraints of theorem 9.
These algebras were defined by Berger in [25] in terms of acyclicity of an explicit candidate Koszul complex. For our definition we can use the following characterisation of Green, Marcos, Mart ́ınez-Villa
5This depends on whether one accepts as explicit the iterative perturbation formulas in [88], or its interpretation in terms of trees in [72]. In any case, these formulas depend of a choice of contraction onto Ext∗A(k,k) from some known model for RHomA(k, k).
  
Chapter 4. The Characteristic Action of Hochschild Cohomology 95
and Zhang from [50]: a strongly connected d-homogeneous algebra A is d-Koszul if and only if Ext∗A (k, k) is generated as a k algebra in weight 1 and 2.
All we need to know about them is the structure theorem of He and Lu [56], and the fact, courtesy of Green, Marcos, Mart ́ınez-Villa and Zhang, that our examples are themselves d-Koszul.
First, we mention that some intuition is given by the work Dotsenko and Valette in [36]. They prove that when A is d-Koszul the A∞ algebra A! satisfies a natural universal property. We sketch this now.
A minimal A∞ coalgebra is called (2,d)-reduced if its higher coproducts ∆n are zero except for n = 2, d and, if d ̸= 2, composing ∆d with itself in any entry is zero.
If we are given the d-homogeneous data (V,R), so V is a k bimodule and R ⊆ V⊗d, then we can associate the algebra A = A(V, R) = T(V )/(R).
At the same time, to the d-homogeneous data (W,S) we can associate an A∞ coalgebra as follows. By definition C = C(W,S) is the universal (2,d)-reduced A∞ coalgebra equipped with a map C → W
⊗d
is a unique strict morphism C′ → C over W.
There is a twisting cochain C(ΣV,ΣdR) → V → A = A(V,R) and Dotsenko and Valette establish
that this twisting cochain is acyclic if and only if A is d-Koszul. This makes precise the statement that A! = C(ΣV, ΣdR)∨ should be as simple as possible subject to theorem 9.
By dualising the above universal properties and exhibiting an explicit construction one recovers the structure theorem of He and Lu, which we state after some setup.
The d-homogeneous dual of A = A(V, R) is by definition the algebra A⊥ = A(V ∨, R⊥), where R⊥ is the orthogonal complement to R in (V ∨)⊗d ∼= (V ⊗d)∨. The weight w part is denoted Aw⊥.
∆d ⊗d ⊗d such that C −→ C → W
factors through S 􏰐→ W
C −→ C → W is zero. For any other (2, d)-reduced A∞ coalgebra satisfying these conditions there
∆2 ⊗2 ⊗2
Theorem 39 (He-Lu [56]). If A is a d-Koszul algebra then there are isomorphisms Ext2i(k, k) ∼= Σ−2iAid and Ext2i+1(k, k) ∼= Σ−2i−1Aid+1.
A⊥A⊥
The products mn are zero if n ̸= 2, d. Under the the above identification m2 is given by
Σ−2iAdi ⊗ Σ−2jAdj Σ−2(i+j)Ad(i+j) ⊥⊥⊥
Σ−2i−1Adi+1 ⊗ Σ−2jAdj Σ−2(i+j)−1Ad(i+j)+1 ⊥⊥⊥
Σ−2iAid ⊗ Σ−2j−1Adj+1 Σ−2nA(i+j)d+1 ⊥⊥⊥
all of these maps are induced by the standard product on A⊥, after moving all shifts to the front according to the Koszul sign rule. If d ̸= 2 then m2 vanishes on Σ−2i−1Aid+1 ⊗Σ−2j−1Adj+1. Finally, the operation
, and, if d ̸= 2, such that then the composition
   md vanishes if any of its inputs have even weight, and on odd weight it is the map Σ−2i1−1Ai1d+1 ⊗···⊗Σ−2id−1Ajd+1 Σ−2(i1+...+id+1)Ad(i1+...+id+1)
⊥⊥⊥
which is induced from the iterated product m(d) on A . 2⊥
⊥⊥
 The theorem has some immediate consequences:

Chapter 4. The Characteristic Action of Hochschild Cohomology 96 Theorem 40. Let A be d-Koszul. Then in even weight the A∞ centre of Ext∗A(k,k) coincides with its
graded centre
Z (Exteven(k, k)) = Z(Exteven(k, k)). ∞AA
This follows since the higher products vanish on even inputs.
Corollary 8. Let A be d-koszul and assume that A is nilpotent. Then the shearing map χ induces an isomorphism of graded algebras
HH∗(A, A)/(nil) ∼= Z(Ext∗A(k, k))/(nil) where (nil) is the nilradical on either side.
Indeed since m(n) : A⊗n → A is 0 for n ≫ 0 one easily sees that elements in Homπ(BA,A) are nilpotent since then f⌣n = m(n)(f ⊗ ... ⊗ f)∆(n) = 0 for n ≫ 0, and thus ker χ consists of nilpotent elements. If d > 2 then odd weight elements in Ext∗A(k,k) are nilpotent, while for d = 2 there is no higher structure, and the result follows.
Examples
We end by using theorem 39 to calculate a few interesting examples of A∞ centres.
If Q is a quiver with a set of objects Q0 we will take k = k×Q0. Then the path algebra kQ is by definition the tensor algebra Tk(Q). The set Qw of paths in Q of length w is a basis for the weight w part of kQ. We will always place Q in homological degree 1. So weight coincides with internal degree
and all our examples are strongly connected.
When drawing a quiver Q presenting an algebra A = kQ/(R) by a minimal set of relations R ⊆ kQ≥2,
a dashed arrow will indicate a relation connecting two objects. In other words, a dashed arrow from x to y means that yRx ̸= 0.
Our examples will be d-Koszul thanks to the following theorem.
Theorem 41 (Green-Marcos-Mart ́ınez-Villa-Zhang [50]). Assume that A = kQ/(R) where R is a set of paths in Qd. Then A is d-Koszul if and only if R has the d-covering property: for any three composable paths p,q,r of length at least 1, if both pq ands qr are in R then every subpath of pqr of length d is in ρ. In particular the d-truncated path algebras kQ/(Qd) is d-Koszul.
The first example is at this point almost classical. It seems that Madsen was the first to compute it [84].
Example 11. Let A = k[x]/(xd) with |x| = s even and d > 2. Then A! = Ext∗A(k,k) ∼= k[∂x,η] with |∂x| = −s − 1 and |η| = −sd − 2. Note that as an algebra A! is strictly graded commutative. However we will show that A! typically isn’t A∞ commutative (depending on the characteristic of k).
The non-trivial higher products are of the form
md(ηi1 ∂x ⊗ ... ⊗ ηid ∂x) = η(􏰆dm=1 im)+1
Let us calculate the higher commutators. From this formula we see that ad(ηj) = 0, while ad(ηj∂ )(∂⊗d−1) xx
    
Chapter 4.
The Characteristic Action of Hochschild Cohomology 97
is given by
This is 0 if and only if char(k) | d. When char(k) 􏱁 d this cannot be the image of a coboundary ∂π(p) for any p ∈ hoDer(A!,A!) = Homπ(BA!,A!). Indeed, writing (Σ∂x)⊗d−1 = [∂x|...|∂x], we have
d−2
∂π(p)􏰁[∂x|...|∂x]􏰂 = ∂(p)􏰁[∂x|...|∂x]􏰂 + 􏰈[π, ..., π; p]n,1􏰁[∂x|...|∂x]􏰂
n=1 = 0 + [π, p]􏰁[∂x|...|∂x]􏰂
= ±∂x · p([∂x|...|∂x]) + ±p([∂x|...|∂x]) · ∂x
and this is never of the form d · ηj+1 for any p : BA! → A!. It follows that [ad(∂xηj)] ̸= 0 in
H∗(hoDer(A!, A!)), and so

k[η] if char(k) 􏱁 d
Z∞(ExtA(k, k)) =
Note that for d = pr and char k = p surjectivity is expected since k[x]/(xd) is isomorphic to the Hopf
algebra kCd, where Cd is the cyclic group or order d. Example 12. Let A = kQ/(Q3), where Q is the quiver
1
ab
0c2
bound by relations Q3 = {cba, acb, bac}. The 3-homogeneous dual is simply A⊥ = kQop. Using theorem 39, as an algebra A! = ExtA(k, k) is given by kQ′/I where Q′ is
η1
1
∂c
η0 η2
where ∂a := Σ−1 a∗ , η0 = Σ−2 (a∗ b∗ c∗ ) comes from the 3-cycle in A⊥ , and similarly for the rest. The
d−1
ad(ηj∂ )(∂ ,...,∂ )=􏰈(−1)i(−1)im (∂⊗i ⊗ηj∂ ⊗∂⊗d−1−i)=d·ηj+1
xxx dxxx i=0
  k[∂x, η] if char(k) | d.
          ∂b 02
∂a
    
Chapter 4. The Characteristic Action of Hochschild Cohomology 98 relations generating I are given by
∂a∂b =0, ∂b∂c =0, ∂c∂a =0,
and
η0∂a = ∂aη1, η1∂b = ∂bη2, η2∂c = ∂cη0,
all inherited from A⊥. The degree 2 class η := η0 + η1 + η2 is then central and generates a polynomial
subalgebra k[η] ⊆ Z(ExtA(k, k)). The only higher products are given by m3(∂a ⊗∂b ⊗∂c)=η0
and its cyclic variants, all extended to be multi-linear over k[η].
The lack of odd oriented cycle shows that η generates Z(ExtA(k,k)). Since |η| is even theorem 40
shows that it is in the image of χ. It follows that Z∞(ExtA(k, k)) = k[η] and therefore HH∗(A, A)/(nil) ∼= k[η].
Example 13. Let A = kQ/(Q3) where Q is the quiver
0a1 db 3c2
bound by relations Q3 = {dcb, cda, dab, abc}. The 3-homogeneous algebra A! = ExtA(k, k) is given by kQ′/I where Q′ is
dual is
simply
A⊥ =
kQop. The
          ηa 01
  ∂a
ηd∂d ∂bηb
      3∂c 2 ηc
    with ∂a = Σ−1a∗, ηa = Σ−2b∗c∗d∗ as in example 12, and similarly for all the cyclic variations ∂b, ∂c, ∂d, ηb, ηc, ηd. The relations are given by
∂a∂b =0, ∂b∂c =0, ∂c∂d =0, ∂d∂a,
and
∂aηa = ηd∂d, ∂dηd = ηc∂c, ∂cηc = ηb∂b, ∂bηb = ηa∂a, all inherited from A⊥ as in example 12.

Chapter 4. The Characteristic Action of Hochschild Cohomology 99
Let γ0 := ∂aηa = ηd∂d be the simple cycle at 0, and let η0 := ηdηcηbηa be the long cycle at 0. We define γ1,γ2,γ3,η1,η2,η3 symetrically. Then let γ = 􏰆3i=0 γi and η = 􏰆3i=0 ηi , noting that |γ| = 3 and |η| = 8. Tedious but straightforward calculations in A⊥ show that γ, η generate Z(ExtA(k, k)) ∼= k[γ, η]. Since |η| is even, we know that η is in the image of χ, with only classes of the form ηrγ left to determine.
To compute the higher products we change notation slightly, denoting by ∂j←i the degree 1 arrow from i to j. We also denote by ηjr←i the monomial path in {η0,η1,η2,η3} going from i to j of length r. Theorem 39 shows that all higher products are sums of products of the form
m3(ηor←n ∂n←m ⊗ ηms ←l ∂l←k ⊗ ηkt ←j ∂j←i) = ηr+s+t+1 o←i
It follows that ad(ηnγ)(ηs ∂l←k ⊗ ηt ∂j←i) = 3 · η4n+s+t+1. This is 0 if and only if char(k) | 3, and m←l k←j m←i
when char(k) 􏱁 3 similar calculations to example 11 show that [ad(ηnγ)] ̸= 0 in H∗(hoDer(A!,A!)). We have shown
Z∞ExtA(k, k) =

k[η] if char(k) ̸= 3,
k[γ, η] if char(k) = 3.

Bibliography
[1]
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9]
[10]
[11]
[12]
J. F. Adams, On the cobar construction, Proc. Nat. Acad. Sci. U.S.A. 42 (1956), 409–412. MR 0079266 15
M. Andr ́e, L’alg`ebre de Lie d’un anneau local, Symposia Mathematica, Vol. IV (INDAM, Rome, 1968/69), Academic Press, London, 1970, pp. 337–375. MR 0276302 76
David J. Anick, A counterexample to a conjecture of Serre, Ann. of Math. (2) 115 (1982), no. 1, 1–33. MR 644015 59
, Hopf algebras up to homotopy, J. Amer. Math. Soc. 2 (1989), no. 3, 417–453. MR 991015
4
E. F. Assmus, Jr., On the homology of local rings, Illinois J. Math. 3 (1959), 187–199. MR 0103907 48
Luchezar Avramov and Stephen Halperin, Through the looking glass: a dictionary between rational homotopy theory and local algebra, Algebra, algebraic topology and their interactions (Stockholm, 1983), Lecture Notes in Math., vol. 1183, Springer, Berlin, 1986, pp. 1–27. MR 846435 2, 53, 57
Luchezar L. Avramov, Homology of local flat extensions and complete intersection defects, Math. Ann. 228 (1977), no. 1, 27–37. MR 0485836 57, 72, 73, 74
, Small homomorphisms of local rings, J. Algebra 50 (1978), no. 2, 400–453. MR 485906 5,
  59, 81
, Local algebra and rational homotopy, Algebraic homotopy and local algebra (Luminy, 1982), Ast ́erisque, vol. 113, Soc. Math. France, Paris, 1984, pp. 15–43. MR 749041 2, 3, 42, 46, 47, 50, 51, 53, 57, 76
, Golod homomorphisms, Algebra, algebraic topology and their interactions (Stockholm, 1983), Lecture Notes in Math., vol. 1183, Springer, Berlin, 1986, pp. 59–78. MR 846439 38, 39, 50, 58
, Local rings over which all modules have rational Poincar ́e series, J. Pure Appl. Algebra 91 (1994), no. 1-3, 29–48. MR 1255922 50, 59, 65
, Infinite free resolutions, Six lectures on commutative algebra (Bellaterra, 1996), Progr. Math., vol. 166, Birkh ̈auser, Basel, 1998, pp. 1–118. MR 1648664 30, 31, 33, 35, 41, 44, 50, 82
    100

Bibliography 101
[13] , Locally complete intersection homomorphisms and a conjecture of Quillen on the vanishing of cotangent homology, Ann. of Math. (2) 150 (1999), no. 2, 455–487. MR 1726700 2, 37, 50, 53, 56, 59, 83
[14] Luchezar L. Avramov and Ragnar-Olaf Buchweitz, Support varieties and cohomology over complete intersections, Invent. Math. 142 (2000), no. 2, 285–318. MR 1794064 2
[15] Luchezar L. Avramov, Hans-Bjø rn Foxby, and Bernd Herzog, Structure of local homomorphisms, J. Algebra 164 (1994), no. 1, 124–145. MR 1268330 8, 36, 37, 50, 62
[16] Luchezar L. Avramov, Vesselin N. Gasharov, and Irena V. Peeva, Complete intersection dimension, Inst. Hautes E ́tudes Sci. Publ. Math. (1997), no. 86, 67–114 (1998). MR 1608565 57
[17] Luchezar L. Avramov, Inˆes Bonacho Dos Anjos Henriques, and Liana M. S ̧ega, Quasi-complete intersection homomorphisms, Pure Appl. Math. Q. 9 (2013), no. 4, 579–612. MR 3263969 5, 37, 74, 82, 83
[18] Luchezar L. Avramov and Srikanth Iyengar, Finite generation of Hochschild homology algebras, Invent. Math. 140 (2000), no. 1, 143–170. MR 1779800 4, 33, 60, 63
[19] , Homological criteria for regular homomorphisms and for locally complete intersection homomorphisms, Algebra, arithmetic and geometry, Part I, II (Mumbai, 2000), Tata Inst. Fund. Res. Stud. Math., vol. 16, Tata Inst. Fund. Res., Bombay, 2002, pp. 97–122. MR 1940664 34
[20] , Andr ́e-Quillen homology of algebra retracts, Ann. Sci. E ́cole Norm. Sup. (4) 36 (2003), no. 3, 431–462. MR 1977825 52, 53, 54, 55, 56, 58, 59, 62, 65, 66, 68, 69
[21] Luchezar L. Avramov, Srikanth B. Iyengar, and Liana M.  ̧Sega, Free resolutions over short local rings, J. Lond. Math. Soc. (2) 78 (2008), no. 2, 459–476. MR 2439635 59
[22] Luchezar L. Avramov and Li-Chuan Sun, Cohomology operators defined by a deformation, J. Algebra 204 (1998), no. 2, 684–710. MR 1624432 57
[23] H. J. Baues and J.-M. Lemaire, Minimal models in homotopy theory, Math. Ann. 225 (1977), no. 3, 219–242. MR 0431172 22, 94
[24] Alexander Beilinson, Victor Ginzburg, and Wolfgang Soergel, Koszul duality patterns in represen- tation theory, J. Amer. Math. Soc. 9 (1996), no. 2, 473–527. MR 1322847 18, 20
[25] Roland Berger, Koszulity for nonquadratic algebras, J. Algebra 239 (2001), no. 2, 705–734. MR 1832913 6, 94
[26] Alexander Berglund, Poincar ́e series of monomial rings, J. Algebra 295 (2006), no. 1, 211–230. MR 2188858 41
[27] I. N. Bernˇste ̆ın, I. M. Gel′fand, and S. I. Gel′fand, Algebraic vector bundles on Pn and problems of linear algebra, Funktsional. Anal. i Prilozhen. 12 (1978), no. 3, 66–67. MR 509387 1
[28] Amalia Blanco, Javier Majadas, and Antonio G. Rodicio, Projective exterior Koszul homology and decomposition of the Tor functor, Invent. Math. 123 (1996), no. 1, 123–140. MR 1376249 37, 74, 83
   
Bibliography 102
[29] Richard E. Block, Commutative Hopf algebras, Lie coalgebras, and divided powers, J. Algebra 96
(1985), no. 1, 275–306. MR 808852 49
[30] B. Briggs and V. Gelinas, Formulas for A-infinity universal envelopes and ext algebras of commu-
tative rings, In preparation. 35
[31] , The A-infinity Centre of the Yoneda algebra and the characteristic Action of Hochschild
Cohomology on the Derived Category, ArXiv e-prints (2017). 1, 5, 8, 25, 26, 27, 28, 29, 84, 89, 93
[32] Ragnar-Olaf Buchweitz, Hochschild Cohomology of Koszul algebras, talk at the Conference on
Representation Theory, Canberra, July 2003. 88
[33] Ragnar-Olaf Buchweitz, Edward L. Green, Nicole Snashall, and Øyvind Solberg, Multiplicative
structures for Koszul algebras, Q. J. Math. 59 (2008), no. 4, 441–454. MR 2461267 6, 87
[34] J. Burke, Higher homotopies and Golod rings, ArXiv e-prints (2015). 40
[35] Aldo Conca, Gr ̈obner bases for spaces of quadrics of low codimension, Adv. in Appl. Math. 24 (2000), no. 2, 111–124. MR 1748965 59
[36] Vladimir Dotsenko and Bruno Vallette, Higher Koszul duality for associative algebras, Glasg. Math. J. 55 (2013), no. A, 55–74. MR 3110804 95
[37] Samuel Eilenberg and Saunders Mac Lane, On the groups H(Π, n). I, Ann. of Math. (2) 58 (1953), 55–106. MR 0056295 15
[38] Yves F ́elix and Stephen Halperin, Rational L.-S. category and its applications, Publ. U.E.R. Math. Pures Appl. IRMA 2 (1980), no. 3, exp. no. 5, 84. MR 618096 3, 4, 52, 53
[39] Yves F ́elix, Stephen Halperin, Carl Jacobsson, Clas L ̈ofwall, and Jean-Claude Thomas, The radical of the homotopy Lie algebra, Amer. J. Math. 110 (1988), no. 2, 301–322. MR 935009 4, 17, 33, 34, 45, 53, 56, 57, 76
[40] Yves F ́elix, Stephen Halperin, and Jean-Claude Thomas, The homotopy Lie algebra for finite complexes, Inst. Hautes E ́tudes Sci. Publ. Math. (1982), no. 56, 179–202 (1983). MR 686046 2
[41] Yves F ́elix, Stephen Halperin, and Jean-Claude Thomas, Rational homotopy theory, Graduate Texts in Mathematics, vol. 205, Springer-Verlag, New York, 2001. MR 1802847 52
[42] Yves F ́elix, Luc Menichi, and Jean-Claude Thomas, Gerstenhaber duality in Hochschild cohomol- ogy, J. Pure Appl. Algebra 199 (2005), no. 1-3, 43–59. MR 2134291 88, 89
[43] Yves F ́elix, Jean-Claude Thomas, and Micheline Vigu ́e-Poirrier, Loop homology algebra of a closed manifold, preprint (2003). 93
[44] Benoit Fresse, Koszul duality of operads and homology of partition posets, Homotopy theory: rela- tions with algebraic geometry, group cohomology, and algebraic K-theory, Contemp. Math., vol. 346, Amer. Math. Soc., Providence, RI, 2004, pp. 115–215. MR 2066499 43
[45] Murray Gerstenhaber, The cohomology structure of an associative ring, Ann. of Math. (2) 78 (1963), 267–288. MR 0161898 26, 91
 
Bibliography 103
[46] Murray Gerstenhaber and Alexander A. Voronov, Homotopy G-algebras and moduli space operad,
Internat. Math. Res. Notices 3 (1995), 141–153 (electronic). MR 1321701 91
[47] Ezra Getzler and John D. S. Jones, A∞-algebras and the cyclic bar complex, Illinois J. Math. 34
(1990), no. 2, 256–283. MR 1046565 27, 28
[48] Paul G. Goerss, On the Andr ́e-Quillen cohomology of commutative F2-algebras, Ast ́erisque (1990), no. 186, 169. MR 1089001 76
[49] E. S. Golod, Homologies of some local rings, Dokl. Akad. Nauk SSSR 144 (1962), 479–482. MR 0138667 38, 39
[50] E. L. Green, E. N. Marcos, R. Mart ́ınez-Villa, and Pu Zhang, D-Koszul algebras, J. Pure Appl. Algebra 193 (2004), no. 1-3, 141–162. MR 2076383 95, 96
[51] Edward L. Green, William H. Gustafson, and Dan Zacharia, Artin rings of global dimension two, J. Algebra 92 (1985), no. 2, 375–379. MR 778455 94
[52] Jorge Alberto Guccione and Juan Jos ́e Guccione, Hochschild homology of complete intersections, J. Pure Appl. Algebra 74 (1991), no. 2, 159–176. MR 1131470 35
[53] , Hochschild homology of complete intersections and smoothness, J. Pure Appl. Algebra 95 (1994), no. 2, 131–150. MR 1293050 35
[54] V. K. A. M. Gugenheim and J. Peter May, On the theory and applications of differential tor- sion products, American Mathematical Society, Providence, R.I., 1974, Memoirs of the American Mathematical Society, No. 142. MR 0394720 20
[55] Tor H. Gulliksen and Gerson Levin, Homology of local rings, Queen’s Paper in Pure and Applied Mathematics, No. 20, Queen’s University, Kingston, Ont., 1969. MR 0262227 31, 32, 33, 35, 40, 51, 71, 72
[56] Ji-Wei He and Di-Ming Lu, Higher Koszul algebras and A-infinity algebras, J. Algebra 293 (2005), no. 2, 335–362. MR 2172343 6, 94, 95
[57] Ju ̈rgen Herzog and Srikanth Iyengar, Koszul modules, J. Pure Appl. Algebra 201 (2005), no. 1-3, 154–188. MR 2158753 50
[58] Kathryn Hess, A history of rational homotopy theory, History of topology, North-Holland, Ams- terdam, 1999, pp. 757–796. MR 1721122 52
[59] Vladimir Hinich, Homological algebra of homotopy algebras, Comm. Algebra 25 (1997), no. 10, 3291–3323. MR 1465117 89, 91
[60] , DG coalgebras as formal stacks, J. Pure Appl. Algebra 162 (2001), no. 2-3, 209–250. MR 1843805 43
[61] Johannes Huebschmann, The homotopy type of FΨq. The complex and symplectic cases, Applica- tions of algebraic K-theory to algebraic geometry and number theory, Part I, II (Boulder, Colo., 1983), Contemp. Math., vol. 55, Amer. Math. Soc., Providence, RI, 1986, pp. 487–518. MR 862650 93
  
Bibliography 104
[62]
[63]
[64]
[65]
[66]
[67]
[68]
[69]
[70]
[71]
[72]
[73]
[74]
[75]
[76]
[77]
Dale Husemoller, John C. Moore, and James Stasheff, Differential homological algebra and homo- geneous spaces, J. Pure Appl. Algebra 5 (1974), 113–185. MR 0365571 16
T. V. Kadeishvili, The algebraic structure in the homology of an A(∞)-algebra, Soobshch. Akad. Nauk Gruzin. SSR 108 (1982), no. 2, 249–252 (1983). MR 720689 22, 90
, The structure of the A(∞)-algebra, and the Hochschild and Harrison cohomologies, Trudy Tbiliss. Mat. Inst. Razmadze Akad. Nauk Gruzin. SSR 91 (1988), 19–27. MR 1029003 88
Bernhard Keller, Deriving DG categories, Ann. Sci. E ́cole Norm. Sup. (4) 27 (1994), no. 1, 63–102. MR 1258406 19, 84
, Introduction to A-infinity algebras and modules, Homology Homotopy Appl. 3 (2001), no. 1, 1–35. MR 1854636 20
, A-infinity algebras in representation theory, Representations of algebra. Vol. I, II, Beijing Norm. Univ. Press, Beijing, 2002, pp. 74–86. MR 2067371 20, 23
, Addendum to: “Introduction to A-infinity algebras and modules” [Homology Homotopy Appl. 3 (2001), no. 1, 1–35; MR1854636 (2004a:18008a)], Homology Homotopy Appl. 4 (2002), no. 1, 25–28. MR 1905779 20
, Derived invariance of higher structures on the Hochschild complex, preprint (2003). 12, 14, 28, 30, 86, 88
, A-infinity algebras, modules and functor categories, Trends in representation theory of algebras and related topics, Contemp. Math., vol. 406, Amer. Math. Soc., Providence, RI, 2006, pp. 67–93. MR 2258042 13, 29
, On differential graded categories, International Congress of Mathematicians. Vol. II, Eur. Math. Soc., Zu ̈rich, 2006, pp. 151–190. MR 2275593 84
Maxim Kontsevich and Yan Soibelman, Homological mirror symmetry and torus fibrations, Sym- plectic geometry and mirror symmetry (Seoul, 2000), World Sci. Publ., River Edge, NJ, 2001, pp. 203–263. MR 1882331 94
Henning Krause and Yu Ye, On the centre of a triangulated category, Proc. Edinb. Math. Soc. (2) 54 (2011), no. 2, 443–466. MR 2794666 12
Tom Lada and Martin Markl, Strongly homotopy Lie algebras, Comm. Algebra 23 (1995), no. 6, 2147–2161. MR 1327129 41, 92
Kenji Lef`evre-Hasegawa, Sur les A-infini cat ́egories, Ph.D. thesis, Universit ́e Denis Diderot Paris 7, November 2003. 16, 17, 18, 24, 25, 26
Jean-Michel Lemaire, Alg`ebres connexes et homologie des espaces de lacets, Lecture Notes in Math- ematics, Vol. 422, Springer-Verlag, Berlin-New York, 1974. MR 0370566 52, 59, 65
Gerson Levin, Local rings and Golod homomorphisms, J. Algebra 37 (1975), no. 2, 266–289. MR 0429868 39, 48
       
Bibliography 105
[78] , Large homomorphisms of local rings, Math. Scand. 46 (1980), no. 2, 209–215. MR 591601
65, 74
[79] Gerson Louis Levin, HOMOLOGY OF LOCAL RINGS, ProQuest LLC, Ann Arbor, MI, 1965, Thesis (Ph.D.)–The University of Chicago. MR 2611555 47
[80] Jean-Louis Loday and Bruno Vallette, Algebraic operads, Grundlehren der Mathematischen Wis- senschaften [Fundamental Principles of Mathematical Sciences], vol. 346, Springer, Heidelberg, 2012. MR 2954392 10, 14, 15, 16, 18, 20, 21, 22, 24, 41, 42, 43, 91
[81] Wendy Lowen, Obstruction theory for objects in abelian and derived categories, Comm. Algebra 33 (2005), no. 9, 3195–3223. MR 2175388 91
[82] Di Ming Lu, John H. Palmieri, Quan Shui Wu, and James J. Zhang, Koszul equivalences in A∞- algebras, New York J. Math. 14 (2008), 325–378. MR 2430869 18
[83] Lazar Aronovitch Lusternik and L. Schnirelmann, M ́ethodes topologiques dans les problmes varia- tionnels., Actualit ́es scientifiques et industrielles 118 (1934). 52
[84] Dag Madsen, Homological aspects in representation theory, Ph.D. thesis, Trondheim, Norway, March 2002. 96
[85] J. P. May, The additivity of traces in triangulated categories, Adv. Math. 163 (2001), no. 1, 34–73. MR 1867203 77
[86] James E. McClure and Jeffrey H. Smith, A solution of Deligne’s Hochschild cohomology conjecture, Recent progress in homotopy theory (Baltimore, MD, 2000), Contemp. Math., vol. 293, Amer. Math. Soc., Providence, RI, 2002, pp. 153–193. MR 1890736 28, 91
[87] , Multivariable cochain operations and little n-cubes, J. Amer. Math. Soc. 16 (2003), no. 3, 681–704 (electronic). MR 1969208 91
[88] S. A. Merkulov, Strong homotopy algebras of a K ̈ahler manifold, Internat. Math. Res. Notices (1999), no. 3, 153–164. MR 1672242 93, 94
[89] John W. Milnor and John C. Moore, On the structure of Hopf algebras, Ann. of Math. (2) 81 (1965), 211–264. MR 0174052 47
[90] Barry Mitchell, Rings with several objects, Advances in Math. 8 (1972), 1–161. MR 0294454 29
[91] Saeed Nasseh and Sean Sather-Wagstaff, Cohen factorizations: weak functoriality and applications,
J. Pure Appl. Algebra 219 (2015), no. 3, 622–645. MR 3279378 51
[92] Cris Negron, Alternate Approaches to the Cup Product and Gerstenhaber Bracket on Hochschild Cohomology, ProQuest LLC, Ann Arbor, MI, 2015, Thesis (Ph.D.)–University of Washington. MR 3438933 24
[93] Leonid Positselski, Two kinds of derived categories, Koszul duality, and comodule-contramodule correspondence, Mem. Amer. Math. Soc. 212 (2011), no. 996, vi+133. MR 2830562 21
[94] Stewart B. Priddy, Koszul resolutions, Trans. Amer. Math. Soc. 152 (1970), 39–60. MR 0265437 18, 19, 20
  
Bibliography 106
[95] Daniel Quillen, Rational homotopy theory, Ann. of Math. (2) 90 (1969), 205–295. MR 0258031 3,
42, 43
[96] , On the (co-) homology of commutative rings, Applications of Categorical Algebra (Proc. Sympos. Pure Math., Vol. XVII, New York, 1968), Amer. Math. Soc., Providence, R.I., 1970, pp. 65–87. MR 0257068 35, 59, 76, 83
[97] , Cyclic cohomology and algebra extensions, K-Theory 3 (1989), no. 3, 205–246. MR 1040400 10
[98] Michael Schlessinger and James Stasheff, The Lie algebra structure of tangent cohomology and deformation theory, J. Pure Appl. Algebra 38 (1985), no. 2-3, 313–322. MR 814187 41, 89
[99] Colette Schoeller, Homologie des anneaux locaux noeth ́eriens, C. R. Acad. Sci. Paris S ́er. A-B 265 (1967), A768–A771. MR 0224682 40, 47, 48
[100] Shoham Shamir, A spectral sequence for the Hochschild cohomology of a coconnective DGA, Math. Scand. 112 (2013), no. 2, 182–215. MR 3073454 29
[101] Gunnar Sj ̈odin, Hopf algebras and derivations, J. Algebra 64 (1980), no. 1, 218–229. MR 575792 47
[102] Nicole Snashall and Øyvind Solberg, Support varieties and Hochschild cohomology rings, Proc. London Math. Soc. (3) 88 (2004), no. 3, 705–732. MR 2044054 6
[103] James Dillon Stasheff, Homotopy associativity of H-spaces. I, II, Trans. Amer. Math. Soc. 108 (1963), 275-292; ibid. 108 (1963), 293–312. MR 0158400 20
[104] Dmitry E. Tamarkin, Operadic proof of M. Kontsevich’s formality theorem, ProQuest LLC, Ann Arbor, MI, 1999, Thesis (Ph.D.)–The Pennsylvania State University. MR 2699544 28
[105] P. Tamaroff, Minimal models for monomial algebras, ArXiv e-prints (2018). 6, 94
[106] John Tate, Homology of Noetherian rings and local rings, Illinois J. Math. 1 (1957), 14–27. MR
0086072 33
[107] Bertrand To ̈en, The homotopy theory of dg-categories and derived Morita theory, Invent. Math.
167 (2007), no. 3, 615–667. MR 2276263 84
[108] Alexander A. Voronov, Homotopy Gerstenhaber algebras, Conf ́erence Mosh ́e Flato 1999, Vol. II (Dijon), Math. Phys. Stud., vol. 22, Kluwer Acad. Publ., Dordrecht, 2000, pp. 307–331. MR 1805923 28
[109] Charles A. Weibel, An introduction to homological algebra, Cambridge Studies in Advanced Math- ematics, vol. 38, Cambridge University Press, Cambridge, 1994. MR 1269324 10
[110] Klaus Wolffhardt, The Hochschild homology of complete intersections, Trans. Amer. Math. Soc. 171 (1972), 51–66. MR 0306192 35
[111] Fei Xu, Hochschild and ordinary cohomology rings of small categories, Adv. Math. 219 (2008), no. 6, 1872–1893. MR 2455628 6
  
Bibliography 107
[112] Justin Young, Brace Bar-Cobar Duality, Ph.D. thesis, E ́cole polytechnique f ́ed ́erale de Lausanne, 2013. 91
